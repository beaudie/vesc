{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4e455de3_db578708",
        "filename": "scripts/roll_aosp.sh",
        "patchSetId": 6
      },
      "lineNbr": 147,
      "author": {
        "id": 1520902
      },
      "writtenOn": "2024-09-09T22:22:10Z",
      "side": 1,
      "message": "I think it is clearer to add:\n\n1) gclient sync is part of the step in generate_Android_bp_file below.\n\n2) Files in all 3 options are retrieved by gclient sync. Difference is files in option 1. are checked-in into aosp third_party/angle. Files in option 2. and option 3. are not checked-in into aosp.",
      "revId": "d72f9ae0123fbb34bdd16602698b2b2c7055ef40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f83db9f_c2cf20d3",
        "filename": "scripts/roll_aosp.sh",
        "patchSetId": 6
      },
      "lineNbr": 157,
      "author": {
        "id": 1520902
      },
      "writtenOn": "2024-09-09T22:22:10Z",
      "side": 1,
      "message": "Could we add a comment explaining why we need to remove `.git` from them before running `git add`?",
      "revId": "d72f9ae0123fbb34bdd16602698b2b2c7055ef40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25aa833f_e435dfb5",
        "filename": "scripts/roll_aosp.sh",
        "patchSetId": 6
      },
      "lineNbr": 243,
      "author": {
        "id": 1520902
      },
      "writtenOn": "2024-09-09T22:22:10Z",
      "side": 1,
      "message": "I think it would be clearer if we add this part of the original comment:\n\n```\nso we delete everything not explicitly allowed\n```",
      "revId": "d72f9ae0123fbb34bdd16602698b2b2c7055ef40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d5f6435_7d8b629a",
        "filename": "scripts/roll_aosp.sh",
        "patchSetId": 6
      },
      "lineNbr": 243,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2024-09-12T15:24:46Z",
      "side": 1,
      "message": "It might be clearer but it would also be incorrect and misleading :)\n\nWe don\u0027t delete everything not explicitly allowed. What happens is:\n* We delete what we explicitly chose to delete with `delete_after_codegen_paths`\n* git commands automatically ignore sub-dirs that have `.git` in them - which is the case for many, but not all, deps\n * To avoid the git behavior above in case we do want those files in aosp, we delete those `.git` subdirs - so after that files that we `git add` actually become part of the git commit and the aosp repository\n\nNote that this step is only the last part of this process where we `git add` all of the things we did above, so I don\u0027t think it\u0027s the right place to describe what is going on. That\u0027s why I have an entire \"overview\" section above to try to explain that. I know this is confusing, LMK if you have ideas how to make it more clear.",
      "parentUuid": "25aa833f_e435dfb5",
      "revId": "d72f9ae0123fbb34bdd16602698b2b2c7055ef40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea274a00_2b722a13",
        "filename": "scripts/roll_aosp.sh",
        "patchSetId": 6
      },
      "lineNbr": 243,
      "author": {
        "id": 1520902
      },
      "writtenOn": "2024-09-12T19:31:52Z",
      "side": 1,
      "message": "I see. Thank you for the explanations. Maybe add a comment to clarify again what is included in `git_add_paths`:\n\n```\n# Add all changes under git_add_paths to sync changes (including deletion) in those dirs to AOSP, this means:\n\n1. Delete files under delete_after_codegen_paths.\n2. Add files under copy_to_aosp_paths\n```\n\nI know this is stated in line 194, I just felt it is clearer to restate what we mean with `git_add_paths`. So feel free keep the current comment, both way works.",
      "parentUuid": "2d5f6435_7d8b629a",
      "revId": "d72f9ae0123fbb34bdd16602698b2b2c7055ef40",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}