{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "637916fa_c99f2aa9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2022-05-31T19:26:19Z",
      "side": 1,
      "message": "Jamie, Geoff: PTAL. Thanks!",
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e521a3ee_2f8c972c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-06-01T17:31:43Z",
      "side": 1,
      "message": "No additional comments.",
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "857dc9e0_da22745c",
        "filename": "src/libANGLE/renderer/d3d/d3d11/TextureStorage11.cpp",
        "patchSetId": 7
      },
      "lineNbr": 251,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2022-06-01T15:41:34Z",
      "side": 1,
      "message": "This should still call verifySwizzleExists (or be removed entirely).",
      "range": {
        "startLine": 251,
        "startChar": 8,
        "endLine": 251,
        "endChar": 42
      },
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "afc2fa2e_5b3fc556",
        "filename": "src/libANGLE/renderer/d3d/d3d11/TextureStorage11.cpp",
        "patchSetId": 7
      },
      "lineNbr": 251,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2022-06-01T19:26:33Z",
      "side": 1,
      "message": "Oops, edit-o. Fixed.",
      "parentUuid": "857dc9e0_da22745c",
      "range": {
        "startLine": 251,
        "startChar": 8,
        "endLine": 251,
        "endChar": 42
      },
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "050d5917_9fa91cdf",
        "filename": "src/libANGLE/renderer/d3d/d3d11/TextureStorage11.cpp",
        "patchSetId": 7
      },
      "lineNbr": 338,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2022-06-01T15:41:34Z",
      "side": 1,
      "message": "A bit gross but I guess using a vector/array of these is overhead.",
      "range": {
        "startLine": 333,
        "startChar": 0,
        "endLine": 338,
        "endChar": 67
      },
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7718f3f1_9d13c397",
        "filename": "src/libANGLE/renderer/d3d/d3d11/TextureStorage11.cpp",
        "patchSetId": 7
      },
      "lineNbr": 338,
      "author": {
        "id": 1115763
      },
      "writtenOn": "2022-06-01T17:22:40Z",
      "side": 1,
      "message": "I\u0027m actually thinking that stencil sampling should never fall back to regular sampling. I\u0027ll see if that cleans this up a bit.",
      "parentUuid": "050d5917_9fa91cdf",
      "range": {
        "startLine": 333,
        "startChar": 0,
        "endLine": 338,
        "endChar": 67
      },
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "18f37b9f_3f164880",
        "filename": "src/libANGLE/renderer/d3d/d3d11/TextureStorage11.cpp",
        "patchSetId": 7
      },
      "lineNbr": 338,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2022-06-01T19:26:33Z",
      "side": 1,
      "message": "OK, I\u0027ve changed the stencilSRVFormat for all non-depth/stencil formats to DXGI_FORMAT_UNKNOWN, so it would be a bad idea to fall back. I\u0027ve restored the old fallback logic for blit/sample, and removed the fallback logic for stencil.",
      "parentUuid": "7718f3f1_9d13c397",
      "range": {
        "startLine": 333,
        "startChar": 0,
        "endLine": 338,
        "endChar": 67
      },
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "583c896e_f7310120",
        "filename": "src/libANGLE/renderer/d3d/d3d11/renderer11_utils.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2722,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2022-06-01T15:41:34Z",
      "side": 1,
      "message": "I think we may need to do this swizzle ON TOP of the existing swizzle state. So something like:\n\n    gl::SwizzleState swizzleState \u003d textureState.getSwizzleState();\n    if (textureState.isStencilMode())\n    {\n        // Move the stencil channel from G to R, as per GL semantics.\n        std::swap(swizzleState.swizzleRed, swizzleState.swizzleGreen);\n    }\n    return swizzleState;",
      "range": {
        "startLine": 2722,
        "startChar": 8,
        "endLine": 2722,
        "endChar": 68
      },
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfd052ae_2e45c09a",
        "filename": "src/libANGLE/renderer/d3d/d3d11/renderer11_utils.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2722,
      "author": {
        "id": 1115763
      },
      "writtenOn": "2022-06-01T17:17:19Z",
      "side": 1,
      "message": "I tried that exact code first, actually. Fun fact: Intel and NVidia drivers disagree about what should be in the red channel when sampling from X24S8. Intel says 1.0, NVidia says 0.0. ðŸ˜Š\n\nBut maybe it should be swizzleState.swizzleGreen, 0, 0, 1. So at least the stencil swizzle is taken into account. I\u0027ll write a test.",
      "parentUuid": "583c896e_f7310120",
      "range": {
        "startLine": 2722,
        "startChar": 8,
        "endLine": 2722,
        "endChar": 68
      },
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42128735_69a8d46a",
        "filename": "src/libANGLE/renderer/d3d/d3d11/renderer11_utils.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2722,
      "author": {
        "id": 1115763
      },
      "writtenOn": "2022-06-01T17:22:40Z",
      "side": 1,
      "message": "(See PS3: https://chromium-review.googlesource.com/c/angle/angle/+/3679485/3)",
      "parentUuid": "bfd052ae_2e45c09a",
      "range": {
        "startLine": 2722,
        "startChar": 8,
        "endLine": 2722,
        "endChar": 68
      },
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed4516b0_bada833f",
        "filename": "src/libANGLE/renderer/d3d/d3d11/renderer11_utils.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2722,
      "author": {
        "id": 1116015
      },
      "writtenOn": "2022-06-01T19:26:33Z",
      "side": 1,
      "message": "OK, I think this works now. I added map to ensure the resulting components are mapped to the correct values (0 for red and blue, 1 for alpha). Added a test.",
      "parentUuid": "42128735_69a8d46a",
      "range": {
        "startLine": 2722,
        "startChar": 8,
        "endLine": 2722,
        "endChar": 68
      },
      "revId": "1e621c824c0f797b8ea0105c1fe8a04b3a4f0c72",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}