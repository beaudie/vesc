{
  "comments": [
    {
      "key": {
        "uuid": "58c00ac4_805dee82",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2019-03-21T20:34:50Z",
      "side": 1,
      "message": "Does this work for Android builds also?\n\nFor Android build within Chromium, out/ is not at the base of the ANGLE source, but Chromium\u0027s:\n\nchromium/src/out\nchromium/src/third_party/angle/src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py\n\nAndroid builds are done with Chromium\u0027s src/:\ntimvp@timvp:~/code/chromium/src$ autoninja -v -C out/Debug third_party/angle:angle_apk",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6268b8d_3bcbbb02",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1326275
      },
      "writtenOn": "2019-03-21T20:44:41Z",
      "side": 1,
      "message": "My impression was that this is only necessary to run when changing internal shaders to Angle, and you wouldn\u0027t run the code generation for a chromium build. But I might not fully understand so I\u0027ll let Jamie or Shabbi answer.",
      "parentUuid": "58c00ac4_805dee82",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca47667e_f0068468",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-03-21T20:45:03Z",
      "side": 1,
      "message": "It specifically avoids running this script from chromium.",
      "parentUuid": "58c00ac4_805dee82",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2c5d855_f550afef",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2019-03-21T21:08:43Z",
      "side": 1,
      "message": "So when we are building ANGLE in Chromium (for Android) and run:\n\ntimvp@timvp:~/code/chromium/src/third_party/angle$ python scripts/run_code_generation.py\n\nWill all of the necessary files still be updated?   Or will I need a second copy of ANGLE outside of Chromium with my changes?",
      "parentUuid": "ca47667e_f0068468",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0bcfa20_aa88588f",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-03-21T21:11:58Z",
      "side": 1,
      "message": "It probably works as long as you have the right development setup.",
      "parentUuid": "c2c5d855_f550afef",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d582c7e_292f32ad",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2019-03-21T21:19:38Z",
      "side": 1,
      "message": "What is the right development setup and how do we set it up?\n\nThe way this is written, I\u0027m thinking it won\u0027t work for Android.   There is no out/ within angle/ in a Chromium build, so it will throw the exception until I clone my changes into a standalone angle checkout.   Has anyone tried this within a Chromium checkout?\n\nMy concern is that these types of gotchas will start popping up more as more Android developers join ANGLE development.",
      "parentUuid": "d0bcfa20_aa88588f",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d58f1f86_aa973ae0",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2019-03-21T21:26:14Z",
      "side": 1,
      "message": "What you did.\ncd third_party/angle\npython scripts/bootstrap.py\ngclient sync",
      "parentUuid": "1d582c7e_292f32ad",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a84a980a_eda11eba",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2019-03-21T21:32:44Z",
      "side": 1,
      "message": "That doesn\u0027t end up with chromium/src/third_party/angle/out though.\n\nInstead, out/ is in chromium/src/out, which this change will not be able to find anymore.",
      "parentUuid": "d58f1f86_aa973ae0",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce8412e2_d3520dc9",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2019-03-21T21:44:11Z",
      "side": 1,
      "message": "Indeed, I also wondered, I don\u0027t name my directories \"out\", so why does this work for me?\nThe answer is, this works fine as long as you don\u0027t touch the sources of autogenerated files.\nIf you do, you also need:\ncd third_party/angle\ngn args out/Release\nThen it will work.",
      "parentUuid": "a84a980a_eda11eba",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b43b97ae_077c7dd1",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2019-03-21T21:51:03Z",
      "side": 1,
      "message": "Oh, I see now.\n\nI have been building Linux and Android from Chromium src/:\n\nLinux:\ntimvp@timvp:~/code/chromium/src$ autoninja -v -C out/LinuxDebug angle_end2end_tests\nAndroid:\ntimvp@timvp:~/code/chromium/src$ autoninja -v -C out/Debug angle_end2end_tests\n\nBut instead, when I change auto-generated stuff, I need to build Linux in angle/ with:\n\ntimvp@timvp:~/code/chromium/src/third_party/angle$ gn args out/LinuxDebug\ntimvp@timvp:~/code/chromium/src/third_party/angle$ autoninja -v -C out/LinuxDebug angle_end2end_tests\ntimvp@timvp:~/code/chromium/src/third_party/angle$ python scripts/run_code_generation.py\n\nThat seems like it should work since we are always telling it where out/ is relative to where we are issuing the command.",
      "parentUuid": "ce8412e2_d3520dc9",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a22db45e_c6c2c1b2",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-03-21T21:52:35Z",
      "side": 1,
      "message": "üëç \n\nI\u0027d like to move more to a world where we don\u0027t need to use Chromium for Android stuff. But it\u0027ll probably take us a while to get there.",
      "parentUuid": "b43b97ae_077c7dd1",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6a6f04d_a9d32d91",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_internal_shaders.py",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2019-03-21T21:58:53Z",
      "side": 1,
      "message": "Sometimes you do want to build Linux inside of Chromium, regardless of how Android build is done.\nBecause Chromium build uses different test runner from standalone ANGLE, and since build bots build inside Chromium, sometimes you need Chromium build to better imitate build bots.\nI think just \"python scripts/run_code_generation.py\" should be done in third_party/angle, the rest can be done in Chromium.",
      "parentUuid": "a22db45e_c6c2c1b2",
      "revId": "9e586a0f8a1ce38347a487dd6b6c9b1f13b984c7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}