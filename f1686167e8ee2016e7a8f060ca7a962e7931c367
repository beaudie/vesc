{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "00334e41_cf5d8ff9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1491687
      },
      "writtenOn": "2022-04-28T15:52:32Z",
      "side": 1,
      "message": "It seem that the issue is related to depth, as it does not occur when the first pass has only a color attachment.\nFurthermore it does not occur if the order of the 2nd pass\u0027 draw calls change and requires the depth texture to be bound to different shader stages. Updated the comments in the test.",
      "revId": "f1686167e8ee2016e7a8f060ca7a962e7931c367",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5fdd235b_de51cb66",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-04-28T16:11:41Z",
      "side": 1,
      "message": "Before landing, I still wonder if we can simplify the test further.",
      "revId": "f1686167e8ee2016e7a8f060ca7a962e7931c367",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10df1e92_64592303",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1491687
      },
      "writtenOn": "2022-05-03T14:32:15Z",
      "side": 1,
      "message": "I was able to simplify the test further by not binding a frame buffer for the second pass and not setting `glDepthMask(GL_TRUE)` in the second pass, and still reproducing the issue.\n\nHowever the first pass needs to be drawn into a depth frame buffer to reproduce the issue. Also the second pass needs to have 2 draws, one with the sampler bound to the fragment stage and the other with the sampler bound to the vertex stage to reproduce. Changing the order or reusing the shader did not reproduce.",
      "parentUuid": "5fdd235b_de51cb66",
      "revId": "f1686167e8ee2016e7a8f060ca7a962e7931c367",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7ab66140_51326bb1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-05-05T14:39:40Z",
      "side": 1,
      "message": "Thanks Lubosz.  Going to go ahead and merge this as folks are starting to look at it.",
      "parentUuid": "10df1e92_64592303",
      "revId": "f1686167e8ee2016e7a8f060ca7a962e7931c367",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}