{
  "comments": [
    {
      "key": {
        "uuid": "2492bfca_7c2ea6d8",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Framebuffer11.cpp",
        "patchSetId": 18
      },
      "lineNbr": 447,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2017-08-23T14:14:12Z",
      "side": 1,
      "message": "Let\u0027s assume that \"this\" framebuffer is the draw framebuffer. It will mean that on blit, readpixels and copyTexImage we do this state update, which isn\u0027t optimal, but it\u0027s ok for now. We can fix this in the future.\n\nThis check can become (mState.getFirstNonNullAttachment() !\u003d nullptr \u0026\u0026 (mState.getDefaultWidth() !\u003d 0 || mState.getDefaultHeight() !\u003d 0))",
      "range": {
        "startLine": 443,
        "startChar": 0,
        "endLine": 447,
        "endChar": 5
      },
      "revId": "96cb92a45af38538a3d834222411e3452f216064",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf6a4119_5f2a91d0",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Framebuffer11.cpp",
        "patchSetId": 18
      },
      "lineNbr": 447,
      "author": {
        "id": 1167049
      },
      "writtenOn": "2017-08-24T07:55:05Z",
      "side": 1,
      "message": "Hi Jamie, I\u0027m confused. Do you mean if the draw framebuffer has no attachment and the default width or height is set, then the drawing pixels are throwned away when calling readpixels, copyTexImage or blit, so we don\u0027t need to sync view port?",
      "parentUuid": "2492bfca_7c2ea6d8",
      "range": {
        "startLine": 443,
        "startChar": 0,
        "endLine": 447,
        "endChar": 5
      },
      "revId": "96cb92a45af38538a3d834222411e3452f216064",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ca2b5a1_efd1ce0b",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Framebuffer11.cpp",
        "patchSetId": 18
      },
      "lineNbr": 447,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2017-08-24T17:01:06Z",
      "side": 1,
      "message": "No, I mean instead of checking the context for the draw framebuffer, assume that when we\u0027re in this function the current framebuffer (this pointer) is the draw framebuffer.",
      "parentUuid": "cf6a4119_5f2a91d0",
      "range": {
        "startLine": 443,
        "startChar": 0,
        "endLine": 447,
        "endChar": 5
      },
      "revId": "96cb92a45af38538a3d834222411e3452f216064",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca821850_39d17f72",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Framebuffer11.cpp",
        "patchSetId": 18
      },
      "lineNbr": 447,
      "author": {
        "id": 1167049
      },
      "writtenOn": "2017-08-25T14:12:17Z",
      "side": 1,
      "message": "Hi Jamie, I realized that the check should remove mState.getFirstNonNullAttachment() !\u003d nullptr, so it will be if(mState.getDefaultWidth() !\u003d 0 || mState.getDefaultHeight() !\u003d 0).\n\nConsider the scenario,if the framebuffer has removed its attachment, the size of the framebuffer should be the default size, viewport should also sync in this case.\nI have wrote an end2end test case to validate the code.",
      "parentUuid": "9ca2b5a1_efd1ce0b",
      "range": {
        "startLine": 443,
        "startChar": 0,
        "endLine": 447,
        "endChar": 5
      },
      "revId": "96cb92a45af38538a3d834222411e3452f216064",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}