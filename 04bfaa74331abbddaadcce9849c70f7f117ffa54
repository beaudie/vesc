{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ae61308d_28f6c01b",
        "filename": "src/libANGLE/renderer/metal/mtl_resources.mm",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1449558
      },
      "writtenOn": "2024-08-26T09:36:32Z",
      "side": 1,
      "message": "I think the general pattern is to just call supportsAppleGPUFamily(1) for all platforms, instead of ifdefing with the knowledge that iOS family always supports it. It should take care of simulator case, which might not support memoryless theoretically on non-ASi machines.\n\nIt\u0027s clear from the context that the query is for memoryless support, so it\u0027d be ok for me if the temporary bool was omitted\nE.g.\n\n\n    if (context-\u003egetDisplay()-\u003esupportsAppleGPUFamily(1))\n    {\n      ...\n    }\n    else\n    {\n      ...\n    }\n\nOr a ternary operator.",
      "revId": "04bfaa74331abbddaadcce9849c70f7f117ffa54",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79f06215_c87562ef",
        "filename": "src/libANGLE/renderer/metal/mtl_resources.mm",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2024-08-26T10:24:33Z",
      "side": 1,
      "message": "\u003e It should take care of simulator case, which might not support memoryless theoretically on non-ASi machines.\n\nWould `supportsAppleGPUFamily(1)` be false for Simulator running on non-ASi machines? I remember docs saying that Simulator always supports at least Apple3.",
      "parentUuid": "ae61308d_28f6c01b",
      "revId": "04bfaa74331abbddaadcce9849c70f7f117ffa54",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e21598d_00a7940b",
        "filename": "src/libANGLE/renderer/metal/mtl_resources.mm",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1449558
      },
      "writtenOn": "2024-08-26T11:27:20Z",
      "side": 1,
      "message": "https://developer.apple.com/documentation/metal/developing_metal_apps_that_run_in_simulator?language\u003dobjc\n\nHere it says \"similar to Apple2\", whatever that means. But the point being that the code maybe could be written without ifdefs. Just a suggestion, I\u0027m not hung  up on it.",
      "parentUuid": "79f06215_c87562ef",
      "revId": "04bfaa74331abbddaadcce9849c70f7f117ffa54",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad6e2c8b_458e7c8d",
        "filename": "src/libANGLE/renderer/metal/mtl_resources.mm",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2024-08-26T13:11:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e21598d_00a7940b",
      "revId": "04bfaa74331abbddaadcce9849c70f7f117ffa54",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}