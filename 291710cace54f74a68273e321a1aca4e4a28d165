{
  "comments": [
    {
      "key": {
        "uuid": "386c7ff9_d174c11d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-06-05T17:40:55Z",
      "side": 1,
      "message": "please mention this is a specific slot on Android reserved for the OpenGL driver. Is there a link to a public spec or doc somewhere?",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 17,
        "endChar": 37
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d04051ae_e988bdc5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-06-08T14:40:42Z",
      "side": 1,
      "message": "https://android.googlesource.com/platform/bionic/+/refs/heads/master/libc/platform/bionic/tls_defines.h",
      "parentUuid": "386c7ff9_d174c11d",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 17,
        "endChar": 37
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b62c9d2f_c2b1dc8a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-06-05T17:40:55Z",
      "side": 1,
      "message": "please file a bug for this.",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 19,
        "endChar": 9
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b87a71a0_f3c8187f",
        "filename": "src/common/tls.h",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-06-05T17:40:55Z",
      "side": 1,
      "message": "we need to make sure this only applies to the Vulkan back-end. It might be why you\u0027re seeing errors on the GL back-end. Not sure immediately on the best way to do this.",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 134,
        "endChar": 30
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "edc211de_ec202144",
        "filename": "src/common/tls.h",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-06-05T18:32:10Z",
      "side": 1,
      "message": "One way is to only enable this optimization if the GL backend is not built, as the GL driver could be using this slot as well.",
      "parentUuid": "b87a71a0_f3c8187f",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 134,
        "endChar": 30
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a03d515a_c920dfa8",
        "filename": "src/common/tls.h",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2020-06-05T19:03:18Z",
      "side": 1,
      "message": "Note that the GL backend is enabled by default (meaning this would be disabled by default also):\n\nangle_enable_gl\n    Current value (from the default) \u003d true\n      From //gni/angle.gni:97\n\nWe should work on removing all of the non-vulkan backends for Android builds anyway to reduce the binary size, but this arg will need to be added to the recommended \"performance\" configs for local standalone builds if we decide to go this route.",
      "parentUuid": "edc211de_ec202144",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 134,
        "endChar": 30
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6acbc31_e1f925ae",
        "filename": "src/common/tls.h",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-06-05T19:08:18Z",
      "side": 1,
      "message": "I like living in a test-what-we-ship world if we can. Maybe we can do this dynamically without a significant cost.",
      "parentUuid": "a03d515a_c920dfa8",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 134,
        "endChar": 30
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34cde17b_fa52f14f",
        "filename": "src/common/tls.h",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2020-06-05T19:26:28Z",
      "side": 1,
      "message": "It is very likely we will be shipping vulkan only ANGLE binaries for Android, so testing that in CQ should be done rather than relying on Android\u0027s CTS for that flavor of ANGLE builds.\n\nWe can\u0027t ship all backends with ANGLE due to size constraints:\n- The amount of storage on the device should be considered, though I don\u0027t think any OEMs have expressed huge concern here yet they may when combined with updatable drivers and multiple copies for rolling back.\n- OTAs need to be as small as possible:\n  - When dealing with billions of users we need to reduce the Play Store bandwidth requirements.\n  - Respect user\u0027s data plans (many are paying per byte without WiFi).\n  - Reduce the amount of time to download the updates themselves since many Android users may not have broadband access.",
      "parentUuid": "b6acbc31_e1f925ae",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 134,
        "endChar": 30
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0ca9606_510daa22",
        "filename": "src/common/tls.h",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-06-05T19:28:00Z",
      "side": 1,
      "message": "This conversation has quickly outstripped the confines of this CL. For now let\u0027s keep assuming we just want to land this feature in a non-disruptive way. Hence the suggestion to look for a dynamic implementation that doesn\u0027t cost performance.",
      "parentUuid": "34cde17b_fa52f14f",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 134,
        "endChar": 30
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a9901c9_3fb412d4",
        "filename": "src/common/tls.h",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-06-05T19:28:21Z",
      "side": 1,
      "message": "Did we really need the reasons to be spelled out to remove backends that won\u0027t be used? :D",
      "parentUuid": "34cde17b_fa52f14f",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 134,
        "endChar": 30
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51b1b150_24a5b9a0",
        "filename": "src/common/tls.h",
        "patchSetId": 4
      },
      "lineNbr": 134,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-06-08T14:35:36Z",
      "side": 1,
      "message": "\u003e dynamic implementation that doesn\u0027t cost performance\n\nThis is kludgy but if we can have a global state for what backend we are using, which is set when display gets initialized, we can if-else the TLS logic. WDYT?",
      "parentUuid": "6a9901c9_3fb412d4",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 134,
        "endChar": 30
      },
      "revId": "291710cace54f74a68273e321a1aca4e4a28d165",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}