{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e1f34fb0_919f66d6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-10-22T17:18:57Z",
      "side": 1,
      "message": "I believe a previous optimization of yours somewhere else did the same thing (convert atomic_bool to atomic_int). I believe the difference came down to C++ requiring bool to have a value of 0 or 1. So after loading from the atomic, it was adding an instruction to turn every non-0 value to 1. With atomic_int, you don\u0027t have the extra instruction.",
      "revId": "b53c88a618dee6fc401628ad4e8ab5518bc27bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8ad2b8c6_51592ec9",
        "filename": "src/common/WorkerThread.cpp",
        "patchSetId": 3
      },
      "lineNbr": 60,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-10-22T17:18:57Z",
      "side": 1,
      "message": "Suggest adding comment in `markAsReady` that you need release to synchronize with isReady()\u0027s load, which does not happen under the mutex.\n\n---\n\nThat said, why not remove the mutex from `markAsReady()` and change the load to acquire here instead?",
      "revId": "b53c88a618dee6fc401628ad4e8ab5518bc27bf3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}