{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7eef86a4_b303a2f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-06-02T15:01:00Z",
      "side": 1,
      "message": "PTAL, changes added\n\nThere is skia Gold bot differences. I don\u0027t know what to do about that. If it is a protected vs unprotected then we should see black vs image? But the differences show different pixels.\n\nThe android failure is all this (don\u0027t seem related to my changes):\nI   26.093s run_tests_on_device(9A241FFAZ001E6)  Failed\nI   26.093s run_tests_on_device(9A241FFAZ001E6)  RendererVk.cpp:364 (DebugUtilsMessenger): [ VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02769 ] Validation Error: [ VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02769 ] Object 0: handle \u003d 0xb400006f472b8130, type \u003d VK_OBJECT_TYPE_DEVICE; | MessageID \u003d 0xbf433601 | vkCreateGraphicsPipelines(): pCreateInfos[0] lineRasterizationMode \u003d VK_LINE_RASTERIZATION_MODE_BRESENHAM_EXT requires the bresenhamLines feature. The Vulkan spec states: If lineRasterizationMode is VK_LINE_RASTERIZATION_MODE_BRESENHAM_EXT, then the bresenhamLines feature must be enabled (https://www.khronos.org/registry/vulkan/specs/1.2-extensions/html/vkspec.html#VUID-VkPipelineRasterizationLineStateCreateInfoEXT-lineRasterizationMode-02769)\n\nThe clang failures are this (don\u0027t seem related to my changes):\n[ RUN      ] TracePerfTest.Run/vulkan_aliexpress\nWarning: setpriority failed in StabilizeCPUForBenchmarking. Process will retain default priority: Permission denied\nGL_RENDERER: ANGLE (Intel, Vulkan 1.1.96 (Intel(R) HD Graphics 630 (Kaby Lake GT2) (0x00005912)), Intel open-source Mesa driver-19.0.2)\n\n",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "35eb4f24_93543536",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-06-05T04:34:17Z",
      "side": 1,
      "message": "Sorry about the slow review. I ran the failing bot again, but the VVL error seems suspicious. The bresenhamLines feature must be enabled on the \"device\", so which queue family is chosen shouldn\u0027t matter. Maybe VVL is getting confused about something?\n\n@Geoff, there\u0027s a question here for you.",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "223267f3_69dfff29",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-06-08T16:53:33Z",
      "side": 1,
      "message": "Responses.\nUpload coming, but just has \"#include \u003ciostream\u003e\" removed.",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "be652413_daf4a18c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-06-08T21:02:34Z",
      "side": 1,
      "message": "See: RendererVk.cpp Line:1691\nSee: RendererVk.cpp Line:139\nSee RendererVk.cpp Line: 2176 - Seems to be the failure",
      "parentUuid": "35eb4f24_93543536",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b79e8cfe_7a54ba95",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-06-08T21:15:37Z",
      "side": 1,
      "message": "See vk_cache_utils.cpp Line: 1992",
      "parentUuid": "be652413_daf4a18c",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27571914_08cccb70",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-06-10T21:17:58Z",
      "side": 1,
      "message": "FYI, you can force-enable the emulation path for debugging like this:\n\n     if (ExtensionFound(VK_EXT_LINE_RASTERIZATION_EXTENSION_NAME, deviceExtensionNames))\n     {\n-        vk::AddToPNextChain(\u0026deviceFeatures, \u0026mLineRasterizationFeatures);\n+        // vk::AddToPNextChain(\u0026deviceFeatures, \u0026mLineRasterizationFeatures);\n     }\n\nwhich basically doesn\u0027t query the features from the device in the first place (and the rest of the code thinks it\u0027s not supported)",
      "parentUuid": "b79e8cfe_7a54ba95",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e8960cd_358359cf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-06-10T23:25:11Z",
      "side": 1,
      "message": "sure\nThe logic here seems to match the VU from the spec. So its curious to get a failure, sicen I did not change. I\u0027m guessing that at the point of vkCreateGraphicsPipelines there is something not right, maybe something missing needed PROTECTED_BIT and this is the error gets triggered in the Validation layer?",
      "parentUuid": "27571914_08cccb70",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "023394a5_60b30085",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 16
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-07-07T17:21:35Z",
      "side": 1,
      "message": "Had to fix this. Had feature added in 2 places, one wrong.",
      "parentUuid": "0e8960cd_358359cf",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e39340cc_55757eaa",
        "filename": "src/libANGLE/renderer/vulkan/CommandProcessor.cpp",
        "patchSetId": 16
      },
      "lineNbr": 10,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-06-05T04:34:17Z",
      "side": 1,
      "message": "Remember to remove",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32ba64c1_30a8c2bf",
        "filename": "src/libANGLE/renderer/vulkan/CommandProcessor.cpp",
        "patchSetId": 16
      },
      "lineNbr": 10,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-06-08T16:53:33Z",
      "side": 1,
      "message": "Done. next upload",
      "parentUuid": "e39340cc_55757eaa",
      "revId": "09b09dadbca85fba479679507a30fa121829611d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}