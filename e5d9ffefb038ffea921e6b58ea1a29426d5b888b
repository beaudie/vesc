{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3648f49c_d72188fd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-10T16:20:44Z",
      "side": 1,
      "message": "PTAL, i think the mac failure is a flaky one",
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e29a0bd_17e21722",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2020-12-10T16:51:53Z",
      "side": 1,
      "message": "I like the idea of converting the various caches to the CacheBase.   Using the caches looks cleaner, and it should be easier to find all of the various caches in the future (which you\u0027re finding isn\u0027t easy) by just searching for what inherits from CacheBase.\n\nAny ideas on when/how the data will be output?   My concern about deferring that work is if it has any implications on where the data is collected so it can be output correctly.",
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce412c3e_ee871fdb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-12-10T17:21:42Z",
      "side": 1,
      "message": "I might have skimmed this too fast but I didn\u0027t see where this cache info gets reported.",
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6395161_c784135e",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 10
      },
      "lineNbr": 3281,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2020-12-10T16:51:53Z",
      "side": 1,
      "message": "Move into get().\n\nThis applies to the rest of these caches that have onCacheHit()/onCacheMiss() added below.",
      "range": {
        "startLine": 3260,
        "startChar": 0,
        "endLine": 3281,
        "endChar": 18
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "afdf0484_ec7e4f98",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 10
      },
      "lineNbr": 3281,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-11T18:10:42Z",
      "side": 1,
      "message": "with the -1 on OOP design this is moot?",
      "parentUuid": "c6395161_c784135e",
      "range": {
        "startLine": 3260,
        "startChar": 0,
        "endLine": 3281,
        "endChar": 18
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df39f50e_6a3aa51f",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1310,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2020-12-10T16:51:53Z",
      "side": 1,
      "message": "Add virtual get(), insert(), and clear() functions so that each cache implements the same API.   This should also help push developers to add the onCacheHit(), and onCacheMiss() calls correctly too when new caches are added and they are looking at how other Caches are implemented.",
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5557e4f4_47c54c7b",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1310,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-12-10T17:21:42Z",
      "side": 1,
      "message": "I\u0027d call this HasCacheStats instead of Base to be more descriptive. can always rename it later. -1 to virtual functions, it shouldn\u0027t be necessary to go that far into OOP and virtual has both design and performance pitfalls.\n\nActually let\u0027s call this CacheStats and use composition rather than inheritance. Composition is much preferred in ANGLE for a very stable and intuitive design.",
      "parentUuid": "df39f50e_6a3aa51f",
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "012e6d1a_261d85c3",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1310,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-11T18:10:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5557e4f4_47c54c7b",
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07cee40e_83818338",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1318,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-12-10T17:21:42Z",
      "side": 1,
      "message": "using composition you can just call these hit() and miss() and you can make getHitRatio public.",
      "range": {
        "startLine": 1317,
        "startChar": 0,
        "endLine": 1318,
        "endChar": 58
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d6f6b568_02cac078",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1318,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-11T18:10:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "07cee40e_83818338",
      "range": {
        "startLine": 1317,
        "startChar": 0,
        "endLine": 1318,
        "endChar": 58
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49f12f3f_25f30be8",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1319,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-12-10T17:21:42Z",
      "side": 1,
      "message": "nit: const",
      "range": {
        "startLine": 1319,
        "startChar": 24,
        "endLine": 1319,
        "endChar": 40
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "455bf0d5_1386c29e",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1319,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-11T18:10:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "49f12f3f_25f30be8",
      "range": {
        "startLine": 1319,
        "startChar": 24,
        "endLine": 1319,
        "endChar": 40
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "126d6b20_0dcf2e2f",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1323,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-12-10T17:21:42Z",
      "side": 1,
      "message": "nit: if (...)\n{\n  return 0;\n}\n\nreturn ... ; // nonzero",
      "range": {
        "startLine": 1321,
        "startChar": 8,
        "endLine": 1323,
        "endChar": 81
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "98c4c3af_1de313e8",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1323,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-12-10T17:21:42Z",
      "side": 1,
      "message": "static_cast\u003cdouble\u003e, the 1.0 * trick is unintuitive.",
      "range": {
        "startLine": 1323,
        "startChar": 21,
        "endLine": 1323,
        "endChar": 43
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10258eb1_bc6d8dbc",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1323,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-11T18:10:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "98c4c3af_1de313e8",
      "range": {
        "startLine": 1323,
        "startChar": 21,
        "endLine": 1323,
        "endChar": 43
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "12a4b6f3_bff0e396",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1323,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-11T18:10:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "126d6b20_0dcf2e2f",
      "range": {
        "startLine": 1321,
        "startChar": 8,
        "endLine": 1323,
        "endChar": 81
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81fe0194_6c675814",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1519,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2020-12-10T16:51:53Z",
      "side": 1,
      "message": "To match the others:\n    FramebufferCache() \u003d default;\n    ~FramebufferCache() { ASSERT(mPayload.empty()); }",
      "range": {
        "startLine": 1518,
        "startChar": 0,
        "endLine": 1519,
        "endChar": 24
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "47f72218_1e758fff",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1519,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-11T18:10:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "81fe0194_6c675814",
      "range": {
        "startLine": 1518,
        "startChar": 0,
        "endLine": 1519,
        "endChar": 24
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d790ef1_cd87705b",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1526,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2020-12-10T16:51:53Z",
      "side": 1,
      "message": "nit: These can just be \u0027get\u0027, \u0027insert\u0027, and \u0027clear\u0027 to match the others.",
      "range": {
        "startLine": 1521,
        "startChar": 0,
        "endLine": 1526,
        "endChar": 42
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3b893c97_6aa6aea4",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1526,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-11T18:10:42Z",
      "side": 1,
      "message": "-1 on OOP design makes this moot?",
      "parentUuid": "2d790ef1_cd87705b",
      "range": {
        "startLine": 1521,
        "startChar": 0,
        "endLine": 1526,
        "endChar": 42
      },
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06eebd9a_43c7e774",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1562,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2020-12-10T16:51:53Z",
      "side": 1,
      "message": "Since TextureDescriptorsCache and UniformsAndXfbDescriptorSetCache are essentially duplicates, can this be a templated \u0027DescriptorSetCache\u003cDesc\u003e\u0027?",
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05d0617e_904d9d31",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 1562,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-12-11T18:10:42Z",
      "side": 1,
      "message": "Nice, done",
      "parentUuid": "06eebd9a_43c7e774",
      "revId": "e5d9ffefb038ffea921e6b58ea1a29426d5b888b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}