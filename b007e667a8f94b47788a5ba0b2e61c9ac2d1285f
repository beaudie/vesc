{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "faca0220_8cf97524",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1491687
      },
      "writtenOn": "2021-12-08T13:19:18Z",
      "side": 1,
      "message": "I noticed the `PageFaultHandlerDefaultHandler` to be crashing for me locally as well on Linux and Android on release builds (using `is_debug \u003d false` in args.gn).\n\nApparently the calls wrapped in ASSERT got optimized out: \n```\nASSERT(sigaction(SIGSEGV, \u0026sigAction, nullptr) \u003d\u003d 0);\nASSERT(sigaction(SIGBUS, \u0026sigAction, nullptr) \u003d\u003d 0);\n```\n\nReplacing ASSERT with EXPECT_TRUE fixed the test on both Android and Linux on release builds.\n\nI will split this test into a separate commit.\n\nSince the ANGLE CI bots did not pick this up, how can I run it on the Chromium builders to make sure it\u0027s fixed?",
      "revId": "b007e667a8f94b47788a5ba0b2e61c9ac2d1285f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72d553e8_3d1c7bb4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-08T13:48:39Z",
      "side": 1,
      "message": "Ah I didn\u0027t notice this. ASSERT and ASSERT_TRUE/ASSERT_EQ/etc are very different. ASSERT is an ANGLE-internal check that some invariant is true and gets optimized out in some builds. ASSERT_* are GTest macros that verify test conditions.\n\nANGLE bots always build with ASSERT always enabled in debug builds. In Chrome there are some builds that don\u0027t use ASSERT.\n\nIn general never put code that needs to run in ASSERT macros.",
      "parentUuid": "faca0220_8cf97524",
      "revId": "b007e667a8f94b47788a5ba0b2e61c9ac2d1285f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}