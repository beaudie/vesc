{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "aa930205_3f4aea68",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-05-22T18:02:14Z",
      "side": 1,
      "message": "Should this automatic, for example, use the commit hashtag? I thouht we have similar versions for program/shader cache?",
      "range": {
        "startLine": 77,
        "startChar": 19,
        "endLine": 77,
        "endChar": 40
      },
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44da95b3_501afc3c",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-23T17:54:15Z",
      "side": 1,
      "message": "I was talking about this with Amirali before, he mentioned having a version here is better because the cache doesn\u0027t get obliterated with ANGLE updates. It makes sense since the contents of the cache (Vulkan pipelines) is entirely independent of ANGLE itself, and would indeed lead to a better user experience.",
      "parentUuid": "aa930205_3f4aea68",
      "range": {
        "startLine": 77,
        "startChar": 19,
        "endLine": 77,
        "endChar": 40
      },
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81d33696_a3625840",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-05-23T18:11:40Z",
      "side": 1,
      "message": "What if vulkan driver changed, will the old cache automatically get purged?",
      "parentUuid": "44da95b3_501afc3c",
      "range": {
        "startLine": 77,
        "startChar": 19,
        "endLine": 77,
        "endChar": 40
      },
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "acf8e654_9cdf44a8",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-23T18:18:25Z",
      "side": 1,
      "message": "Yes, by the driver itself. We\u0027ll load the pipeline cache data into VkPipelineCache, the driver will silently drop it, then we rebuild the cache naturally and rewrite it over the old one.",
      "parentUuid": "81d33696_a3625840",
      "range": {
        "startLine": 77,
        "startChar": 19,
        "endLine": 77,
        "endChar": 40
      },
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d0b9c87_e6f52919",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-05-23T19:14:42Z",
      "side": 1,
      "message": "Thanks for clarification.",
      "parentUuid": "acf8e654_9cdf44a8",
      "range": {
        "startLine": 77,
        "startChar": 19,
        "endLine": 77,
        "endChar": 40
      },
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "40f892cf_3a764dc4",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2023-05-26T01:19:51Z",
      "side": 1,
      "message": "Thanks!",
      "parentUuid": "5d0b9c87_e6f52919",
      "range": {
        "startLine": 77,
        "startChar": 19,
        "endLine": 77,
        "endChar": 40
      },
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "825b03d4_27beb61c",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 886,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-23T17:54:15Z",
      "side": 1,
      "message": "Please initialize the padding too, otherwise it\u0027s leaking something to persistent memory.",
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b833d08_c432d06d",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 886,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2023-05-26T01:19:51Z",
      "side": 1,
      "message": "Padding removed.",
      "parentUuid": "825b03d4_27beb61c",
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a033d7f7_345fd3ee",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 912,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-23T17:54:15Z",
      "side": 1,
      "message": "Might as well make this 16 bit and put it in the padding below. Or since the layout is changing anyway might as well move the CRC up so the version and CRC take up one 32-bit value and remove the padding.\n\nIt\u0027ll probably cause some problems given that version didn\u0027t exist before (and given the layout change), but ultimately we need the version to deal with that and this is going to have to happen at some point.",
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2070fc4_232cbe6f",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 912,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2023-05-26T01:19:51Z",
      "side": 1,
      "message": "The header class has been restructured. Version is now `uint16_t` and on top, followed by the CRC.",
      "parentUuid": "a033d7f7_345fd3ee",
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "474fa8c8_81509dc6",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1132,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-23T17:54:15Z",
      "side": 1,
      "message": "Isn\u0027t this going to happen on the first update of ANGLE after this CL if there\u0027s a cache lying around from before it? We should make sure that\u0027s not fatal.\n\nIt\u0027s probably fine to make the message below a WARN(), let ANGLE get updated everywhere and make it FATAL() like in a year",
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "208f923f_c32929b0",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1132,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2023-05-26T01:19:51Z",
      "side": 1,
      "message": "You are right. It is possible. I have changed it into a `WARN()` and added a TODO above it.",
      "parentUuid": "474fa8c8_81509dc6",
      "revId": "1e356f89d51c965cccff832c127382664555b158",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}