{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "12210a79_23f1b7ea",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1610,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-02-24T19:13:28Z",
      "side": 1,
      "message": "@cclao Why do we even have incoherent? According to arm docs (anglebug.com/6866) cached+coherent is better than cached+incoherent. If this is going to get cached, should we change vk::MemoryCoherency to be rather something that chooses between  coherent  and  cached + coherent ? I.e. that would be cached vs not, instead of coherent vs not",
      "revId": "29a1560f205b576e79aa600e1421b38e460b1ce4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6b67d66_6b7d4288",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1610,
      "author": {
        "id": 1517514
      },
      "writtenOn": "2022-02-24T19:32:42Z",
      "side": 1,
      "message": "not sure this is the right answer. from the arm doc, \"Hardware coherency has a small power cost, so must not be used for resources that are write-only on the CPU. For write-only resources, bypass the CPU cache by using the Cached, incoherent memory type.\"",
      "parentUuid": "12210a79_23f1b7ea",
      "revId": "29a1560f205b576e79aa600e1421b38e460b1ce4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba2fb70f_324af98b",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1610,
      "author": {
        "id": 1175714
      },
      "writtenOn": "2022-02-24T19:43:47Z",
      "side": 1,
      "message": "I think we should also prefer cached even in the coherent case, and fall back to UC if we can\u0027t get cached + coherent.",
      "parentUuid": "b6b67d66_6b7d4288",
      "revId": "29a1560f205b576e79aa600e1421b38e460b1ce4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "101fb4cd_98896927",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1610,
      "author": {
        "id": 1517514
      },
      "writtenOn": "2022-02-24T23:01:16Z",
      "side": 1,
      "message": "if the memory area is no-coherent, seems we need to invalidate the gpu cache.\nfor non-coherent, we need add flush and invalidate.( not sure it is already there or not)\nmaybe we need to add a isCached function inside bufferAllocation.",
      "parentUuid": "ba2fb70f_324af98b",
      "revId": "29a1560f205b576e79aa600e1421b38e460b1ce4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bccb4542_028e6bd4",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1610,
      "author": {
        "id": 1517514
      },
      "writtenOn": "2022-02-24T23:19:02Z",
      "side": 1,
      "message": "for cached non-coherent, we need add flush and invalidate.(",
      "parentUuid": "101fb4cd_98896927",
      "revId": "29a1560f205b576e79aa600e1421b38e460b1ce4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}