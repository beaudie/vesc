{
  "comments": [
    {
      "key": {
        "uuid": "8b3b33e6_bae7660a",
        "filename": "src/libGLESv2/global_state.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2020-06-17T22:42:35Z",
      "side": 1,
      "message": "Could we eliminate this if as well?\nMay have to be a compile-time thing. I remember Jamie mentioning that ANGLE is used in Chrome on Android for some things with non-Vulkan backend. But for ANGLE as the GLES driver we would only have the Vulkan backend and thus gUseAndroidOpenGLTlsSlot would always be true.",
      "revId": "bd383072f574b9bbfba483738a81b68503f29baf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af215987_211e0550",
        "filename": "src/libGLESv2/global_state.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-06-17T23:47:09Z",
      "side": 1,
      "message": "\u003e Could we eliminate this if as well?\n\ni wanted to do that but there are a ton of bots that run GLES backend on Android and all of them crash with errors if i assume \"gUseAndroidOpenGLTlsSlot\" is true\n\n\u003e May have to be a compile-time thing\n\nif you have a suggestion on how to make this a compile time thing, im all ears",
      "parentUuid": "8b3b33e6_bae7660a",
      "revId": "bd383072f574b9bbfba483738a81b68503f29baf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e911222e_fd3e7415",
        "filename": "src/libGLESv2/global_state.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-06-18T04:32:07Z",
      "side": 1,
      "message": "Some condition derived from the `angle_enable_gl` gn arg.\n\nWe don\u0027t have test coverage for a Vulkan-only build of ANGLE on Android though.",
      "parentUuid": "af215987_211e0550",
      "revId": "bd383072f574b9bbfba483738a81b68503f29baf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22a27c9e_8cfe7892",
        "filename": "src/libGLESv2/global_state.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2020-06-18T13:49:12Z",
      "side": 1,
      "message": "We\u0027d need to introduce a new compile flag.\nSay ANDROID_PLATFORM_DRIVER which we could set true only for ANGLE apk builds.\nWe don\u0027t (as far as I know) re-use the same .so for all the uses of ANGLE so should be okay to have build specific flag.\n\n\u003e We don\u0027t have test coverage for a Vulkan-only build of ANGLE on Android though.\nYeah that\u0027s something that\u0027s an issue today. However, we have plans of getting ANGLE to autoroll into the Android build which would help with this.",
      "parentUuid": "e911222e_fd3e7415",
      "revId": "bd383072f574b9bbfba483738a81b68503f29baf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e091d2f6_670f2eec",
        "filename": "src/libGLESv2/global_state.h",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-06-18T15:49:03Z",
      "side": 1,
      "message": "courtney, given the infra issues, how about this - i will add a todo with a new bug tracking creation of new compiler flag to get rid of the if condition and work on it when we have the bot infra to support that usecase. Does that sound reasonable?",
      "parentUuid": "22a27c9e_8cfe7892",
      "revId": "bd383072f574b9bbfba483738a81b68503f29baf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}