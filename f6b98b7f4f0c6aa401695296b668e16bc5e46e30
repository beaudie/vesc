{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5c4b0c75_2f929ea9",
        "filename": "src/libANGLE/renderer/wgpu/ContextWgpu.cpp",
        "patchSetId": 10
      },
      "lineNbr": 543,
      "author": {
        "id": 1297347
      },
      "writtenOn": "2024-05-07T10:34:15Z",
      "side": 1,
      "message": "Maybe rename to startRenderPass() if this always starts a new RenderPass?",
      "range": {
        "startLine": 543,
        "startChar": 27,
        "endLine": 543,
        "endChar": 50
      },
      "revId": "f6b98b7f4f0c6aa401695296b668e16bc5e46e30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f19cee76_96ffe3c7",
        "filename": "src/libANGLE/renderer/wgpu/ContextWgpu.cpp",
        "patchSetId": 10
      },
      "lineNbr": 543,
      "author": {
        "id": 1516597
      },
      "writtenOn": "2024-05-07T16:15:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5c4b0c75_2f929ea9",
      "range": {
        "startLine": 543,
        "startChar": 27,
        "endLine": 543,
        "endChar": 50
      },
      "revId": "f6b98b7f4f0c6aa401695296b668e16bc5e46e30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9e7a922_ca1e467c",
        "filename": "src/libANGLE/renderer/wgpu/FramebufferWgpu.cpp",
        "patchSetId": 10
      },
      "lineNbr": 136,
      "author": {
        "id": 1297347
      },
      "writtenOn": "2024-05-07T10:34:15Z",
      "side": 1,
      "message": "So when should `mCurrentColorAttachments` end up getting cleared? I would\u0027ve thought after flush(), but then the previous code would\u0027ve worked right?",
      "range": {
        "startLine": 136,
        "startChar": 8,
        "endLine": 136,
        "endChar": 60
      },
      "revId": "f6b98b7f4f0c6aa401695296b668e16bc5e46e30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0b76718_c719a009",
        "filename": "src/libANGLE/renderer/wgpu/FramebufferWgpu.cpp",
        "patchSetId": 10
      },
      "lineNbr": 136,
      "author": {
        "id": 1516597
      },
      "writtenOn": "2024-05-07T16:15:35Z",
      "side": 1,
      "message": "Yeah we can\u0027t clear it right after the flush. I think we\u0027ll need to clear it in `FramebufferWgpu::syncState`. VK does something similar with an `updateRenderPassDesc` (https://source.chromium.org/chromium/chromium/src/+/main:third_party/angle/src/libANGLE/renderer/vulkan/FramebufferVk.cpp;l\u003d2546). We\u0027ll want to clear `mCurrentColorAttachments` and push back any color values we can get from the current context\u0027s state. I was going to save doing this for when I added support for deferring clears, but I can just add a simple method to update `mCurrentColorAttachments` in syncState in this CL if you think it makes sense?",
      "parentUuid": "c9e7a922_ca1e467c",
      "range": {
        "startLine": 136,
        "startChar": 8,
        "endLine": 136,
        "endChar": 60
      },
      "revId": "f6b98b7f4f0c6aa401695296b668e16bc5e46e30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f7fdc29_ec761aab",
        "filename": "src/libANGLE/renderer/wgpu/FramebufferWgpu.cpp",
        "patchSetId": 10
      },
      "lineNbr": 136,
      "author": {
        "id": 1297347
      },
      "writtenOn": "2024-05-07T20:06:07Z",
      "side": 1,
      "message": "Ha I just don\u0027t like leaving a memory leak in there but it doesn\u0027t really matter so maybe add a comment if you like, and otherwise +2.",
      "parentUuid": "c0b76718_c719a009",
      "range": {
        "startLine": 136,
        "startChar": 8,
        "endLine": 136,
        "endChar": 60
      },
      "revId": "f6b98b7f4f0c6aa401695296b668e16bc5e46e30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5754335c_75fd58a9",
        "filename": "src/libANGLE/renderer/wgpu/FramebufferWgpu.cpp",
        "patchSetId": 10
      },
      "lineNbr": 136,
      "author": {
        "id": 1516597
      },
      "writtenOn": "2024-05-07T20:57:13Z",
      "side": 1,
      "message": "Hah fair, I think at least the RenderPassDescriptor params are all ref counted by webgpu. I added a TODO to reset `mCurrentColorAttachments` when the state is synced",
      "parentUuid": "0f7fdc29_ec761aab",
      "range": {
        "startLine": 136,
        "startChar": 8,
        "endLine": 136,
        "endChar": 60
      },
      "revId": "f6b98b7f4f0c6aa401695296b668e16bc5e46e30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96395418_1a8ef9a6",
        "filename": "src/tests/gl_tests/ClearTest.cpp",
        "patchSetId": 10
      },
      "lineNbr": 484,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-05-07T00:24:31Z",
      "side": 1,
      "message": "Missed a part of the suggestion:\n\n```suggestion\n    std::vector\u003cGLColor\u003e pixelData(kSize * kSize, GLColor::blue);\n```",
      "revId": "f6b98b7f4f0c6aa401695296b668e16bc5e46e30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eca4b989_a12cf89b",
        "filename": "src/tests/gl_tests/ClearTest.cpp",
        "patchSetId": 10
      },
      "lineNbr": 484,
      "author": {
        "id": 1516597
      },
      "writtenOn": "2024-05-07T20:57:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "96395418_1a8ef9a6",
      "revId": "f6b98b7f4f0c6aa401695296b668e16bc5e46e30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}