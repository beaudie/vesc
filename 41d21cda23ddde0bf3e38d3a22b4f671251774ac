{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2e5b4acb_e92ba295",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-08-27T20:50:47Z",
      "side": 1,
      "message": "@Mohan, are you aware of this issue? Context: https://gitlab.khronos.org/vulkan/vulkan/-/issues/2906\n\nSummary of the bug (that\u0027s not accessible to you) is that `HardwareBufferImageSiblingVkAndroid::initImpl` is not looking at the EGL attributes, particularly `EGL_GL_COLORSPACE_SRGB`. Hacking things to use `GL_SRGB8_ALPHA8` instead of `GL_RGBA8` for the internal format leads to VVL error about trying to create an image with one format (srgb) that doesn\u0027t match the AHB format (unorm)\n\nThe failing test is `android.hardware.nativehardware.cts.AHardwareBufferNativeTests#SingleLayer_ColorTest_GpuSampledImageCanBeSampled_R8G8B8A8_UNORM_sRGB`, I assume it\u0027s in the Android CTS test, but Yiwei can clarify. If you do run this test, what did you do to make it work?",
      "revId": "41d21cda23ddde0bf3e38d3a22b4f671251774ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f1e58aa_95427922",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2022-08-28T13:14:30Z",
      "side": 1,
      "message": "\u003e HardwareBufferImageSiblingVkAndroid::initImpl  is not looking at the EGL attributes .... SRGB\n\nit is all tucked away inside `ImageHelper::DeriveCreateInfoPNext` -\u003e https://cs.android.com/android/platform/superproject/+/master:external/angle/src/libANGLE/renderer/vulkan/vk_helpers.cpp;l\u003d5294\n\n\u003e Hacking things to use  GL_SRGB8_ALPHA8  instead of  GL_RGBA8 \n\nthe image has to be RGBA since that is what the AHB is, it is the imageview that can be \"overridden\"\n\n\u003e If you do run this test, what did you do to make it work?\n\nlooks like this change broke it -\u003e https://chromium-review.googlesource.com/c/angle/angle/+/3141030",
      "parentUuid": "2e5b4acb_e92ba295",
      "revId": "41d21cda23ddde0bf3e38d3a22b4f671251774ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b96bbc0_8d631bf4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2022-08-28T13:44:26Z",
      "side": 1,
      "message": "forgot to earlier but here is the code that actually updates image state based on colorspace -\u003e https://cs.android.com/android/platform/superproject/+/master:external/angle/src/libANGLE/Image.cpp;l\u003d505",
      "parentUuid": "3f1e58aa_95427922",
      "revId": "41d21cda23ddde0bf3e38d3a22b4f671251774ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc638675_c8b577f3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-08-28T13:56:29Z",
      "side": 1,
      "message": "\u003e looks like this change broke it -\u003e https://chromium-review.googlesource.com/c/angle/angle/+/3141030\n\nCouldn\u0027t have expected a better response, thanks!",
      "parentUuid": "6b96bbc0_8d631bf4",
      "revId": "41d21cda23ddde0bf3e38d3a22b4f671251774ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d75d9038_8118f54d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1509302
      },
      "writtenOn": "2022-08-28T15:01:39Z",
      "side": 1,
      "message": "Thanks Mohan and Shahbaz!!",
      "parentUuid": "bc638675_c8b577f3",
      "revId": "41d21cda23ddde0bf3e38d3a22b4f671251774ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Owners",
        "description": {
          "value": "User with the code owner override approved the change"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:enabled_code-owners"
          }
        },
        "submittabilityExpression": {
          "expressionString": "has:approval_code-owners"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Owners-Override\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:enabled_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:enabled_code-owners"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:approval_code-owners"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["has:approval_code-owners"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Owners-Override=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Owners-Override=+1"]}
      },
      "patchSetCommitId": "41d21cda23ddde0bf3e38d3a22b4f671251774ac",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "Submit requirement for the \u0027Code-Review\u0027 label"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX,user=non_uploader","label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "41d21cda23ddde0bf3e38d3a22b4f671251774ac",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforced_gerrit"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "41d21cda23ddde0bf3e38d3a22b4f671251774ac",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "Submit requirement for the \u0027Verified\u0027 label"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:false"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:true"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:false"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:true"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "41d21cda23ddde0bf3e38d3a22b4f671251774ac",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}