{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8394453d_9beebe72",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1326275
      },
      "writtenOn": "2021-11-03T20:10:06Z",
      "side": 1,
      "message": "Jamie can you review the changes to the test infrastructure?\nI\u0027m ok with the ANGLETest changes but the angle_deqp_gtest changes could be better I think. I need to be able to pass the result of IsAMD etc (taken from SystemInfo) to some point before running the tests where we can set the env variable, and then unset it when the tests are done.",
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f153c226_a1246e1c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1326275
      },
      "writtenOn": "2021-11-04T15:19:54Z",
      "side": 1,
      "message": "Actually, just talked to Geoff.\n\nI think we should land pretty much as-is (still with some review) to get this power preference stuff landed.\n\nI can follow up to change the way the tests select the GPU. Instead of using the environment var, I\u0027ll go through and set a display creation attrib in each of the test harnesses\nFor dEQP, here:  https://source.chromium.org/chromium/chromium/src/+/main:third_party/angle/src/tests/deqp_support/tcuANGLEPlatform.cpp;l\u003d35?q\u003dANGLENativeDisplayFactory\u0026ss\u003dchromium%2Fchromium%2Fsrc\nand angle tests, here: https://source.chromium.org/chromium/chromium/src/+/main:third_party/angle/util/EGLWindow.cpp;l\u003d846?q\u003dEGLWindow.\u0026sq\u003d\u0026ss\u003dchromium%2Fchromium%2Fsrc",
      "parentUuid": "8394453d_9beebe72",
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a6292c26_58888045",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-11-04T15:34:19Z",
      "side": 1,
      "message": "some nits if you can fix before landing.",
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c69c834_c4e2d841",
        "filename": "src/libANGLE/Caps.h",
        "patchSetId": 11
      },
      "lineNbr": 736,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-11-04T15:34:19Z",
      "side": 1,
      "message": "nit: ANGLE suffix",
      "range": {
        "startLine": 736,
        "startChar": 9,
        "endLine": 736,
        "endChar": 32
      },
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77a4fd11_203ba768",
        "filename": "src/libANGLE/Caps.h",
        "patchSetId": 11
      },
      "lineNbr": 736,
      "author": {
        "id": 1326275
      },
      "writtenOn": "2021-11-04T15:52:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c69c834_c4e2d841",
      "range": {
        "startLine": 736,
        "startChar": 9,
        "endLine": 736,
        "endChar": 32
      },
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a18e5e5_8cb3bf28",
        "filename": "src/tests/deqp_support/angle_deqp_gtest.cpp",
        "patchSetId": 11
      },
      "lineNbr": 414,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-11-04T15:35:06Z",
      "side": 1,
      "message": "I\u0027m confused about what this is doing - can you follow up to explain \u0026 help clean this up?",
      "range": {
        "startLine": 390,
        "startChar": 0,
        "endLine": 414,
        "endChar": 25
      },
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8f189bc_638dcaed",
        "filename": "src/tests/deqp_support/angle_deqp_gtest.cpp",
        "patchSetId": 11
      },
      "lineNbr": 414,
      "author": {
        "id": 1326275
      },
      "writtenOn": "2021-11-04T15:52:53Z",
      "side": 1,
      "message": "Updated the comment to say this:\n\nThe test harness reads the active GPU from SystemInfo and uses that for test expectations. However, some ANGLE backends don\u0027t have a concept of an \"active\" GPU, and instead use power preference to select GPU. We can use the environment variable ANGLE_PREFERRED_DEVICE to ensure ANGLE\u0027s selected GPU matches the GPU expected for this test suite.\n\nis that more clear?",
      "parentUuid": "9a18e5e5_8cb3bf28",
      "range": {
        "startLine": 390,
        "startChar": 0,
        "endLine": 414,
        "endChar": 25
      },
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13789dfd_616abaf6",
        "filename": "src/tests/test_utils/angle_test_configs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 308,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-11-04T15:34:19Z",
      "side": 1,
      "message": "nit: for brevity, you can omit \"With\"",
      "range": {
        "startLine": 308,
        "startChar": 19,
        "endLine": 308,
        "endChar": 35
      },
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b402018_a762da9e",
        "filename": "src/tests/test_utils/angle_test_configs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 308,
      "author": {
        "id": 1326275
      },
      "writtenOn": "2021-11-04T15:52:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "13789dfd_616abaf6",
      "range": {
        "startLine": 308,
        "startChar": 19,
        "endLine": 308,
        "endChar": 35
      },
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a9ad120_7a27f5df",
        "filename": "src/tests/test_utils/angle_test_configs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 313,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-11-04T15:34:19Z",
      "side": 1,
      "message": "nit: for brevity, you can omit \"With\"",
      "range": {
        "startLine": 313,
        "startChar": 19,
        "endLine": 313,
        "endChar": 36
      },
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2d80ee52_53fa65cc",
        "filename": "src/tests/test_utils/angle_test_configs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 313,
      "author": {
        "id": 1326275
      },
      "writtenOn": "2021-11-04T15:52:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a9ad120_7a27f5df",
      "range": {
        "startLine": 313,
        "startChar": 19,
        "endLine": 313,
        "endChar": 36
      },
      "revId": "6d06921092561bf36180b9c032dada642a675b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}