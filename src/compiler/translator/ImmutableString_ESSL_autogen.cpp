// GENERATED FILE - DO NOT EDIT.
// Generated by gen_builtin_symbols.py using data from builtin_variables.json and
// builtin_function_declarations.txt.
//
// Copyright 2019 The ANGLE Project Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
//
// ImmutableString_ESSL_autogen.cpp: Wrapper for static or pool allocated char arrays, that are
// guaranteed to be valid and unchanged for the duration of the compilation. Implements
// mangledNameHash using perfect hash function from gen_builtin_symbols.py

#include "compiler/translator/ImmutableString.h"

std::ostream &operator<<(std::ostream &os, const sh::ImmutableString &str)
{
    return os.write(str.data(), str.length());
}

#if defined(_MSC_VER)
#    pragma warning(disable : 4309)  // truncation of constant value
#endif

namespace
{

constexpr int mangledkT1[] = {1812, 1216, 17,   1453, 418,  1183, 493,  1754, 763,  311,
                              514,  1525, 466,  1777, 1087, 1320, 180,  1667, 1625, 1784,
                              1769, 1438, 1067, 1731, 1614, 582,  1822, 117,  1061, 1621,
                              1608, 1553, 896,  445,  796,  866,  1587};
constexpr int mangledkT2[] = {1412, 633, 929,  1791, 69,   1422, 1105, 1219, 1538, 424,
                              1685, 918, 24,   1486, 426,  1539, 394,  247,  1034, 44,
                              355,  544, 1590, 1309, 13,   1292, 795,  1704, 1624, 81,
                              450,  505, 1466, 340,  1217, 1066, 535};
constexpr int mangledkG[]  = {
    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    0,    1721, 0,    0,    0,    0,    0,    0,    0,    413,  0,
    0,    0,    0,    0,    27,   0,    0,    0,    785,  368,  1254, 940,  0,    0,    329,  0,
    0,    0,    0,    0,    0,    0,    0,    0,    50,   1400, 0,    0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    0,    0,    0,    365,  0,    0,    0,    0,    0,    0,    0,
    1800, 0,    508,  0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    1055, 0,
    333,  0,    0,    0,    0,    0,    0,    1160, 0,    0,    567,  0,    0,    0,    0,    1755,
    0,    38,   465,  0,    0,    0,    55,   0,    0,    0,    1213, 0,    0,    0,    1815, 0,
    1674, 0,    761,  1378, 1840, 458,  268,  0,    235,  410,  0,    103,  1836, 0,    1258, 258,
    229,  1625, 563,  0,    0,    0,    1172, 0,    0,    0,    685,  0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    170,  0,    0,    0,    0,    0,    0,    216,  0,    0,    554,
    1672, 0,    555,  0,    780,  1508, 1830, 0,    0,    205,  0,    0,    0,    0,    985,  0,
    0,    0,    1649, 0,    639,  0,    0,    0,    1146, 0,    632,  0,    972,  0,    0,    0,
    0,    1193, 0,    649,  0,    0,    0,    0,    0,    0,    0,    0,    1098, 0,    102,  0,
    0,    0,    830,  0,    0,    0,    0,    0,    761,  785,  0,    0,    0,    0,    125,  465,
    0,    456,  0,    0,    0,    232,  0,    0,    0,    0,    0,    0,    101,  0,    1800, 118,
    0,    0,    0,    0,    680,  0,    1827, 0,    0,    0,    0,    600,  0,    1713, 0,    762,
    0,    0,    0,    620,  303,  0,    1361, 843,  1814, 490,  0,    1365, 1741, 0,    706,  0,
    0,    0,    55,   0,    0,    0,    0,    0,    1748, 1541, 0,    1533, 186,  0,    1833, 615,
    0,    100,  1117, 0,    0,    0,    0,    0,    0,    0,    1781, 0,    0,    0,    0,    1531,
    0,    1701, 0,    0,    1748, 0,    0,    676,  565,  0,    0,    1643, 400,  0,    0,    0,
    678,  0,    0,    700,  0,    568,  1575, 0,    1279, 539,  0,    0,    0,    0,    0,    0,
    0,    0,    447,  0,    692,  0,    0,    845,  0,    1749, 0,    0,    0,    1064, 0,    0,
    858,  0,    0,    0,    0,    0,    0,    0,    1140, 41,   5,    28,   449,  36,   0,    0,
    0,    1756, 1243, 412,  544,  0,    0,    0,    1560, 1668, 0,    0,    0,    1534, 0,    0,
    0,    880,  0,    461,  147,  1694, 0,    0,    181,  500,  691,  0,    0,    2,    0,    0,
    0,    481,  0,    831,  377,  0,    666,  0,    765,  1043, 553,  0,    917,  0,    1798, 0,
    0,    0,    0,    0,    43,   576,  1751, 0,    0,    0,    586,  0,    1389, 0,    0,    668,
    0,    646,  0,    0,    682,  0,    292,  0,    0,    0,    0,    1552, 0,    0,    0,    207,
    227,  7,    446,  51,   0,    0,    0,    359,  1127, 559,  0,    0,    206,  0,    1192, 0,
    423,  0,    0,    256,  0,    69,   0,    0,    0,    1711, 102,  0,    0,    0,    1190, 308,
    0,    321,  203,  0,    0,    1587, 862,  0,    0,    86,   0,    0,    0,    1328, 550,  0,
    514,  0,    0,    0,    0,    1513, 825,  0,    758,  0,    0,    0,    467,  1305, 0,    0,
    617,  328,  0,    946,  1631, 415,  0,    463,  0,    0,    0,    1425, 323,  354,  0,    0,
    0,    667,  0,    1318, 562,  0,    0,    0,    0,    0,    248,  0,    0,    0,    163,  0,
    0,    1367, 0,    0,    1573, 0,    736,  0,    1045, 0,    0,    179,  0,    0,    189,  65,
    0,    0,    0,    1130, 0,    899,  0,    746,  0,    550,  255,  0,    468,  666,  0,    0,
    0,    928,  706,  0,    638,  354,  369,  0,    14,   147,  636,  0,    694,  1464, 0,    0,
    0,    1624, 159,  0,    1318, 0,    361,  274,  0,    0,    0,    695,  0,    469,  624,  1465,
    329,  0,    998,  0,    190,  1279, 342,  0,    215,  0,    0,    663,  1215, 0,    0,    0,
    1349, 0,    0,    1543, 164,  0,    327,  0,    560,  0,    0,    0,    0,    0,    0,    0,
    1622, 0,    0,    0,    97,   1335, 1736, 0,    0,    0,    0,    0,    0,    0,    780,  1458,
    58,   0,    0,    0,    0,    181,  1619, 0,    0,    321,  0,    192,  343,  1421, 0,    832,
    0,    0,    0,    1541, 776,  362,  1420, 0,    0,    1453, 451,  688,  1165, 0,    686,  1249,
    0,    570,  1370, 58,   0,    716,  0,    0,    0,    1768, 904,  491,  0,    0,    0,    493,
    0,    916,  0,    860,  0,    0,    0,    0,    1041, 75,   0,    605,  146,  0,    1460, 199,
    739,  0,    0,    132,  1558, 0,    0,    0,    762,  0,    207,  384,  0,    0,    1585, 0,
    305,  0,    0,    1776, 487,  0,    774,  499,  1180, 0,    0,    0,    59,   1795, 1644, 1225,
    1777, 291,  1840, 0,    0,    0,    1600, 593,  870,  106,  0,    0,    0,    319,  1566, 0,
    1549, 840,  218,  0,    1425, 857,  0,    0,    0,    1596, 264,  0,    633,  741,  489,  1103,
    344,  0,    0,    184,  500,  0,    1567, 0,    0,    406,  0,    0,    264,  368,  0,    739,
    722,  0,    9,    1747, 83,   0,    467,  578,  0,    524,  0,    0,    0,    1388, 0,    233,
    746,  0,    746,  0,    0,    0,    1397, 773,  587,  730,  413,  699,  787,  0,    797,  536,
    648,  403,  0,    0,    0,    44,   230,  1479, 748,  0,    0,    0,    684,  1369, 0,    0,
    1127, 0,    710,  827,  0,    654,  182,  1390, 559,  40,   943,  1802, 609,  0,    1444, 0,
    1069, 296,  773,  0,    624,  0,    0,    841,  0,    0,    0,    89,   0,    1292, 382,  456,
    938,  0,    0,    225,  462,  0,    0,    860,  539,  0,    394,  282,  828,  275,  965,  581,
    0,    186,  0,    809,  0,    0,    0,    1103, 62,   735,  0,    0,    0,    879,  0,    305,
    0,    0,    0,    1745, 198,  0,    0,    0,    0,    0,    1443, 0,    528,  1542, 1201, 351,
    0,    0,    0,    0,    226,  919,  1762, 586,  0,    1167, 0,    713,  0,    680,  905,  838,
    0,    464,  0,    446,  276,  751,  376,  1105, 63,   680,  46,   1359, 0,    1593, 212,  0,
    300,  0,    1631, 0,    509,  1205, 653,  358,  0,    745,  156,  1226, 0,    0,    0,    0,
    459,  0,    0,    1546, 608,  273,  0,    0,    0,    0,    0,    0,    802,  0,    776,  0,
    0,    0,    0,    1415, 403,  1053, 1636, 0,    1726, 0,    669,  0,    0,    263,  839,  0,
    0,    57,   827,  0,    0,    0,    116,  644,  165,  584,  0,    0,    0,    77,   1065, 1625,
    862,  1566, 1830, 0,    0,    414,  457,  1067, 0,    758,  0,    0,    488,  321,  70,   650,
    0,    572,  1250, 0,    1749, 349,  0,    462,  837,  844,  124,  0,    0,    1020, 48,   479,
    420,  0,    640,  691,  1809, 0,    1202, 484,  30,   312,  0,    450,  778,  993,  0,    704,
    549,  869,  1591, 0,    1385, 0,    0,    0,    1555, 1004, 233,  0,    1174, 721,  555,  931,
    0,    128,  0,    1477, 0,    368,  0,    1719, 1752, 306,  0,    599,  548,  1230, 176,  0,
    1463, 0,    1306, 134,  0,    0,    0,    0,    549,  299,  0,    0,    740,  32,   907,  0,
    0,    1448, 85,   569,  0,    0,    0,    196,  0,    1246, 0,    0,    0,    0,    506,  791,
    0,    178,  1242, 967,  1177, 984,  641,  0,    0,    0,    340,  1795, 1147, 1699, 0,    913,
    886,  532,  1494, 1442, 0,    0,    0,    501,  22,   35,   674,  0,    407,  0,    1353, 0,
    1743, 452,  1416, 0,    0,    0,    0,    298,  0,    41,   0,    395,  472,  1434, 807,  4,
    0,    0,    321,  0,    596,  0,    1480, 0,    0,    6,    231,  969,  261,  0,    876,  834,
    252,  1330, 0,    794,  0,    61,   0,    0,    0,    39,   0,    647,  0,    773,  324,  152,
    0,    0,    0,    1664, 0,    0,    428,  181,  220,  714,  1637, 1515, 151,  0,    1180, 323,
    755,  0,    1474, 903,  0,    392,  0,    0,    263,  455,  1774, 439,  0,    1453, 0,    0,
    1451, 791,  1402, 1500, 0,    147,  593,  1815, 275,  335,  0,    0,    647,  0,    0,    0,
    466,  108,  519,  0,    267,  161,  387,  1123, 1770, 505,  1604, 756,  682,  0,    265,  1599,
    622,  381,  24,   470,  0,    0,    0,    0,    0,    0,    0,    0,    1662, 1331, 613,  111,
    209,  0,    0,    123,  842,  162,  106,  0,    148,  192,  0,    0,    1101, 1353, 0,    147,
    0,    42,   441,  71,   910,  0,    0,    722,  288,  0,    300,  1721, 786,  0,    1095, 811,
    430,  395,  543,  1456, 0,    0,    1791, 0,    850,  1259, 643,  684,  0,    0,    239,  527,
    0,    804,  0,    1597, 0,    1654, 1598, 928,  503,  0,    0,    0,    0,    0,    0,    1380,
    1580, 410,  340,  23,   0,    0,    823,  0,    0,    0,    0,    788,  887,  96,   538,  0,
    25,   0,    1259, 1741, 0,    0,    0,    305,  0,    0,    705,  979,  0,    544,  483,  265,
    689,  943,  1129, 0,    629,  1830, 0,    0,    432,  0,    0,    492,  0,    0,    449,  324,
    594,  1277, 0,    119,  131,  0,    0,    609,  97,   155,  1323, 926,  529,  0,    0,    836,
    675,  571,  0,    656,  0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    1443, 288,
    1713, 1792, 0,    28,   0,    1172, 0,    0,    0,    960,  0,    933,  0,    386,  0,    0,
    0,    0,    306,  956,  1782, 0,    0,    777,  419,  0,    0,    0,    0,    238,  0,    472,
    371,  0,    0,    0,    0,    41,   797,  361,  1412, 49,   98,   0,    858,  1551, 0,    0,
    88,   676,  376,  190,  1354, 0,    295,  0,    0,    0,    0,    0,    0,    1516, 1665, 151,
    0,    657,  859,  0,    0,    0,    0,    0,    292,  276,  0,    777,  576,  419,  0,    395,
    0,    0,    921,  202,  0,    1391, 39,   1794, 630,  552,  0,    188,  0,    97,   830,  325,
    921,  0,    1103, 0,    0,    592,  40,   661,  575,  529,  524,  538,  0,    0,    31,   0,
    663,  0,    845,  1322, 251,  0,    431,  1182, 85,   52,   0,    0,    0,    849,  212,  390,
    0,    0,    0,    577,  0,    438,  438,  519,  368,  384,  0,    129,  67,   0,    282,  789,
    102,  565,  0,    30,   128,  454,  0,    813,  1758, 0,    525,  1803, 469,  95,   0,    0,
    0,    486,  548,  703,  142,  0,    0,    1620, 699,  1800, 169,  432,  1758, 591,  0,    660,
    377,  0,    181,  116,  0,    20,   118,  1033, 0,    0,    237,  1039, 0,    549,  0,    479,
    0,    0,    0,    181,  273,  0,    559,  465,  54,   523,  0,    0,    870,  1817, 1808, 0,
    450,  0,    1087, 1127, 877,  0,    0,    0,    0,    1726, 0,    0,    1820, 1244, 0,    519,
    1544, 1821, 0,    1599, 314,  1758, 0,    0,    189,  0,    0,    366,  165,  0,    1784, 0,
    0,    0,    109,  0,    0,    0,    1737, 630,  0,    0,    293,  1130, 270,  0,    1061, 208,
    0,    0,    1801, 1479, 525,  0,    216,  0,    0,    165,  0,    36,   534,  61,   234,  0,
    909,  0,    347,  0,    0,    425,  0,    0,    0,    1187, 904,  315,  0,    636,  1223, 585,
    43,   1315, 0,    0,    282,  1314, 261,  0,    0,    1,    180,  1371, 424,  847,  0,    0,
    82,   0,    333,  0,    0,    445,  895,  934,  107,  1,    0,    24,   1611, 1472, 0,    0,
    187,  0,    1380, 1636, 0,    654,  0,    789,  0,    685,  212,  0,    1368, 697,  850,  441,
    0,    362,  0,    460,  389,  1259, 0,    481,  643,  1507, 463,  652,  55,   1532, 0,    0,
    753,  711,  690,  1426, 140,  0,    1325, 465,  0,    720,  1128, 0,    0,    0,    0,    533,
    1431, 0,    522,  119,  848,  733,  623,  0,    871,  864,  11,   0,    0,    0,    0,    0,
    395,  611,  327};

int MangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 1843;
    }
    return mangledkG[sum];
}

int MangledPerfectHash(const char *key)
{
    if (strlen(key) > 37)
        return 0;

    return (MangledHashG(key, mangledkT1) + MangledHashG(key, mangledkT2)) % 1843;
}

constexpr int unmangledkT1[] = {251, 151, 0,   67, 201, 177, 166, 257, 159, 258, 23,  184, 66,
                                72,  92,  120, 59, 260, 28,  154, 231, 254, 14,  227, 170, 122};
constexpr int unmangledkT2[] = {133, 59,  252, 260, 115, 215, 113, 130, 157, 70, 104, 114, 55,
                                141, 226, 45,  149, 63,  92,  170, 250, 2,   63, 20,  109, 225};
constexpr int unmangledkG[]  = {
    0,   0,   0,   0,   0,   0,   0,   7,   57,  0,   39,  0,   0,   0,   3,   245, 47,  0,   0,
    8,   62,  25,  0,   0,   0,   0,   120, 255, 0,   0,   0,   90,  233, 0,   218, 63,  0,   118,
    24,  0,   20,  42,  0,   0,   0,   61,  69,  0,   116, 26,  207, 0,   0,   88,  87,  0,   0,
    0,   0,   220, 95,  0,   21,  0,   44,  0,   0,   0,   74,  63,  256, 0,   78,  39,  138, 0,
    138, 0,   72,  0,   62,  4,   102, 0,   0,   116, 79,  59,  0,   0,   0,   0,   0,   50,  0,
    240, 124, 0,   0,   0,   40,  149, 41,  0,   0,   59,  74,  30,  29,  205, 0,   4,   0,   0,
    203, 0,   79,  155, 127, 105, 0,   0,   25,  0,   56,  0,   254, 135, 57,  0,   0,   0,   129,
    0,   105, 0,   206, 64,  0,   0,   0,   48,  125, 69,  98,  54,  132, 0,   0,   6,   62,  121,
    0,   23,  4,   30,  71,  0,   11,  72,  0,   72,  78,  206, 61,  0,   252, 0,   0,   155, 104,
    3,   51,  220, 127, 0,   70,  0,   0,   0,   0,   0,   0,   0,   0,   156, 21,  0,   0,   226,
    241, 90,  123, 57,  205, 148, 139, 0,   8,   0,   171, 236, 80,  106, 186, 0,   176, 28,  74,
    0,   72,  0,   0,   68,  0,   0,   142, 79,  9,   165, 212, 103, 0,   85,  0,   256, 0,   52,
    47,  0,   51,  128, 255, 0,   5,   18,  0,   19,  218, 15,  0,   143, 31,  0,   0,   59,  255,
    147, 217, 0,   0,   0,   61,  7,   162, 1,   241, 0,   65,  85,  0};

int UnmangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 261;
    }
    return unmangledkG[sum];
}

int UnmangledPerfectHash(const char *key)
{
    if (strlen(key) > 26)
        return 0;

    return (UnmangledHashG(key, unmangledkT1) + UnmangledHashG(key, unmangledkT2)) % 261;
}

}  // namespace

namespace sh
{

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvPrime = 16777619u;

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvOffsetBasis = 0x811c9dc5u;

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvPrime =
    static_cast<size_t>(1099511628211ull);

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvOffsetBasis =
    static_cast<size_t>(0xcbf29ce484222325ull);

uint32_t ImmutableString::mangledNameHash() const
{
    return MangledPerfectHash(data());
}

uint32_t ImmutableString::unmangledNameHash() const
{
    return UnmangledPerfectHash(data());
}

}  // namespace sh
