// GENERATED FILE - DO NOT EDIT.
// Generated by gen_builtin_symbols.py using data from builtin_variables.json and
// builtin_function_declarations.txt.
//
// Copyright 2019 The ANGLE Project Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
//
// ImmutableString_ESSL_autogen.cpp: Wrapper for static or pool allocated char arrays, that are
// guaranteed to be valid and unchanged for the duration of the compilation. Implements
// mangledNameHash using perfect hash function from gen_builtin_symbols.py

#include "compiler/translator/ImmutableString.h"

std::ostream &operator<<(std::ostream &os, const sh::ImmutableString &str)
{
    return os.write(str.data(), str.length());
}

#if defined(_MSC_VER)
#    pragma warning(disable : 4309)  // truncation of constant value
#endif

namespace
{

constexpr int mangledkT1[] = {589,  1165, 1026, 1133, 1560, 1525, 1460, 609, 982, 733,
                              1099, 708,  1364, 1248, 1255, 1641, 1290, 929, 550, 115,
                              876,  1728, 6,    1544, 934,  350,  434,  674, 562, 1263,
                              1554, 1623, 5,    536,  328,  1069, 927};
constexpr int mangledkT2[] = {1272, 1760, 31,   942,  1665, 187,  710,  1066, 1240, 654,
                              711,  899,  75,   641,  328,  1184, 1173, 477,  8,    1413,
                              57,   1677, 197,  650,  936,  614,  505,  822,  225,  1173,
                              1108, 1272, 1124, 1395, 216,  951,  850};
constexpr int mangledkG[]  = {
    0,    0,    0,    0,    0,    0,    0,    0,    0,    320,  0,    0,    0,    1052, 335,  0,
    0,    719,  1645, 889,  0,    0,    320,  0,    0,    1071, 0,    0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    1120, 0,    0,    629,  0,    0,    0,    0,    0,    0,    1663,
    0,    1383, 0,    0,    0,    852,  0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    0,    0,    0,    377,  0,    0,    0,    0,    0,    0,    0,
    0,    121,  0,    0,    1613, 0,    0,    557,  0,    0,    0,    0,    0,    0,    0,    616,
    937,  0,    0,    951,  0,    661,  0,    0,    0,    1214, 0,    0,    0,    0,    0,    0,
    1208, 0,    0,    212,  0,    0,    0,    1552, 736,  0,    550,  0,    321,  0,    0,    1345,
    0,    0,    0,    1246, 0,    0,    0,    0,    0,    0,    1225, 0,    0,    0,    168,  20,
    981,  0,    0,    0,    0,    0,    0,    0,    1516, 0,    619,  0,    0,    0,    0,    0,
    285,  0,    904,  0,    0,    0,    0,    0,    0,    60,   1277, 0,    1511, 0,    171,  1747,
    0,    0,    0,    0,    113,  0,    0,    240,  723,  0,    0,    0,    617,  594,  701,  1696,
    0,    606,  0,    1764, 0,    0,    0,    0,    901,  0,    0,    0,    1467, 1769, 1061, 0,
    1185, 1553, 0,    0,    0,    0,    0,    0,    986,  0,    0,    144,  0,    0,    0,    0,
    0,    0,    699,  313,  0,    438,  0,    0,    0,    0,    601,  971,  231,  676,  0,    0,
    841,  175,  0,    0,    1735, 0,    0,    268,  900,  1637, 248,  0,    0,    0,    585,  479,
    391,  0,    1571, 523,  0,    0,    714,  1472, 0,    1032, 0,    0,    0,    1323, 0,    0,
    0,    171,  0,    945,  0,    0,    1349, 1395, 0,    308,  565,  0,    1758, 0,    0,    0,
    0,    0,    0,    0,    0,    1559, 11,   0,    0,    0,    27,   0,    1208, 0,    0,    0,
    0,    239,  470,  0,    0,    0,    220,  0,    1570, 349,  1114, 0,    553,  0,    0,    940,
    0,    1433, 0,    810,  0,    1404, 0,    0,    0,    820,  477,  418,  0,    0,    0,    658,
    0,    1240, 0,    0,    735,  0,    686,  0,    1611, 0,    0,    458,  0,    0,    0,    0,
    0,    160,  0,    233,  0,    522,  351,  1543, 0,    44,   1143, 701,  1394, 35,   0,    844,
    807,  0,    448,  1573, 1757, 0,    0,    429,  0,    0,    0,    0,    1563, 0,    850,  0,
    188,  0,    0,    435,  1280, 771,  16,   710,  266,  537,  124,  40,   1617, 0,    0,    68,
    1272, 562,  1481, 0,    0,    219,  0,    0,    0,    0,    1382, 0,    506,  403,  0,    0,
    0,    0,    0,    224,  0,    1432, 0,    0,    1690, 0,    0,    374,  0,    0,    1412, 572,
    0,    0,    0,    0,    179,  0,    1545, 0,    1733, 0,    0,    39,   0,    824,  933,  564,
    364,  0,    312,  0,    0,    1743, 0,    778,  628,  1500, 0,    0,    0,    1344, 1707, 0,
    90,   490,  388,  0,    1138, 0,    1766, 0,    671,  0,    605,  0,    476,  1542, 384,  0,
    0,    0,    610,  106,  0,    377,  559,  633,  0,    755,  1178, 1473, 0,    0,    698,  1191,
    1469, 0,    0,    0,    0,    0,    0,    1291, 1658, 255,  0,    0,    0,    0,    1702, 64,
    0,    0,    641,  0,    0,    445,  326,  0,    726,  0,    0,    0,    0,    0,    577,  0,
    1626, 570,  1609, 0,    45,   206,  580,  502,  0,    1170, 1608, 846,  0,    0,    1156, 322,
    1210, 0,    0,    0,    304,  128,  795,  0,    0,    0,    214,  0,    0,    0,    0,    767,
    329,  0,    628,  331,  1144, 1472, 0,    0,    111,  366,  1115, 0,    500,  50,   0,    839,
    0,    0,    926,  0,    0,    1577, 0,    0,    0,    0,    0,    0,    0,    0,    0,    368,
    0,    773,  1509, 0,    0,    889,  591,  1068, 0,    466,  0,    1711, 698,  274,  0,    0,
    1092, 798,  0,    431,  0,    0,    0,    0,    465,  0,    0,    1519, 0,    0,    0,    0,
    0,    910,  1207, 1595, 0,    0,    1138, 62,   0,    0,    0,    423,  320,  446,  0,    0,
    0,    0,    341,  0,    1088, 325,  0,    1378, 0,    1533, 0,    72,   0,    226,  0,    0,
    361,  607,  1691, 41,   0,    0,    0,    864,  79,   457,  86,   731,  29,   681,  0,    1426,
    0,    1739, 273,  736,  0,    941,  71,   0,    460,  0,    0,    32,   230,  0,    836,  0,
    0,    0,    1150, 0,    0,    103,  0,    0,    0,    734,  891,  306,  221,  696,  767,  900,
    0,    1562, 206,  0,    0,    697,  0,    236,  0,    1287, 0,    642,  0,    1740, 0,    0,
    0,    0,    697,  620,  211,  540,  394,  0,    191,  0,    8,    0,    0,    0,    896,  642,
    1752, 0,    1603, 874,  0,    695,  814,  394,  874,  1212, 659,  0,    93,   0,    0,    662,
    534,  0,    0,    361,  617,  1585, 207,  866,  0,    950,  494,  1743, 0,    376,  0,    707,
    1653, 0,    0,    0,    0,    0,    0,    0,    0,    0,    1296, 0,    1476, 0,    0,    1051,
    263,  0,    387,  691,  0,    1585, 925,  0,    0,    0,    868,  912,  0,    0,    391,  0,
    0,    780,  0,    1571, 0,    1134, 1040, 635,  169,  324,  1601, 491,  367,  0,    1697, 377,
    1252, 0,    636,  0,    0,    631,  56,   0,    593,  0,    0,    1212, 0,    62,   0,    771,
    0,    0,    323,  0,    0,    848,  1128, 0,    0,    25,   0,    1589, 0,    0,    0,    472,
    0,    131,  0,    383,  401,  387,  1101, 637,  1329, 64,   0,    715,  730,  133,  0,    0,
    116,  632,  214,  0,    1659, 1575, 334,  473,  0,    1003, 0,    1568, 5,    604,  0,    1671,
    0,    0,    0,    1526, 601,  0,    0,    1590, 1409, 0,    0,    0,    70,   0,    0,    0,
    312,  0,    909,  0,    0,    63,   336,  0,    744,  501,  823,  0,    0,    240,  886,  813,
    0,    198,  545,  0,    898,  0,    662,  170,  481,  0,    218,  1243, 0,    766,  0,    387,
    402,  0,    0,    153,  0,    555,  0,    1651, 484,  0,    437,  69,   1749, 449,  0,    0,
    639,  1730, 0,    0,    745,  284,  0,    0,    125,  603,  0,    589,  0,    0,    108,  0,
    1691, 0,    1427, 0,    0,    1076, 0,    0,    0,    852,  580,  13,   0,    382,  0,    0,
    795,  577,  424,  649,  340,  139,  0,    0,    274,  1643, 0,    0,    0,    1630, 0,    135,
    0,    1460, 214,  43,   0,    444,  422,  0,    171,  232,  417,  0,    0,    842,  0,    376,
    1660, 0,    810,  0,    526,  426,  0,    938,  467,  0,    374,  1079, 414,  299,  0,    757,
    475,  213,  279,  204,  0,    0,    0,    0,    0,    1401, 864,  808,  1699, 243,  0,    0,
    501,  0,    1276, 1449, 0,    0,    790,  222,  360,  190,  0,    566,  395,  0,    147,  1263,
    430,  0,    1452, 428,  1357, 902,  0,    1350, 0,    852,  409,  0,    7,    0,    0,    1404,
    795,  1419, 0,    0,    346,  0,    1350, 0,    0,    0,    783,  0,    347,  0,    517,  0,
    146,  373,  529,  557,  544,  0,    724,  0,    166,  1357, 490,  356,  0,    1719, 1238, 0,
    0,    193,  657,  0,    0,    1547, 582,  0,    708,  1438, 1123, 487,  762,  0,    0,    1393,
    985,  0,    0,    0,    0,    49,   0,    0,    1453, 496,  0,    119,  458,  0,    371,  1127,
    285,  1142, 1058, 0,    1555, 720,  514,  911,  859,  1617, 0,    0,    0,    1381, 586,  531,
    1380, 170,  0,    0,    370,  661,  0,    0,    1440, 0,    61,   884,  0,    70,   0,    420,
    832,  0,    163,  389,  477,  1617, 0,    0,    0,    541,  0,    279,  264,  0,    637,  981,
    0,    1636, 0,    1202, 539,  357,  0,    394,  296,  0,    741,  167,  583,  648,  50,   1352,
    0,    510,  1741, 1735, 215,  1679, 927,  1538, 1088, 0,    0,    0,    0,    932,  431,  0,
    0,    559,  1533, 1021, 62,   0,    237,  0,    0,    1314, 0,    0,    0,    1208, 0,    626,
    96,   1062, 0,    184,  538,  1675, 812,  303,  299,  1696, 0,    0,    0,    1193, 0,    1499,
    1169, 34,   576,  1444, 0,    377,  893,  0,    0,    0,    0,    954,  555,  0,    0,    0,
    0,    0,    815,  688,  0,    148,  382,  666,  1144, 790,  0,    339,  0,    1493, 1419, 578,
    0,    0,    704,  796,  0,    0,    0,    0,    603,  0,    0,    0,    1733, 0,    786,  496,
    847,  121,  0,    0,    65,   89,   1766, 650,  501,  1406, 566,  0,    0,    0,    0,    335,
    508,  0,    0,    0,    0,    1713, 0,    0,    0,    394,  334,  675,  517,  0,    0,    759,
    652,  347,  84,   878,  0,    381,  858,  0,    0,    0,    0,    757,  729,  0,    1049, 320,
    0,    825,  0,    894,  0,    1763, 1713, 752,  0,    245,  596,  1415, 0,    69,   0,    72,
    1661, 1369, 0,    0,    0,    140,  696,  828,  0,    904,  667,  0,    251,  0,    277,  135,
    0,    0,    0,    0,    1470, 0,    496,  0,    462,  56,   1098, 0,    437,  602,  1606, 1705,
    643,  373,  0,    1281, 1645, 375,  1600, 189,  0,    1281, 528,  1063, 921,  120,  340,  0,
    0,    1640, 809,  0,    1740, 73,   0,    720,  586,  375,  1658, 574,  672,  1143, 0,    0,
    0,    152,  45,   240,  1141, 1530, 450,  477,  987,  0,    505,  179,  0,    765,  0,    0,
    494,  313,  1487, 0,    382,  0,    0,    487,  0,    0,    1086, 0,    1554, 0,    937,  0,
    0,    719,  1469, 0,    0,    628,  0,    238,  0,    732,  0,    0,    0,    0,    0,    574,
    0,    197,  0,    0,    217,  192,  656,  522,  434,  828,  559,  1710, 914,  385,  0,    169,
    0,    349,  1170, 209,  613,  0,    0,    0,    552,  0,    53,   78,   176,  0,    0,    1028,
    318,  682,  590,  1755, 186,  608,  76,   1167, 1509, 1709, 215,  0,    0,    907,  1322, 853,
    0,    0,    1745, 0,    1330, 769,  111,  0,    1105, 187,  739,  501,  0,    300,  0,    579,
    1497, 680,  1609, 0,    0,    1289, 827,  0,    469,  229,  173,  734,  71,   734,  0,    0,
    192,  0,    0,    92,   0,    0,    1638, 56,   0,    0,    885,  0,    670,  0,    0,    210,
    666,  1400, 629,  0,    1703, 0,    1269, 1339, 945,  623,  360,  1074, 0,    21,   1463, 30,
    0,    298,  0,    872,  0,    21,   393,  0,    1355, 1280, 498,  449,  1296, 0,    0,    1060,
    353,  519,  806,  0,    0,    530,  1520, 1015, 0,    0,    0,    1190, 413,  76,   765,  0,
    1517, 1611, 629,  1689, 0,    1057, 85,   1575, 305,  1418, 322,  219,  0,    0,    8,    671,
    936,  1759, 0,    0,    1308, 42,   518,  393,  230,  1734, 1673, 1384, 0,    0,    1406, 176,
    0,    1713, 132,  562,  80,   328,  459,  0,    0,    615,  0,    522,  81,   377,  0,    465,
    610,  1402, 0,    0,    1459, 478,  0,    308,  0,    0,    0,    1498, 0,    619,  821,  0,
    0,    0,    922,  0,    844,  0,    0,    0,    0,    216,  1479, 615,  0,    1662, 0,    573,
    0,    1152, 0,    0,    841,  537,  1278, 0,    634,  278,  669,  1487, 1592, 882,  0,    793,
    1659, 1640, 35,   896,  0,    356,  0,    231,  123,  624,  1189, 961,  368,  1098, 410,  0,
    176,  0,    1461, 154,  0,    723,  606,  153,  494,  0,    459,  0,    391,  313,  0,    142,
    0,    0,    1688, 638,  250,  0,    1148, 799,  548,  855,  0,    290,  295,  416,  0,    771,
    0,    0,    398,  1312, 168,  303,  1454, 1545, 0,    0};

int MangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 1770;
    }
    return mangledkG[sum];
}

int MangledPerfectHash(const char *key)
{
    if (strlen(key) > 37)
        return 0;

    return (MangledHashG(key, mangledkT1) + MangledHashG(key, mangledkT2)) % 1770;
}

constexpr int unmangledkT1[] = {167, 1,   187, 96, 48, 180, 212, 85,  225, 8,   182, 133, 115,
                                131, 183, 1,   22, 84, 59,  258, 254, 256, 189, 166, 86,  137};
constexpr int unmangledkT2[] = {175, 129, 93, 100, 228, 106, 129, 134, 46, 139, 110, 55,  81,
                                13,  49,  47, 37,  187, 19,  64,  86,  27, 69,  7,   154, 151};
constexpr int unmangledkG[]  = {
    0,   0,   134, 0,   0,   0,   0,   221, 0,   0,   0,   0,   0,   136, 227, 176, 210, 0,   108,
    56,  0,   216, 0,   0,   128, 0,   139, 0,   0,   127, 71,  0,   0,   0,   150, 0,   0,   152,
    0,   0,   94,  0,   15,  137, 0,   0,   0,   0,   97,  106, 33,  123, 0,   0,   0,   0,   0,
    0,   0,   0,   18,  102, 220, 0,   0,   55,  0,   0,   0,   81,  0,   144, 0,   0,   188, 165,
    257, 0,   2,   73,  96,  42,  0,   19,  0,   194, 112, 243, 119, 232, 112, 133, 0,   257, 168,
    0,   128, 0,   49,  0,   26,  0,   0,   191, 79,  104, 208, 0,   0,   1,   144, 67,  178, 47,
    21,  93,  0,   0,   110, 140, 0,   0,   64,  0,   91,  168, 29,  0,   89,  0,   0,   0,   0,
    78,  199, 0,   135, 168, 47,  90,  32,  0,   146, 252, 101, 107, 248, 0,   174, 9,   0,   51,
    137, 41,  0,   211, 93,  0,   0,   0,   0,   0,   6,   97,  203, 179, 120, 12,  264, 0,   107,
    90,  175, 182, 153, 0,   0,   0,   5,   77,  246, 181, 0,   89,  76,  0,   236, 260, 39,  201,
    0,   10,  19,  11,  0,   260, 0,   8,   0,   151, 206, 70,  0,   81,  0,   0,   115, 0,   0,
    213, 0,   16,  221, 146, 0,   0,   161, 26,  82,  0,   0,   0,   122, 245, 0,   128, 0,   0,
    211, 0,   84,  74,  124, 138, 253, 0,   56,  0,   90,  0,   111, 0,   0,   195, 0,   13,  127,
    0,   0,   0,   180, 108, 2,   164, 31,  0,   34,  193, 0,   87,  200, 0,   36,  255, 34,  72};

int UnmangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 266;
    }
    return unmangledkG[sum];
}

int UnmangledPerfectHash(const char *key)
{
    if (strlen(key) > 26)
        return 0;

    return (UnmangledHashG(key, unmangledkT1) + UnmangledHashG(key, unmangledkT2)) % 266;
}

}  // namespace

namespace sh
{

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvPrime = 16777619u;

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvOffsetBasis = 0x811c9dc5u;

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvPrime =
    static_cast<size_t>(1099511628211ull);

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvOffsetBasis =
    static_cast<size_t>(0xcbf29ce484222325ull);

uint32_t ImmutableString::mangledNameHash() const
{
    return MangledPerfectHash(data());
}

uint32_t ImmutableString::unmangledNameHash() const
{
    return UnmangledPerfectHash(data());
}

}  // namespace sh
