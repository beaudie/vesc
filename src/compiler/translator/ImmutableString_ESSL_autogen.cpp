// GENERATED FILE - DO NOT EDIT.
// Generated by gen_builtin_symbols.py using data from builtin_variables.json and
// builtin_function_declarations.txt.
//
// Copyright 2020 The ANGLE Project Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
//
// ImmutableString_ESSL_autogen.cpp: Wrapper for static or pool allocated char arrays, that are
// guaranteed to be valid and unchanged for the duration of the compilation. Implements
// mangledNameHash using perfect hash function from gen_builtin_symbols.py

#include "compiler/translator/ImmutableString.h"

std::ostream &operator<<(std::ostream &os, const sh::ImmutableString &str)
{
    return os.write(str.data(), str.length());
}

#if defined(_MSC_VER)
#    pragma warning(disable : 4309)  // truncation of constant value
#endif

namespace
{

constexpr int mangledkT1[] = {295,  547,  213, 286, 1936, 1716, 1991, 1380, 1094, 223,
                              1578, 411,  723, 371, 794,  512,  1234, 296,  1398, 1444,
                              468,  378,  921, 378, 455,  1694, 25,   1329, 1622, 645,
                              669,  1705, 846, 715, 859,  163,  245};
constexpr int mangledkT2[] = {1718, 1878, 1345, 518,  640,  1194, 1758, 1431, 1222, 1709,
                              1579, 1396, 373,  993,  1681, 783,  130,  178,  474,  1657,
                              1584, 1927, 326,  1113, 857,  720,  1892, 816,  678,  1716,
                              1011, 1079, 1227, 1081, 838,  152,  549};
constexpr int mangledkG[]  = {
    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    0,    148,  0,    0,    0,    0,    0,    0,    814,  0,    0,
    0,    0,    0,    1326, 0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
    1500, 0,    0,    1929, 1974, 0,    974,  76,   0,    287,  0,    0,    0,    0,    35,   0,
    0,    0,    0,    0,    0,    0,    0,    0,    0,    1061, 1518, 0,    0,    0,    1138, 0,
    0,    0,    0,    0,    0,    0,    129,  884,  279,  0,    0,    0,    309,  0,    0,    0,
    0,    107,  0,    684,  0,    0,    0,    0,    0,    0,    0,    0,    0,    121,  0,    806,
    750,  0,    0,    0,    165,  864,  0,    0,    1778, 1216, 0,    0,    0,    0,    0,    0,
    833,  0,    0,    0,    0,    0,    576,  0,    0,    0,    0,    0,    0,    1637, 999,  0,
    0,    0,    1851, 84,   0,    0,    1418, 0,    0,    0,    0,    0,    0,    1956, 914,  0,
    0,    0,    0,    922,  519,  1354, 0,    0,    0,    1110, 0,    0,    617,  214,  285,  0,
    151,  556,  0,    0,    0,    510,  255,  0,    476,  694,  189,  762,  752,  0,    0,    0,
    0,    266,  486,  0,    0,    1097, 0,    0,    0,    0,    0,    534,  0,    0,    592,  0,
    0,    0,    0,    0,    0,    905,  0,    0,    0,    0,    0,    0,    1774, 0,    860,  0,
    0,    0,    0,    0,    0,    0,    416,  114,  0,    0,    1359, 0,    0,    813,  0,    0,
    0,    0,    136,  150,  0,    0,    164,  0,    0,    0,    1221, 0,    592,  0,    167,  0,
    0,    0,    140,  0,    424,  0,    0,    0,    370,  0,    0,    1582, 0,    0,    0,    0,
    980,  0,    286,  0,    534,  0,    346,  581,  1534, 0,    330,  0,    0,    0,    0,    0,
    0,    1019, 0,    0,    677,  0,    1718, 445,  0,    0,    1275, 1339, 0,    1778, 0,    422,
    1550, 1875, 0,    159,  0,    0,    0,    0,    1832, 0,    0,    0,    408,  242,  382,  0,
    0,    9,    1298, 0,    0,    168,  0,    0,    806,  0,    0,    482,  460,  882,  682,  0,
    0,    0,    0,    0,    0,    599,  0,    0,    0,    1875, 0,    684,  522,  0,    0,    0,
    0,    0,    0,    0,    319,  0,    0,    394,  1800, 0,    0,    0,    271,  0,    807,  0,
    0,    0,    159,  1777, 0,    0,    0,    1566, 0,    0,    0,    16,   523,  691,  0,    0,
    1151, 0,    354,  29,   0,    1991, 0,    0,    976,  0,    1913, 274,  0,    692,  779,  0,
    0,    631,  0,    0,    0,    247,  0,    0,    0,    611,  1370, 0,    0,    0,    1047, 0,
    0,    0,    0,    135,  0,    0,    688,  0,    687,  32,   0,    0,    666,  559,  1954, 187,
    759,  0,    0,    0,    1728, 0,    0,    571,  0,    520,  1726, 1479, 426,  0,    0,    997,
    0,    0,    1539, 213,  0,    0,    0,    0,    1475, 1031, 1616, 0,    0,    0,    0,    380,
    0,    311,  0,    0,    0,    0,    452,  0,    0,    1797, 0,    0,    1764, 708,  1656, 467,
    0,    1909, 0,    1787, 0,    0,    0,    0,    0,    0,    635,  721,  98,   1958, 1844, 0,
    789,  0,    0,    190,  0,    0,    0,    0,    0,    440,  0,    0,    0,    821,  1590, 0,
    352,  110,  0,    0,    0,    758,  0,    0,    0,    232,  1913, 672,  0,    499,  1885, 0,
    0,    0,    597,  0,    0,    0,    0,    866,  0,    0,    1506, 0,    0,    0,    219,  621,
    0,    0,    0,    95,   799,  802,  0,    217,  0,    0,    0,    0,    672,  0,    0,    857,
    0,    0,    1364, 0,    0,    1098, 0,    157,  0,    282,  0,    0,    1597, 1079, 568,  0,
    921,  0,    0,    0,    0,    0,    0,    0,    218,  0,    193,  0,    0,    196,  0,    1207,
    0,    0,    1006, 0,    1743, 493,  0,    0,    67,   0,    432,  115,  0,    0,    1896, 1707,
    1974, 121,  1936, 0,    214,  1759, 0,    0,    564,  629,  0,    616,  447,  0,    79,   894,
    0,    0,    102,  359,  815,  0,    0,    1251, 0,    448,  807,  51,   0,    0,    0,    0,
    0,    0,    878,  1880, 821,  0,    1554, 831,  1668, 0,    0,    1595, 475,  925,  0,    1431,
    969,  1937, 0,    0,    981,  149,  0,    0,    0,    423,  582,  990,  0,    1582, 679,  878,
    1753, 1704, 1885, 456,  49,   956,  1572, 1283, 379,  1288, 884,  0,    0,    0,    0,    1845,
    1870, 1250, 0,    1843, 1335, 0,    0,    1036, 54,   0,    0,    0,    844,  819,  705,  948,
    0,    0,    0,    696,  0,    959,  1752, 518,  1675, 0,    1441, 0,    67,   0,    1042, 273,
    0,    1725, 0,    0,    0,    0,    1617, 1870, 0,    0,    0,    626,  0,    728,  0,    1399,
    0,    590,  477,  0,    773,  0,    0,    0,    556,  1227, 0,    392,  0,    0,    0,    615,
    1233, 253,  1342, 1963, 0,    1562, 0,    0,    523,  942,  0,    0,    0,    0,    906,  0,
    0,    0,    221,  0,    1934, 0,    87,   0,    0,    369,  0,    0,    0,    0,    0,    1477,
    998,  843,  0,    534,  1802, 807,  389,  0,    0,    0,    0,    1218, 166,  0,    700,  0,
    1399, 1696, 359,  272,  0,    0,    0,    0,    215,  824,  0,    0,    1562, 194,  0,    309,
    0,    1451, 525,  0,    739,  0,    834,  0,    253,  642,  756,  0,    0,    0,    246,  1438,
    0,    0,    0,    0,    787,  0,    1615, 0,    0,    1053, 0,    781,  0,    517,  1133, 1735,
    936,  0,    0,    0,    625,  0,    0,    0,    764,  1476, 0,    1863, 0,    310,  1809, 0,
    0,    1926, 0,    0,    381,  225,  1710, 0,    0,    1470, 0,    0,    1311, 389,  0,    774,
    0,    0,    583,  199,  1262, 575,  0,    0,    434,  0,    0,    223,  0,    0,    0,    206,
    782,  0,    1924, 0,    518,  5,    0,    0,    706,  509,  0,    0,    0,    826,  0,    0,
    0,    1016, 0,    0,    1693, 136,  1847, 0,    0,    107,  881,  828,  872,  573,  112,  152,
    0,    191,  1405, 0,    0,    365,  128,  91,   0,    1044, 1761, 0,    0,    1494, 850,  0,
    260,  0,    54,   0,    945,  0,    0,    569,  1692, 0,    0,    0,    86,   1671, 0,    0,
    0,    0,    1935, 284,  0,    453,  1226, 432,  749,  191,  0,    0,    428,  1204, 162,  997,
    523,  290,  532,  307,  0,    161,  0,    0,    1958, 0,    0,    0,    1772, 0,    1455, 0,
    526,  1878, 829,  205,  1426, 0,    78,   0,    0,    0,    402,  319,  0,    801,  1674, 762,
    975,  674,  0,    0,    0,    124,  1608, 627,  1035, 1187, 0,    973,  0,    0,    334,  968,
    0,    0,    0,    0,    0,    1195, 0,    0,    0,    0,    789,  685,  0,    0,    628,  1553,
    1933, 673,  716,  795,  0,    143,  0,    645,  0,    0,    23,   0,    0,    1488, 353,  534,
    619,  0,    1566, 0,    863,  1634, 562,  0,    1607, 1840, 302,  1170, 1320, 0,    0,    903,
    0,    1096, 578,  0,    741,  1959, 0,    792,  0,    977,  557,  0,    0,    0,    0,    1151,
    0,    0,    0,    0,    0,    0,    302,  1775, 0,    120,  1004, 0,    0,    653,  0,    0,
    0,    0,    1968, 0,    1047, 0,    311,  0,    1931, 995,  20,   1668, 830,  0,    648,  257,
    0,    200,  318,  283,  0,    0,    829,  0,    1592, 0,    0,    0,    1868, 254,  0,    55,
    1207, 361,  0,    633,  1560, 1795, 224,  10,   709,  1958, 731,  0,    713,  1015, 139,  0,
    1910, 1374, 0,    0,    0,    229,  0,    351,  251,  127,  1887, 0,    416,  0,    675,  506,
    1961, 1956, 403,  471,  0,    353,  1571, 320,  0,    1567, 876,  0,    392,  436,  0,    409,
    489,  0,    0,    1941, 29,   0,    415,  0,    0,    809,  0,    0,    0,    0,    0,    890,
    0,    42,   600,  958,  1825, 320,  116,  724,  1845, 0,    140,  1983, 0,    0,    817,  0,
    662,  1537, 62,   60,   0,    968,  554,  0,    0,    473,  0,    0,    1795, 1146, 1073, 0,
    0,    59,   0,    0,    0,    345,  436,  535,  270,  0,    1972, 0,    577,  1571, 1911, 1680,
    1949, 441,  469,  207,  105,  267,  0,    1650, 1542, 335,  0,    0,    367,  474,  0,    0,
    0,    0,    54,   207,  316,  0,    563,  481,  1703, 1017, 909,  169,  1293, 0,    0,    838,
    0,    0,    0,    126,  0,    1018, 0,    669,  51,   0,    0,    0,    1828, 0,    0,    923,
    1436, 185,  0,    0,    0,    1938, 0,    0,    850,  0,    902,  0,    858,  151,  604,  0,
    0,    1960, 0,    216,  1798, 0,    1152, 0,    0,    239,  0,    73,   599,  0,    623,  0,
    757,  1728, 481,  0,    0,    1328, 1026, 0,    571,  531,  1739, 0,    957,  1734, 1016, 880,
    1806, 0,    0,    1706, 269,  582,  1013, 0,    1047, 0,    0,    0,    544,  738,  0,    987,
    0,    1617, 1,    1053, 650,  19,   0,    0,    1623, 840,  312,  1848, 0,    0,    265,  0,
    1984, 0,    299,  608,  580,  0,    0,    336,  0,    1966, 0,    0,    0,    1797, 426,  926,
    1035, 472,  451,  590,  0,    0,    635,  388,  528,  138,  0,    0,    1659, 0,    0,    241,
    895,  0,    0,    0,    578,  0,    0,    112,  955,  991,  0,    0,    0,    1457, 266,  0,
    219,  1320, 1945, 98,   0,    0,    0,    0,    0,    0,    1792, 1642, 381,  0,    916,  470,
    0,    0,    0,    0,    440,  1385, 0,    3,    314,  0,    268,  1696, 0,    0,    400,  579,
    243,  0,    107,  0,    184,  0,    0,    1852, 240,  598,  0,    0,    439,  1632, 1567, 956,
    877,  308,  0,    0,    735,  724,  161,  0,    452,  329,  0,    556,  0,    83,   0,    74,
    672,  0,    500,  0,    0,    947,  423,  674,  0,    0,    873,  0,    0,    139,  0,    0,
    258,  1518, 131,  0,    1369, 118,  122,  692,  63,   0,    0,    937,  722,  1960, 0,    720,
    270,  0,    7,    645,  549,  419,  0,    0,    333,  1324, 395,  743,  0,    1313, 339,  989,
    1805, 1526, 0,    1526, 1072, 1668, 300,  1868, 244,  1783, 0,    34,   1867, 187,  0,    824,
    0,    61,   791,  0,    0,    195,  881,  0,    1417, 0,    943,  479,  401,  966,  348,  578,
    88,   0,    498,  748,  0,    222,  948,  1235, 617,  280,  869,  1968, 224,  297,  333,  466,
    0,    1832, 1959, 1259, 1545, 0,    0,    0,    168,  0,    453,  931,  0,    1492, 1806, 1937,
    0,    972,  1720, 0,    0,    0,    1010, 0,    76,   500,  458,  442,  1477, 0,    1935, 319,
    661,  357,  0,    0,    1490, 0,    462,  733,  0,    256,  0,    0,    0,    0,    1982, 0,
    198,  0,    492,  0,    0,    0,    183,  331,  1745, 555,  0,    0,    0,    1236, 1054, 949,
    0,    1649, 775,  0,    0,    0,    1297, 32,   951,  1912, 0,    1581, 0,    871,  301,  541,
    0,    1488, 0,    0,    0,    0,    0,    0,    0,    114,  0,    14,   1285, 1699, 0,    1759,
    0,    0,    468,  954,  951,  0,    0,    384,  118,  1863, 0,    985,  0,    0,    0,    910,
    351,  476,  15,   0,    0,    154,  1710, 810,  659,  894,  783,  0,    1883, 1400, 144,  65,
    1845, 586,  115,  0,    693,  0,    0,    0,    769,  0,    1843, 450,  0,    286,  0,    997,
    830,  1496, 57,   483,  846,  0,    1361, 865,  474,  0,    0,    1828, 0,    0,    72,   1287,
    916,  0,    0,    0,    497,  0,    0,    1789, 0,    307,  817,  1067, 0,    0,    446,  280,
    835,  112,  357,  0,    87,   1177, 0,    813,  0,    1809, 0,    0,    0,    73,   0,    365,
    970,  0,    295,  773,  4,    0,    587,  0,    0,    426,  1576, 0,    0,    0,    1166, 0,
    0,    0,    0,    1899, 0,    978,  0,    0,    689,  123,  941,  0,    375,  1736, 0,    1192,
    1008, 421,  555,  0,    1272, 276,  0,    0,    564,  1206, 0,    0,    633,  743,  0,    0,
    51,   1334, 270,  262,  0,    675,  0,    1086, 0,    0,    1712, 852,  1341, 0,    199,  812,
    0,    758,  0,    685,  0,    0,    0,    0,    469,  0,    0,    0,    542,  75,   167,  938,
    0,    0,    801,  0,    0,    567,  0,    0,    0,    986,  753,  0,    649,  482,  0,    410,
    1820, 0,    842,  70,   1045, 752,  0,    223,  0,    1639, 1064, 0,    175,  1062, 0,    0,
    141,  832,  678,  0,    1191, 959,  732,  0,    160,  221,  1648, 69,   750,  0,    0,    0,
    1043, 342,  1963, 0,    90,   809,  0,    196,  1830, 0,    0,    282,  904,  442,  1123, 516,
    153,  211,  0,    964,  736,  1632, 458,  701,  0,    1442, 412,  786,  0,    1003, 0,    52,
    219,  1341, 2,    0,    0,    0,    0,    1132, 0,    124,  0,    363,  229,  1602, 0,    1649,
    1826, 336,  834,  1208, 512,  944,  0,    69,   816,  0,    319,  0,    0,    1071, 0,    0,
    0,    702,  170,  0,    543,  385,  0,    0,    0,    63,   377,  1442, 0,    0,    1416, 1362,
    0,    273,  839,  82,   0,    0,    1704, 1927, 0};

int MangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 1993;
    }
    return mangledkG[sum];
}

int MangledPerfectHash(const char *key)
{
    if (strlen(key) > 37)
        return 0;

    return (MangledHashG(key, mangledkT1) + MangledHashG(key, mangledkT2)) % 1993;
}

constexpr int unmangledkT1[] = {116, 84,  191, 36,  70, 49,  21, 70, 259, 258, 100, 156, 29,
                                189, 198, 5,   126, 94, 225, 34, 45, 114, 197, 243, 29,  254};
constexpr int unmangledkT2[] = {217, 251, 47,  64,  62,  22,  256, 11, 216, 93,  92,  235, 205,
                                195, 161, 207, 114, 180, 215, 8,   51, 3,   258, 148, 207, 56};
constexpr int unmangledkG[]  = {
    0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   191, 0,   0,   0,   218,
    266, 0,   0,   0,   0,   0,   0,   155, 0,   123, 0,   0,   0,   120, 0,   241, 157, 15,
    0,   0,   119, 0,   0,   86,  9,   261, 0,   0,   203, 0,   0,   0,   71,  40,  134, 0,
    27,  71,  0,   0,   0,   227, 231, 0,   0,   0,   9,   0,   192, 240, 180, 161, 0,   0,
    0,   0,   249, 136, 269, 150, 0,   198, 0,   85,  59,  220, 0,   0,   135, 228, 25,  118,
    0,   0,   0,   0,   164, 232, 23,  262, 146, 207, 0,   26,  47,  98,  130, 0,   0,   87,
    167, 238, 80,  0,   52,  0,   0,   162, 114, 3,   11,  146, 0,   0,   0,   113, 75,  257,
    0,   86,  0,   0,   48,  94,  0,   122, 0,   0,   0,   97,  0,   53,  32,  0,   231, 0,
    51,  8,   0,   58,  0,   0,   136, 0,   0,   248, 0,   226, 28,  264, 0,   0,   49,  0,
    124, 104, 0,   0,   252, 15,  91,  32,  103, 24,  127, 247, 0,   0,   85,  157, 66,  240,
    263, 77,  9,   226, 0,   0,   0,   249, 36,  218, 257, 139, 0,   106, 151, 0,   0,   6,
    109, 151, 0,   70,  91,  18,  212, 0,   40,  51,  69,  67,  121, 154, 0,   31,  0,   52,
    0,   100, 152, 0,   120, 0,   0,   245, 120, 42,  122, 0,   0,   0,   264, 119, 267, 117,
    258, 36,  160, 63,  0,   263, 60,  130, 61,  153, 44,  7,   31,  262, 37,  0,   147, 0,
    187, 0,   207, 93,  138, 92,  149, 0,   10,  91,  0,   0,   0,   57,  194, 0,   0,   255};

int UnmangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 270;
    }
    return unmangledkG[sum];
}

int UnmangledPerfectHash(const char *key)
{
    if (strlen(key) > 26)
        return 0;

    return (UnmangledHashG(key, unmangledkT1) + UnmangledHashG(key, unmangledkT2)) % 270;
}

}  // namespace

namespace sh
{

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvPrime = 16777619u;

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvOffsetBasis = 0x811c9dc5u;

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvPrime =
    static_cast<size_t>(1099511628211ull);

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvOffsetBasis =
    static_cast<size_t>(0xcbf29ce484222325ull);

uint32_t ImmutableString::mangledNameHash() const
{
    return MangledPerfectHash(data());
}

uint32_t ImmutableString::unmangledNameHash() const
{
    return UnmangledPerfectHash(data());
}

}  // namespace sh
