// GENERATED FILE - DO NOT EDIT.
// Generated by gen_builtin_symbols.py using data from builtin_variables.json and
// builtin_function_declarations.txt.
//
// Copyright 2019 The ANGLE Project Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
//
// ImmutableString_ESSL_autogen.cpp: Wrapper for static or pool allocated char arrays, that are
// guaranteed to be valid and unchanged for the duration of the compilation. Implements
// mangledNameHash using perfect hash function from gen_builtin_symbols.py

#include "compiler/translator/ImmutableString.h"

std::ostream &operator<<(std::ostream &os, const sh::ImmutableString &str)
{
    return os.write(str.data(), str.length());
}

#if defined(_MSC_VER)
#    pragma warning(disable : 4309)  // truncation of constant value
#endif

namespace
{

constexpr int mangledkT1[] = {1502, 200,  426,  1061, 1486, 1030, 693,  625, 633,  381,
                              1685, 1395, 1594, 633,  727,  380,  38,   842, 1143, 1710,
                              1753, 738,  1581, 564,  1788, 1058, 1628, 313, 1737, 24,
                              1096, 1299, 872,  551,  838,  640,  615};
constexpr int mangledkT2[] = {442,  1385, 309,  287,  1022, 1577, 606,  1073, 1250, 559,
                              82,   1042, 1134, 1032, 1294, 920,  267,  1000, 362,  1238,
                              1099, 984,  1077, 1381, 569,  1676, 1773, 170,  426,  1351,
                              1407, 133,  1552, 1168, 739,  1125, 945};
constexpr int mangledkG[]  = {
    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
    0,    0,    773,  0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,
    0,    0,    1397, 0,    0,    1227, 0,    0,    1436, 0,    0,    0,    1045, 1122, 139,  0,
    0,    0,    0,    0,    0,    0,    0,    0,    0,    1779, 0,    0,    0,    0,    0,    0,
    1687, 0,    0,    0,    870,  1223, 0,    0,    0,    0,    1345, 0,    0,    0,    0,    0,
    0,    0,    0,    0,    0,    0,    0,    0,    427,  0,    0,    0,    0,    105,  0,    0,
    1731, 0,    0,    0,    786,  877,  0,    0,    0,    615,  0,    0,    0,    0,    792,  0,
    0,    0,    0,    1767, 0,    1231, 0,    699,  1533, 0,    1664, 0,    0,    0,    0,    1005,
    0,    0,    0,    0,    0,    0,    0,    0,    1518, 0,    0,    0,    0,    0,    1333, 190,
    125,  0,    1249, 0,    938,  0,    0,    1281, 916,  0,    344,  0,    0,    0,    0,    1418,
    1494, 0,    643,  884,  68,   0,    921,  587,  0,    0,    0,    445,  0,    0,    0,    889,
    0,    0,    0,    416,  0,    0,    0,    0,    0,    100,  0,    0,    0,    443,  0,    0,
    0,    0,    1341, 0,    0,    0,    0,    71,   1695, 0,    0,    0,    0,    0,    0,    1697,
    1253, 1453, 535,  774,  1057, 0,    0,    0,    0,    0,    0,    0,    899,  0,    997,  0,
    0,    0,    791,  0,    0,    0,    914,  231,  0,    1449, 0,    978,  501,  68,   0,    0,
    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    1485, 0,    0,    951,  0,    0,
    0,    0,    559,  501,  1160, 0,    91,   0,    0,    0,    197,  0,    148,  705,  0,    0,
    0,    0,    0,    754,  0,    0,    46,   0,    0,    0,    0,    0,    0,    821,  665,  0,
    418,  1198, 57,   309,  1665, 379,  0,    0,    468,  1639, 0,    0,    1094, 0,    0,    0,
    930,  0,    0,    0,    0,    0,    1153, 0,    905,  0,    704,  0,    0,    0,    0,    588,
    0,    0,    329,  0,    1064, 0,    106,  1790, 815,  1647, 0,    357,  0,    211,  0,    0,
    0,    9,    522,  121,  0,    536,  787,  1721, 1381, 0,    0,    0,    0,    0,    499,  1235,
    0,    1016, 0,    0,    0,    0,    0,    875,  658,  0,    503,  0,    0,    482,  0,    0,
    0,    0,    1248, 81,   37,   0,    0,    0,    0,    0,    856,  288,  605,  328,  0,    0,
    234,  0,    0,    0,    1678, 1471, 652,  862,  326,  0,    0,    0,    0,    790,  257,  0,
    1734, 139,  748,  632,  0,    0,    230,  0,    0,    0,    8,    0,    722,  1767, 1565, 177,
    192,  634,  0,    1578, 898,  0,    0,    1169, 486,  0,    0,    929,  0,    0,    0,    1162,
    1645, 0,    1489, 207,  222,  0,    583,  0,    825,  606,  1266, 323,  1391, 0,    0,    0,
    0,    320,  0,    0,    255,  0,    898,  0,    525,  695,  0,    1030, 1205, 272,  737,  0,
    0,    1034, 0,    164,  0,    7,    1448, 908,  1284, 0,    834,  1142, 957,  0,    0,    1494,
    404,  0,    0,    0,    0,    0,    0,    1107, 0,    463,  0,    719,  0,    0,    928,  0,
    0,    59,   1146, 829,  0,    0,    386,  0,    313,  97,   0,    0,    270,  0,    1768, 0,
    839,  1402, 468,  25,   0,    0,    396,  499,  0,    0,    0,    0,    353,  485,  1535, 1632,
    0,    0,    713,  0,    0,    0,    1048, 586,  0,    0,    518,  1717, 0,    0,    0,    0,
    81,   84,   693,  0,    516,  1706, 0,    0,    0,    894,  1485, 1760, 78,   342,  57,   0,
    0,    235,  0,    373,  422,  0,    101,  0,    0,    528,  0,    225,  1261, 0,    0,    0,
    229,  13,   0,    167,  0,    0,    0,    109,  0,    1403, 0,    493,  0,    0,    984,  490,
    0,    0,    863,  0,    1053, 0,    646,  472,  806,  56,   1261, 406,  70,   658,  0,    869,
    1710, 0,    617,  0,    260,  228,  697,  857,  441,  0,    0,    0,    546,  1291, 786,  0,
    0,    0,    666,  0,    720,  0,    445,  1535, 0,    350,  0,    0,    0,    408,  552,  0,
    0,    384,  847,  0,    0,    0,    343,  0,    648,  0,    530,  0,    0,    0,    0,    0,
    0,    0,    891,  0,    0,    1100, 855,  350,  1136, 168,  1691, 311,  640,  1287, 0,    1652,
    488,  1153, 0,    107,  1446, 0,    0,    0,    1758, 0,    182,  974,  613,  74,   1762, 0,
    0,    0,    771,  912,  0,    0,    0,    824,  0,    1613, 0,    0,    1141, 0,    53,   0,
    0,    0,    0,    0,    0,    586,  0,    101,  1793, 216,  0,    0,    1495, 0,    0,    0,
    0,    0,    28,   0,    419,  463,  0,    1786, 0,    1477, 0,    619,  101,  0,    942,  0,
    749,  1602, 0,    0,    1663, 0,    0,    0,    293,  0,    885,  0,    1122, 1197, 1342, 471,
    0,    440,  131,  0,    582,  0,    784,  733,  0,    0,    1650, 0,    130,  0,    376,  0,
    268,  1656, 760,  87,   0,    361,  0,    1306, 228,  0,    0,    1352, 0,    547,  396,  0,
    0,    0,    0,    0,    0,    0,    0,    0,    379,  561,  155,  332,  0,    284,  1126, 591,
    593,  0,    0,    908,  642,  0,    521,  0,    0,    276,  507,  349,  0,    110,  1566, 0,
    0,    0,    0,    1582, 1342, 0,    0,    476,  906,  345,  0,    0,    115,  0,    0,    432,
    261,  483,  1622, 1101, 0,    0,    239,  0,    0,    373,  163,  162,  0,    229,  0,    0,
    0,    252,  1089, 360,  953,  1313, 0,    0,    0,    389,  0,    0,    0,    1653, 655,  246,
    852,  635,  583,  0,    313,  0,    0,    0,    0,    858,  1712, 345,  592,  1338, 0,    1316,
    1657, 0,    95,   56,   1167, 0,    0,    169,  406,  126,  1708, 0,    1132, 0,    1524, 0,
    621,  0,    1154, 777,  72,   0,    0,    604,  0,    574,  137,  0,    0,    853,  0,    1248,
    1427, 0,    0,    240,  364,  1635, 504,  0,    728,  410,  0,    0,    1276, 798,  0,    838,
    1386, 0,    0,    1771, 0,    0,    0,    0,    0,    0,    931,  165,  0,    0,    1597, 718,
    0,    341,  0,    0,    814,  0,    1612, 278,  248,  0,    0,    604,  1164, 102,  871,  440,
    0,    526,  0,    0,    0,    295,  0,    0,    0,    550,  1021, 264,  492,  1185, 1653, 136,
    558,  0,    0,    0,    0,    849,  19,   0,    0,    0,    117,  601,  146,  0,    0,    200,
    317,  0,    1646, 0,    139,  556,  913,  0,    0,    1697, 1129, 0,    426,  0,    1252, 485,
    1775, 722,  1507, 1754, 0,    0,    1162, 805,  430,  87,   1128, 814,  925,  1662, 1191, 1776,
    1425, 0,    83,   0,    0,    1685, 1767, 0,    0,    766,  250,  1464, 0,    0,    1097, 1572,
    680,  886,  358,  0,    0,    0,    1384, 0,    136,  143,  0,    0,    0,    1761, 957,  802,
    20,   0,    946,  0,    0,    706,  0,    0,    1416, 0,    661,  600,  0,    0,    0,    449,
    0,    71,   25,   0,    1196, 11,   0,    378,  0,    804,  1286, 633,  0,    0,    784,  0,
    0,    1475, 0,    0,    0,    802,  34,   158,  1503, 0,    0,    570,  0,    399,  410,  417,
    284,  225,  1683, 369,  0,    1297, 0,    0,    0,    743,  0,    0,    287,  1783, 0,    0,
    5,    23,   822,  0,    672,  118,  398,  0,    805,  797,  0,    1321, 376,  265,  716,  223,
    0,    0,    185,  0,    0,    1494, 385,  0,    104,  631,  0,    336,  0,    743,  197,  336,
    822,  688,  0,    0,    507,  0,    0,    438,  0,    796,  1073, 0,    310,  127,  1733, 1145,
    1581, 619,  77,   0,    237,  1260, 855,  15,   1003, 529,  0,    26,   1752, 629,  0,    1759,
    0,    0,    112,  1310, 0,    299,  167,  216,  0,    1666, 221,  1529, 659,  0,    0,    1790,
    229,  758,  39,   351,  12,   0,    42,   213,  727,  0,    394,  0,    0,    231,  0,    1398,
    0,    0,    1016, 0,    0,    900,  109,  579,  0,    437,  144,  1171, 0,    291,  387,  817,
    971,  798,  584,  173,  1417, 1401, 769,  0,    464,  309,  766,  0,    0,    327,  500,  0,
    1429, 0,    413,  0,    0,    422,  742,  269,  1431, 224,  0,    678,  0,    0,    693,  984,
    420,  349,  0,    1492, 197,  0,    1316, 324,  122,  258,  0,    130,  1533, 0,    1549, 0,
    492,  858,  0,    0,    1028, 706,  313,  1300, 0,    0,    0,    317,  0,    0,    266,  0,
    0,    294,  0,    372,  1110, 0,    158,  0,    0,    461,  373,  426,  263,  1659, 0,    0,
    956,  795,  0,    0,    855,  0,    1612, 282,  987,  0,    1532, 932,  113,  767,  0,    547,
    575,  0,    670,  755,  0,    637,  1606, 822,  0,    621,  442,  0,    17,   0,    270,  423,
    614,  593,  202,  0,    1110, 0,    0,    655,  0,    455,  1448, 240,  1109, 506,  0,    0,
    135,  0,    0,    97,   890,  1500, 0,    572,  1793, 0,    149,  45,   145,  0,    335,  176,
    417,  0,    374,  0,    0,    0,    1334, 664,  0,    322,  0,    1696, 1121, 0,    225,  1209,
    187,  1578, 38,   0,    0,    759,  686,  0,    639,  0,    0,    735,  818,  0,    0,    1432,
    1680, 753,  0,    0,    55,   962,  156,  3,    0,    21,   0,    0,    358,  0,    0,    1655,
    0,    1767, 0,    639,  71,   0,    0,    0,    100,  946,  703,  279,  1250, 0,    576,  850,
    636,  1440, 1473, 1663, 559,  0,    112,  804,  155,  0,    166,  0,    0,    394,  0,    0,
    0,    0,    0,    204,  681,  0,    340,  1291, 1541, 0,    674,  0,    868,  960,  122,  0,
    144,  0,    0,    322,  0,    746,  0,    331,  0,    734,  0,    571,  0,    0,    1259, 535,
    0,    185,  778,  0,    1785, 329,  0,    459,  598,  433,  0,    1791, 865,  511,  0,    9,
    0,    671,  740,  0,    0,    414,  0,    0,    1673, 0,    0,    0,    0,    679,  249,  1434,
    631,  586,  0,    830,  769,  949,  120,  1671, 0,    0,    325,  473,  1275, 0,    0,    1412,
    20,   1738, 589,  0,    1428, 1251, 0,    1419, 208,  1783, 1348, 1555, 1184, 95,   363,  65,
    254,  1539, 170,  0,    577,  0,    1730, 720,  0,    494,  1748, 725,  0,    1237, 0,    0,
    0,    392,  240,  105,  34,   269,  0,    121,  0,    51,   1510, 121,  0,    892,  0,    0,
    1755, 92,   0,    0,    626,  916,  0,    1536, 1444, 654,  0,    0,    1379, 0,    0,    199,
    225,  762,  164,  7,    0,    1520, 251,  353,  1357, 0,    687,  0,    694,  0,    88,   0,
    665,  943,  537,  979,  467,  105,  1352, 282,  0,    1275, 705,  1295, 206,  0,    0,    0,
    0,    850,  1719, 1657, 0,    0,    79,   670,  0,    0,    365,  199,  283,  390,  1447, 320,
    174,  464,  0,    85,   0,    338,  0,    739,  0,    186,  569,  69,   1227, 466,  288,  0,
    744,  0,    0,    897,  148,  1556, 0,    1160, 1337, 345,  0,    0,    1599, 1749, 1562, 624,
    103,  330,  329,  0,    1183, 724,  0,    30,   1780, 115,  0,    856,  542,  0,    1623, 0,
    0,    0,    768,  134,  0,    0,    0,    428,  0,    0,    1539, 1323, 0,    1722, 95,   0,
    912,  841,  322,  0,    465,  1732, 1272, 498,  57,   659,  0,    0,    929,  1394, 0,    829,
    487,  815,  728,  9,    0,    508,  123,  0,    1666, 0,    0,    0,    0,    0,    1615, 425,
    898,  1316, 0,    738,  1305, 1382, 1453, 16,   717,  527,  1237, 1422, 0,    888,  542,  618,
    0,    41,   0,    0,    0,    0,    734,  685,  543,  1201, 1727, 0,    233,  286,  82,   1275,
    434,  98,   245,  0,    497,  1663, 0,    1425, 528,  1678, 0,    1112, 173,  1728, 1202, 657,
    0,    1092, 426,  75,   0,    592,  0};

int MangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 1799;
    }
    return mangledkG[sum];
}

int MangledPerfectHash(const char *key)
{
    if (strlen(key) > 37)
        return 0;

    return (MangledHashG(key, mangledkT1) + MangledHashG(key, mangledkT2)) % 1799;
}

constexpr int unmangledkT1[] = {73, 155, 144, 185, 6,   27, 185, 213, 111, 57,  91,  108, 112,
                                93, 3,   24,  77,  130, 94, 97,  49,  182, 100, 229, 107, 130};
constexpr int unmangledkT2[] = {79,  168, 238, 229, 157, 224, 75,  180, 158, 26,  146, 213, 35,
                                168, 1,   189, 176, 213, 85,  226, 8,   183, 135, 47,  140, 111};
constexpr int unmangledkG[]  = {
    0,   0,   0,   0,   231, 0,   0,   0,   193, 22,  0,   0,   30,  0,   0,   118, 0,   224,
    0,   0,   13,  0,   265, 254, 0,   126, 0,   139, 0,   47,  78,  0,   0,   0,   0,   79,
    0,   70,  0,   0,   0,   228, 0,   133, 0,   160, 0,   72,  0,   69,  85,  0,   0,   0,
    120, 20,  0,   0,   0,   0,   0,   148, 0,   58,  193, 0,   0,   26,  0,   108, 0,   0,
    194, 207, 264, 104, 200, 15,  141, 5,   121, 0,   24,  0,   225, 0,   217, 223, 34,  0,
    89,  6,   150, 260, 24,  213, 97,  0,   0,   31,  249, 221, 38,  0,   82,  0,   220, 169,
    0,   128, 112, 143, 19,  0,   0,   0,   263, 0,   0,   155, 0,   0,   0,   21,  248, 0,
    29,  0,   22,  18,  188, 25,  243, 0,   255, 128, 0,   16,  0,   238, 99,  259, 120, 0,
    37,  0,   79,  255, 0,   0,   237, 244, 0,   0,   0,   0,   0,   192, 193, 106, 163, 0,
    0,   21,  56,  100, 57,  41,  149, 0,   0,   45,  0,   83,  231, 140, 0,   0,   21,  0,
    67,  109, 24,  0,   0,   0,   0,   53,  175, 99,  0,   0,   113, 150, 46,  262, 123, 73,
    189, 0,   112, 125, 0,   198, 63,  139, 0,   92,  185, 241, 25,  80,  87,  0,   0,   117,
    0,   0,   0,   0,   241, 0,   0,   26,  0,   101, 79,  58,  52,  138, 163, 132, 81,  0,
    27,  0,   0,   29,  98,  93,  157, 0,   119, 0,   0,   248, 141, 112, 0,   0,   0,   8,
    0,   58,  125, 60,  242, 258, 254, 0,   0,   166, 0,   33,  128, 0,   105, 63};

int UnmangledHashG(const char *key, const int *T)
{
    int sum = 0;

    for (int i = 0; key[i] != '\0'; i++)
    {
        sum += T[i] * key[i];
        sum %= 268;
    }
    return unmangledkG[sum];
}

int UnmangledPerfectHash(const char *key)
{
    if (strlen(key) > 26)
        return 0;

    return (UnmangledHashG(key, unmangledkT1) + UnmangledHashG(key, unmangledkT2)) % 268;
}

}  // namespace

namespace sh
{

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvPrime = 16777619u;

template <>
const size_t ImmutableString::FowlerNollVoHash<4>::kFnvOffsetBasis = 0x811c9dc5u;

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvPrime =
    static_cast<size_t>(1099511628211ull);

template <>
const size_t ImmutableString::FowlerNollVoHash<8>::kFnvOffsetBasis =
    static_cast<size_t>(0xcbf29ce484222325ull);

uint32_t ImmutableString::mangledNameHash() const
{
    return MangledPerfectHash(data());
}

uint32_t ImmutableString::unmangledNameHash() const
{
    return UnmangledPerfectHash(data());
}

}  // namespace sh
