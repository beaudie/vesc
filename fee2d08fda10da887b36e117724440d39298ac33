{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cdc40fef_1a5470f8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-09-15T00:19:46Z",
      "side": 1,
      "message": "@Shahbaz, So I tried to use the ImageHelper that is part of the surface\u0027s Image. Then used BufferHelper to copy buffer to or from Image. Basically following TextureVk  copyBufferDateToImage(). And I added a Finish() when done. Everything seems to work except the copy. When I call Finish() there are no commands to process. So I\u0027m missing something. And I\u0027m trying to use the OneOff Command Buffer feature of RendererVk to do the copy.\n\nSeveral functions regarding mapping the new allocated buffer are duplicates with name \"2\" appended. Its still a bit hacky, just trying to get it to work. Here I just needed to use DisplayVk instead of ContextVk.\n",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "313e4a76_854001b1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-09-15T13:42:35Z",
      "side": 1,
      "message": "Comment to point to where its not copying",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "87bee182_8d5905d3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-09-16T19:47:03Z",
      "side": 1,
      "message": "Jeff, could you please split this change in three; the autogen part (which can land immediately), the front-end and the back-end support?\n\nThat should make review simpler.",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06f10152_9555e975",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-09-16T20:01:12Z",
      "side": 1,
      "message": "Yes, let get that done",
      "parentUuid": "87bee182_8d5905d3",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a1692e64_399fc916",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-09-16T20:01:12Z",
      "side": 1,
      "message": "Will do, and get back to you.",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e4b9f72_a841a31f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-09-22T00:02:51Z",
      "side": 1,
      "message": "Done on patch set 2",
      "parentUuid": "06f10152_9555e975",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2d6b9d2_643bd9bd",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7127,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-09-16T19:47:03Z",
      "side": 1,
      "message": "You can simplify things a lot by not using the DynamicBuffer for this purpose. Just have the surface allocate a vk::BufferHelper once directly (i.e. dedicated allocation) and reuse it until destruction.",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd3db980_2082abc4",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7127,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-09-16T20:01:12Z",
      "side": 1,
      "message": "OK, let me work on that.",
      "parentUuid": "a2d6b9d2_643bd9bd",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "537a60c3_225ff8a5",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7146,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-09-15T13:42:35Z",
      "side": 1,
      "message": "Here is where command are used. Copy is not happening.",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8346dfd_c7b689c7",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7146,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-09-16T19:47:03Z",
      "side": 1,
      "message": "Can you be a bit more specific about what\u0027s happening? Is the copy command itself not being submitted to the GPU? Is the command submitted, but the GPU doesn\u0027t do the copy?\n\nIf something is actually sent to the GPU, you can check what\u0027s going on with renderdoc. You can run an end2end test under renderdoc with `--renderdoc` which will automatically capture what the test does in one renderdoc \"frame\".",
      "parentUuid": "537a60c3_225ff8a5",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "541873ee_8a3d012d",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 1
      },
      "lineNbr": 7146,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2021-09-16T20:01:12Z",
      "side": 1,
      "message": "I\u0027ll work that and get back to you a more precise description.",
      "parentUuid": "f8346dfd_c7b689c7",
      "revId": "fee2d08fda10da887b36e117724440d39298ac33",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}