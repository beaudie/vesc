{
  "comments": [
    {
      "key": {
        "uuid": "66bc2492_0224ba0e",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2166,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2019-07-24T21:56:50Z",
      "side": 1,
      "message": "FYI - this is the \"safe\" path alternative path we had -\n\n1. Map unpackBufferVk\n2. Use LoadImageFunctionInfo and copy data from unpack to staging buffer\n3. Unmap unpackBufferVk\n4. emplace_back(...) the staging buffer",
      "revId": "62e294ed0e8f5661ae29c27c282aa14591407f13",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8716a6c4_ca0700d7",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2166,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-07-24T22:07:29Z",
      "side": 1,
      "message": "Honestly, any path with a CPU readback would be so unbearably slow that we might as well not bother having it (if there are alternatives)",
      "parentUuid": "66bc2492_0224ba0e",
      "revId": "62e294ed0e8f5661ae29c27c282aa14591407f13",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49f931f7_11a44946",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2166,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-07-25T12:49:52Z",
      "side": 1,
      "message": "How about a compute shader? The compute shader copies from the unpack buffer to the pixel buffer. The compute shader would have to unpack according to the various unpacking parameters.",
      "parentUuid": "8716a6c4_ca0700d7",
      "revId": "62e294ed0e8f5661ae29c27c282aa14591407f13",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92f7039f_71b199db",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2166,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-07-25T13:57:44Z",
      "side": 1,
      "message": "Isn\u0027t the ConvertVertex compute shader practically doing the same thing? Perhaps that could be generalized to include the missing pieces if any.",
      "parentUuid": "49f931f7_11a44946",
      "revId": "62e294ed0e8f5661ae29c27c282aa14591407f13",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7142c361_f7dd8e5e",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2166,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-07-25T14:00:09Z",
      "side": 1,
      "message": "Possibly. We\u0027d need to update the path to accept \"unpack\" parameters. See the GL spec for UNPACK_ROW_LENGTH, UNPACK_SKIP_ROWS, etc.\n\nAlso there may be different format conversions for additional texture formats.\n\nThat\u0027s why a map/readback path is good as a functionality placeholder. Since I believe the conversion functions already exist on CPU.",
      "parentUuid": "92f7039f_71b199db",
      "revId": "62e294ed0e8f5661ae29c27c282aa14591407f13",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53f1f2c8_ed659c78",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2166,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2019-07-25T23:17:47Z",
      "side": 1,
      "message": "Coming back to this topic ... I agree that a map/readback path is good to have.  It may be sufficiently-fast for some format-type combinations, at least until we can create a shader(s).",
      "parentUuid": "7142c361_f7dd8e5e",
      "revId": "62e294ed0e8f5661ae29c27c282aa14591407f13",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}