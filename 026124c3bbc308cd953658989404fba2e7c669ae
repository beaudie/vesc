{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "92737958_7f776b02",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-08-29T17:16:29Z",
      "side": 1,
      "message": "There have been _many_ bugs with RGBX since it was introduced, and I really hope we don\u0027t have to find and squash the same bugs again with the sRGB variants We have RGBX tests in ImageTest.cpp that you should be able to adapt to trigger usage of the new sRGB format in an AHB import.\n\nOnce you have that, please add the following tests (some can be adapted from other existing tests, you can grep for RGBX in gl_tests/):\n\n- Blit between RGBX_SRGB and RGB_SRGB textures\n- Multisampled resolve from RGBX_SRGB to RGB_SRGB (and vice versa)\n- glCopyTexSubImage to RGBX_SRGB\n- glReadPixels from RGBX_SRGB\n- glClear(COLOR) of RGBX_SRGB + make sure occlusion query doesn\u0027t count the clear!\n- Draw to RGBX_SRGB\n\nAll the above have been cases where we had had issues with RGBX in the past.",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "219d407c_0de32128",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-08-29T20:08:10Z",
      "side": 1,
      "message": "Understand the need for more tests here, but I don\u0027t have bandwidth right now to write many tests and make it perfect. We don\u0027t have to do everything in this CL, but will arrange more resources and do further improvement in this area. I do plan to add a few more tests in the follow up CLs as well as Solti is porting current failing CTS tests to gl_tests as well.",
      "parentUuid": "92737958_7f776b02",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54602676_e4c4346d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2023-08-29T20:55:24Z",
      "side": 1,
      "message": "At least it\u0027s not exposed as an internal format to the user. These cases do still apply because an AHB can be used in any way a GL texture can. Let\u0027s get a test into ImageTest.cpp that covers basic creation and does a clear/readback to verify sRGB.",
      "parentUuid": "219d407c_0de32128",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c471cfba_c6253df0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-08-30T00:23:58Z",
      "side": 1,
      "message": "Basic test already exist. I expanded it in https://chromium-review.googlesource.com/c/angle/angle/+/4824046",
      "parentUuid": "54602676_e4c4346d",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a38a4294_9311911f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-08-30T01:02:36Z",
      "side": 1,
      "message": "If you search kColorspaceAttribs in ImageTest.cpp, there are 24 occurence, which means around 24 tests doing SRGB test. I roughly looked it, I think mostly use AHB texture to sample from. There isn\u0027t any test that renders to it, which we should add. (But there are tests that use AHB texture as FBO attachment and render to it, just not sRGB color spaced texture).",
      "parentUuid": "c471cfba_c6253df0",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66dd6475_2fb55b23",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1551137
      },
      "writtenOn": "2023-08-30T15:51:59Z",
      "side": 1,
      "message": "can we take this action in b/298033755?  I\u0027ll be the POC, with help from you all.",
      "parentUuid": "a38a4294_9311911f",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5736a635_b7624303",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-08-30T18:43:18Z",
      "side": 1,
      "message": "Thanks Solti. Yes, lets track more follow up work on that bug",
      "parentUuid": "66dd6475_2fb55b23",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03692270_605fea9a",
        "filename": "src/libANGLE/formatutils.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1708,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-08-29T17:16:29Z",
      "side": 1,
      "message": "And here",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "486c3d94_159e6bf4",
        "filename": "src/libANGLE/formatutils.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1708,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2023-08-29T20:55:24Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "03692270_605fea9a",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb4802a5_291bfa38",
        "filename": "src/libANGLE/formatutils.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1708,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-08-30T00:23:58Z",
      "side": 1,
      "message": "This call comes from API, which will not see these internal formats.",
      "parentUuid": "486c3d94_159e6bf4",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c1ae471_cf978f03",
        "filename": "src/libANGLE/formatutils.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1708,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-08-30T18:43:18Z",
      "side": 1,
      "message": "Will add an assertion as well.",
      "parentUuid": "fb4802a5_291bfa38",
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d1be64b_c64daff0",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1833,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2023-08-29T20:55:24Z",
      "side": 1,
      "message": "nit: Let\u0027s just remove it. There are only 4 call sites in this file.",
      "range": {
        "startLine": 1833,
        "startChar": 31,
        "endLine": 1833,
        "endChar": 56
      },
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "89472df8_840abd9b",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1833,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-08-30T00:23:58Z",
      "side": 1,
      "message": "Done in https://chromium-review.googlesource.com/c/angle/angle/+/4824046",
      "parentUuid": "5d1be64b_c64daff0",
      "range": {
        "startLine": 1833,
        "startChar": 31,
        "endLine": 1833,
        "endChar": 56
      },
      "revId": "026124c3bbc308cd953658989404fba2e7c669ae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}