{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e2dd023d_7b43499d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-09-02T19:53:15Z",
      "side": 1,
      "message": "Hi Sunny,\n\nThis CL makes ANGLE use Vulkan secondary command buffers. It doesn\u0027t produce any validation errors, but it\u0027s clearly buggy as it randomly fails tests on all platforms. Running some test through RenderDoc however, the test behaves correctly.\n\nI haven\u0027t pinpointed yet what the issue might be. Running it on a debug build of your driver would probably provide useful insights as to what ANGLE is doing wrong here, so I would appreciate your help with this.\n\nOnce the CL is fixed, you should be able to try it out for performance comparisons :)",
      "revId": "5124e40df3dfb1afd31649c0aafc838d0653fd28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04202799_5f56c242",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1323708
      },
      "writtenOn": "2021-09-07T10:18:51Z",
      "side": 1,
      "message": "Mali Vulkan driver doesn\u0027t support inheritedQueries, so we cannot run GLES30 applications.\nFor T-Rex, its FPS drops \u003e 20%\nI can provide some more details tomorrow if it\u0027s needed",
      "parentUuid": "e2dd023d_7b43499d",
      "revId": "5124e40df3dfb1afd31649c0aafc838d0653fd28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fabc5f02_9cd89ac8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-09-07T16:39:55Z",
      "side": 1,
      "message": "\u003e Mali Vulkan driver doesn\u0027t support inheritedQueries, so we cannot run GLES30 applications.\n\nRight, we actually should stop requiring that feature. I removed that here: https://chromium-review.googlesource.com/c/angle/angle/+/3145611\n\n\u003e For T-Rex, its FPS drops \u003e 20%\n\nThat\u0027s surprising (1). If you run deqp, do you see test failures like we see on our bots? There might be something wrong with the command buffers we submit, and I don\u0027t really know what that could be at the moment.\n\n(1) I noticed that we actually generate a lot of tiny secondary command buffers outside a render pass (basically every time an execution barrier is needed that can\u0027t be merged with the previous). That might be the reason?",
      "parentUuid": "04202799_5f56c242",
      "revId": "5124e40df3dfb1afd31649c0aafc838d0653fd28",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}