{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "dd9fd6cc_eed6aac8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2021-09-29T02:15:12Z",
      "side": 1,
      "message": "typo",
      "range": {
        "startLine": 11,
        "startChar": 50,
        "endLine": 11,
        "endChar": 56
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5583e166_ac7d4aaf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-09-30T17:27:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dd9fd6cc_eed6aac8",
      "range": {
        "startLine": 11,
        "startChar": 50,
        "endLine": 11,
        "endChar": 56
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71f7f6e4_cff5637d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-09-28T18:28:13Z",
      "side": 1,
      "message": "LGTM. Any perf numbers?",
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "38b1e758_fc2a9078",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-09-28T18:31:07Z",
      "side": 1,
      "message": "On my device, aliexpress goes from 3.2394 ms before these three CLs to 3.0116 ms after the CLs. Still more than native driver. I think we still ahve some barrier issues that needs to look into.",
      "parentUuid": "71f7f6e4_cff5637d",
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e03c6459_1134b23f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-09-28T18:38:29Z",
      "side": 1,
      "message": "Because this is not currently tested on CQ, would like to see IsAndroid instead of isARM.",
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4083915c_bc159c8d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-09-28T18:39:44Z",
      "side": 1,
      "message": "Also, we could modify BufferDataTest to explicitly test with this feature on / off.",
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dea42efc_e73dfbd6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-09-30T17:27:38Z",
      "side": 1,
      "message": "I can temporary change to isAndroid and get CQ runs and once it green I change it back to isARM. As I explained, this is a ARM thing not android.",
      "parentUuid": "e03c6459_1134b23f",
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d014f14_1bb7d356",
        "filename": "include/platform/FeaturesVk.h",
        "patchSetId": 1
      },
      "lineNbr": 346,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-09-28T18:38:29Z",
      "side": 1,
      "message": "grammar nits:\n\nthe GPU, For some GPUs, a performance penalty, the GPU, copies, Setting, the CPU.",
      "range": {
        "startLine": 346,
        "startChar": 45,
        "endLine": 346,
        "endChar": 49
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dcc017dd_1d51d12e",
        "filename": "include/platform/FeaturesVk.h",
        "patchSetId": 1
      },
      "lineNbr": 346,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-09-30T17:27:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6d014f14_1bb7d356",
      "range": {
        "startLine": 346,
        "startChar": 45,
        "endLine": 346,
        "endChar": 49
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2697ba8_c6a2f830",
        "filename": "include/platform/FeaturesVk.h",
        "patchSetId": 1
      },
      "lineNbr": 349,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-09-28T18:38:29Z",
      "side": 1,
      "message": "nit: preferCPUForBufferSubData (DataSubData redundant)",
      "range": {
        "startLine": 349,
        "startChar": 12,
        "endLine": 349,
        "endChar": 42
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4c6d3b9_6f5b998f",
        "filename": "include/platform/FeaturesVk.h",
        "patchSetId": 1
      },
      "lineNbr": 349,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-09-30T17:27:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a2697ba8_c6a2f830",
      "range": {
        "startLine": 349,
        "startChar": 12,
        "endLine": 349,
        "endChar": 42
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04379bd7_c78a798b",
        "filename": "src/libANGLE/renderer/vulkan/BufferVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-09-28T18:28:13Z",
      "side": 1,
      "message": "Might want to rename this to something like ShouldAllocateNewMemoryForUpdate() (or maybe less verbose). The comment in the function could also use updating.",
      "range": {
        "startLine": 146,
        "startChar": 18,
        "endLine": 146,
        "endChar": 43
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "554486a9_887f74b0",
        "filename": "src/libANGLE/renderer/vulkan/BufferVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-09-30T17:27:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04379bd7_c78a798b",
      "range": {
        "startLine": 146,
        "startChar": 18,
        "endLine": 146,
        "endChar": 43
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c64fc00_9c4bc954",
        "filename": "src/libANGLE/renderer/vulkan/BufferVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2021-09-29T02:15:12Z",
      "side": 1,
      "message": "It\u0027s not entirely related to this CL, and it doesn\u0027t look like this came up in Mohan\u0027s original CL, but it feels like this probably needs a size threshold as well.   Otherwise, if the app is updating 4 bytes in a 16 byte buffer, we\u0027ll go down the GPU path when it probably would be faster to just use the CPU.",
      "range": {
        "startLine": 150,
        "startChar": 0,
        "endLine": 153,
        "endChar": 42
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6693a2c2_2fa8f91c",
        "filename": "src/libANGLE/renderer/vulkan/BufferVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-09-30T17:27:38Z",
      "side": 1,
      "message": "Right. The problem ARM runs into with GPU data copy for buffer is that is inserts a bubble in the pipeline due to the fact that copy is exeucted on geometry pipeline which prevents vertex shader to overlap with previous renderpass\u0027s fragment stage. So this has nothing to do with number of bytes. That is why this is only enabled for ARM.",
      "parentUuid": "7c64fc00_9c4bc954",
      "range": {
        "startLine": 150,
        "startChar": 0,
        "endLine": 153,
        "endChar": 42
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97c18106_4c063128",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2622,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-09-28T18:38:29Z",
      "side": 1,
      "message": "seems like IsAndroid is a better bet, right?",
      "range": {
        "startLine": 2622,
        "startChar": 71,
        "endLine": 2622,
        "endChar": 76
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ef4ab8aa_6e3eef89",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2622,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-09-28T20:44:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "97c18106_4c063128",
      "range": {
        "startLine": 2622,
        "startChar": 71,
        "endLine": 2622,
        "endChar": 76
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ddc6893b_a857bdd2",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 2622,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-09-28T20:44:35Z",
      "side": 1,
      "message": "Because if we pick this code path, we may end up copying more bytes (see SubDataSizeMeetsThreshold() ), so it is not clear QC or other mobile GPUs will see benefit with this or not. So it is really per GPU architecture, not platform.",
      "parentUuid": "97c18106_4c063128",
      "range": {
        "startLine": 2622,
        "startChar": 71,
        "endLine": 2622,
        "endChar": 76
      },
      "revId": "dc719f979e72f05fc5d08f8d7b1616d04d6e3bd2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}