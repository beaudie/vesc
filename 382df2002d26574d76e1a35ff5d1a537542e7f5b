{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "54984d3a_5ff36c5e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2023-05-11T15:43:59Z",
      "side": 1,
      "message": "FYI this will make ANGLE non-conformant for ES3+. Multisampling with samples \u003e\u003d 4 is required.",
      "revId": "382df2002d26574d76e1a35ff5d1a537542e7f5b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7616e6ac_6477c6fe",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2023-05-11T16:00:23Z",
      "side": 1,
      "message": "Ah, I knew this would drop our conformant level, but didn\u0027t anticipate it dropping all the way to ES2.  It is hard to pin down in the ES 3.0 spec what the required sample count is.",
      "parentUuid": "54984d3a_5ff36c5e",
      "revId": "382df2002d26574d76e1a35ff5d1a537542e7f5b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0aed534e_177d2fc5",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4404,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2023-05-11T15:43:59Z",
      "side": 1,
      "message": "You will also need to check the feature here.",
      "range": {
        "startLine": 4404,
        "startChar": 32,
        "endLine": 4404,
        "endChar": 33
      },
      "revId": "382df2002d26574d76e1a35ff5d1a537542e7f5b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "608a1cdc_e917d745",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4404,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2023-05-11T16:00:23Z",
      "side": 1,
      "message": "Okay, adding that is causing some test failures, probably some sample count assumptions.  Maybe it doesn\u0027t make sense to add this to any tests.  Or maybe ANGLE should only be returning ES2 contexts if this is set?",
      "parentUuid": "0aed534e_177d2fc5",
      "range": {
        "startLine": 4404,
        "startChar": 32,
        "endLine": 4404,
        "endChar": 33
      },
      "revId": "382df2002d26574d76e1a35ff5d1a537542e7f5b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4326991c_c5c0c270",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4404,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2023-05-11T16:55:32Z",
      "side": 1,
      "message": "Yea, it probably means that the tests assumed multisampling on the required formats.\n\nInstead, you could put this feature in the VK backend and fake it. Make the client think they\u0027re using multisampling but the backend allocates single-sampled textures. It would make sure the app behaviour stays the same too.",
      "parentUuid": "608a1cdc_e917d745",
      "range": {
        "startLine": 4404,
        "startChar": 32,
        "endLine": 4404,
        "endChar": 33
      },
      "revId": "382df2002d26574d76e1a35ff5d1a537542e7f5b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "506f36d7_32fd0876",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4404,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2023-05-11T21:17:49Z",
      "side": 1,
      "message": "I feel like that will break applications in subtle ways, but we can do it.\n\n@gregschlom@google.com, that would bring us back to a solution like `limitMaxMSAASamplesTo4`, but we\u0027d set it to 1 instead, and only use it in the Vulkan backend.",
      "parentUuid": "4326991c_c5c0c270",
      "range": {
        "startLine": 4404,
        "startChar": 32,
        "endLine": 4404,
        "endChar": 33
      },
      "revId": "382df2002d26574d76e1a35ff5d1a537542e7f5b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32709ce6_af251558",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4404,
      "author": {
        "id": 1557704
      },
      "writtenOn": "2023-05-11T21:19:26Z",
      "side": 1,
      "message": "I think that should be fine. Thanks!",
      "parentUuid": "506f36d7_32fd0876",
      "range": {
        "startLine": 4404,
        "startChar": 32,
        "endLine": 4404,
        "endChar": 33
      },
      "revId": "382df2002d26574d76e1a35ff5d1a537542e7f5b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac2aae05_00a87f62",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4404,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2023-05-12T02:15:22Z",
      "side": 1,
      "message": "Doing it surgically in the backend is actually more difficult than doing it in the front end.  I\u0027ve got the beginnings of it up, but need to keep searching.  Things like this are baked in:\n```\nconstexpr unsigned int kSupportedSampleCounts \u003d (VK_SAMPLE_COUNT_2_BIT | VK_SAMPLE_COUNT_4_BIT |\n                                                 VK_SAMPLE_COUNT_8_BIT | VK_SAMPLE_COUNT_16_BIT);\n```\nI\u0027m running end2end tests with `ANGLE_FEATURE_OVERRIDES_ENABLED\u003dlimitMaxMsaaSamplesTo1` to see what errors and crashes pop out.",
      "parentUuid": "32709ce6_af251558",
      "range": {
        "startLine": 4404,
        "startChar": 32,
        "endLine": 4404,
        "endChar": 33
      },
      "revId": "382df2002d26574d76e1a35ff5d1a537542e7f5b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3eafd4e4_b6bb2190",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4404,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-12T13:25:35Z",
      "side": 1,
      "message": "\u003e It would make sure the app behaviour stays the same too.\n\nThat\u0027s not always possible. There are some state that only apply to multisampling (like alpha to coverage) and the app could be using that to get correct rendering. Implicitly disabling multisampling will make it nearly impossible to stay correct.\n\nIt might just be fine to drop to ES2 support if the device is so weak anyway.",
      "parentUuid": "ac2aae05_00a87f62",
      "range": {
        "startLine": 4404,
        "startChar": 32,
        "endLine": 4404,
        "endChar": 33
      },
      "revId": "382df2002d26574d76e1a35ff5d1a537542e7f5b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}