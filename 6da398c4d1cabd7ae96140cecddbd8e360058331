{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c13e8193_09da2397",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2023-03-06T19:09:19Z",
      "side": 1,
      "message": "+sunnyps - can you help confirm this adds the semantics you need?",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ca3da38_e2917f90",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2023-03-06T20:41:20Z",
      "side": 1,
      "message": "non-owner lgtm",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7a413a54_0a28bf39",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2023-03-06T22:16:14Z",
      "side": 1,
      "message": "Nice work overall Dan - a few comments before approving.",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5daad223_cb8b7733",
        "filename": "extensions/EGL_ANGLE_metal_shared_event_sync.txt",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2023-03-06T20:41:20Z",
      "side": 1,
      "message": "nit: typo?",
      "range": {
        "startLine": 102,
        "startChar": 4,
        "endLine": 102,
        "endChar": 31
      },
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5931cb17_70381da7",
        "filename": "extensions/EGL_ANGLE_metal_shared_event_sync.txt",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1546942
      },
      "writtenOn": "2023-03-07T03:27:42Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "5daad223_cb8b7733",
      "range": {
        "startLine": 102,
        "startChar": 4,
        "endLine": 102,
        "endChar": 31
      },
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "feb246f0_4f7fd64f",
        "filename": "extensions/EGL_ANGLE_metal_shared_event_sync.txt",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2023-03-06T20:41:20Z",
      "side": 1,
      "message": "nit: this also applies to eglWaitSync on the GPU timeline, right?",
      "range": {
        "startLine": 106,
        "startChar": 4,
        "endLine": 106,
        "endChar": 21
      },
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8c806b4a_52d6f046",
        "filename": "extensions/EGL_ANGLE_metal_shared_event_sync.txt",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 1546942
      },
      "writtenOn": "2023-03-07T03:27:42Z",
      "side": 1,
      "message": "Yes.\n\nI interpreted \"any eglClientWaitSync commands blocking\" as meaning \"CPU side commands that are blocking waiting on the fence to be signalled\". eglWaitSync doesn\u0027t block the CPU but introduces a wait in the command queue. (This is the same language that EGL_ANDROID_native_fence_sync uses)",
      "parentUuid": "feb246f0_4f7fd64f",
      "range": {
        "startLine": 106,
        "startChar": 4,
        "endLine": 106,
        "endChar": 21
      },
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96e722e1_cbcc322f",
        "filename": "src/libANGLE/renderer/metal/SyncMtl.mm",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2023-03-06T22:16:14Z",
      "side": 1,
      "message": "Is EGL_SYNC_PRIOR_COMMANDS_COMPLETE_KHR converted to GL_SYNC_GPU_COMMANDS_COMPLETE somewhere higher up? The EGL validation now only allows EGL_SYNC_PRIOR_COMMANDS_COMPLETE_KHR and EGL_SYNC_METAL_SHARED_EVENT_SIGNALED_ANGLE through. See below.",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2146c8f5_2bb28c87",
        "filename": "src/libANGLE/renderer/metal/SyncMtl.mm",
        "patchSetId": 1
      },
      "lineNbr": 77,
      "author": {
        "id": 1546942
      },
      "writtenOn": "2023-03-08T03:21:47Z",
      "side": 1,
      "message": "The intension is to translated between the EGLSync and EGLSyncMtl layer.",
      "parentUuid": "96e722e1_cbcc322f",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2dc2eb9f_ffa8e21d",
        "filename": "src/libANGLE/renderer/metal/SyncMtl.mm",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2023-03-06T22:16:14Z",
      "side": 1,
      "message": "If the condition is EGL_SYNC_PRIOR_COMMANDS_COMPLETE_KHR it looks like this is skipped.",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "caa66c17_3cb7ea06",
        "filename": "src/libANGLE/renderer/metal/SyncMtl.mm",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1546942
      },
      "writtenOn": "2023-03-08T03:21:47Z",
      "side": 1,
      "message": "I\u0027ve added tests of for explicitly setting EGL_SYNC_CONDITION attribute at creation time and tightened up the translation go EGL_SYNC_PRIOR_COMMANDS_COMPLETE to GL_SYNC_GPU_COMMANDS_COMPLETE.",
      "parentUuid": "2dc2eb9f_ffa8e21d",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84c3caaf_8bc872db",
        "filename": "src/libANGLE/renderer/metal/SyncMtl.mm",
        "patchSetId": 1
      },
      "lineNbr": 264,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2023-03-06T22:16:14Z",
      "side": 1,
      "message": "It looks like there\u0027s a bug here - the EGL validation allows only EGL_SYNC_PRIOR_COMMANDS_COMPLETE_KHR and EGL_SYNC_METAL_SHARED_EVENT_SIGNALED_ANGLE through, but here the default value is set to GL_SYNC_GPU_COMMANDS_COMPLETE. See above.",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fe21ea36_ff9078e7",
        "filename": "src/libANGLE/renderer/metal/SyncMtl.mm",
        "patchSetId": 1
      },
      "lineNbr": 264,
      "author": {
        "id": 1546942
      },
      "writtenOn": "2023-03-08T03:21:47Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "84c3caaf_8bc872db",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65e26fc9_744153b2",
        "filename": "src/tests/egl_tests/EGLSyncTestMetalSharedEvent.mm",
        "patchSetId": 1
      },
      "lineNbr": 395,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2023-03-06T22:16:14Z",
      "side": 1,
      "message": "Could you use:\n  TODO(djg):\nrather than\n  FIXME:\n?",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c1c5f38e_793d79df",
        "filename": "src/tests/egl_tests/EGLSyncTestMetalSharedEvent.mm",
        "patchSetId": 1
      },
      "lineNbr": 395,
      "author": {
        "id": 1546942
      },
      "writtenOn": "2023-03-08T03:21:47Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "65e26fc9_744153b2",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a7ae395_e387f8c2",
        "filename": "src/tests/egl_tests/EGLSyncTestMetalSharedEvent.mm",
        "patchSetId": 1
      },
      "lineNbr": 397,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2023-03-06T22:16:14Z",
      "side": 1,
      "message": "That\u0027s strange - since this derives from ANGLETest there\u0027s a current context, correct?",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32904c7f_a743a7d0",
        "filename": "src/tests/egl_tests/EGLSyncTestMetalSharedEvent.mm",
        "patchSetId": 1
      },
      "lineNbr": 397,
      "author": {
        "id": 1546942
      },
      "writtenOn": "2023-03-08T03:21:47Z",
      "side": 1,
      "message": "About the FIXME? It is strange and I think it\u0027s related to changes made in https://chromium-review.googlesource.com/c/angle/angle/+/4000941 but I haven\u0027t had time to investigate yet.",
      "parentUuid": "5a7ae395_e387f8c2",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1273f65c_e6ae6b62",
        "filename": "src/tests/egl_tests/EGLSyncTestMetalSharedEvent.mm",
        "patchSetId": 1
      },
      "lineNbr": 407,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2023-03-06T22:16:14Z",
      "side": 1,
      "message": "Should this comment be associated with the block of code above instead? This block tests that the event\u0027s signaled now.",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7302bfba_ac29802a",
        "filename": "src/tests/egl_tests/EGLSyncTestMetalSharedEvent.mm",
        "patchSetId": 1
      },
      "lineNbr": 407,
      "author": {
        "id": 1546942
      },
      "writtenOn": "2023-03-08T03:21:47Z",
      "side": 1,
      "message": "Cut-n-pastitis.",
      "parentUuid": "1273f65c_e6ae6b62",
      "revId": "6da398c4d1cabd7ae96140cecddbd8e360058331",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}