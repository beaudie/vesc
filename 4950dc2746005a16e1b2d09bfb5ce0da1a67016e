{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "47639b78_aa91ed2c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-04-07T17:01:20Z",
      "side": 1,
      "message": "Looks like this might fail on some Adreno?",
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b459076_690692e7",
        "filename": "src/libANGLE/renderer/vulkan/vk_format_map.json",
        "patchSetId": 6
      },
      "lineNbr": 452,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-04-07T14:46:41Z",
      "side": 1,
      "message": "These are wrong unfortunately as they can\u0027t accurately represent the values in the format. However, they are usable as \"buffer_compressed\" for an intervention.\n\nI\u0027m putting this up for review so we can go over the rest of the formats and see if they are ok or not. Also, more importantly, this change lays the ground for the next change that converts more formats to 16-bit float.",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 452,
        "endChar": 10
      },
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc42e751_0ffa3cc0",
        "filename": "src/libANGLE/renderer/vulkan/vk_format_map.json",
        "patchSetId": 6
      },
      "lineNbr": 452,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-04-07T17:01:20Z",
      "side": 1,
      "message": "Just please remember to take this out before landing.",
      "parentUuid": "1b459076_690692e7",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 452,
        "endChar": 10
      },
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c0447e1_2be038bb",
        "filename": "src/libANGLE/renderer/vulkan/vk_format_map.json",
        "patchSetId": 6
      },
      "lineNbr": 452,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-04-07T17:04:39Z",
      "side": 1,
      "message": "For sure (there\u0027s a failing test blocking it anyway)\n\nQuestion is, are the other ones reasonable? 16-bit float has a 10-bit mantissa so I think it should be able to cover the RGB10A2 formats, but not sure if there\u0027s some weirdness I\u0027m missing (denormlized floats or other such oddities).",
      "parentUuid": "cc42e751_0ffa3cc0",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 452,
        "endChar": 10
      },
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64d79b74_b1b0cb85",
        "filename": "src/libANGLE/renderer/vulkan/vk_format_map.json",
        "patchSetId": 6
      },
      "lineNbr": 452,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-04-07T17:11:32Z",
      "side": 1,
      "message": "Not sure. Is there a testing coverage gap you can identify?",
      "parentUuid": "9c0447e1_2be038bb",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 452,
        "endChar": 10
      },
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5e7ebaa_2fa4c71e",
        "filename": "src/libANGLE/renderer/vulkan/vk_format_map.json",
        "patchSetId": 6
      },
      "lineNbr": 452,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-04-07T17:28:13Z",
      "side": 1,
      "message": "Given that almost all tests pass with these, I speculate that given that these are float formats there\u0027s an error threshold in all tests so exact values are never expected.\n\nLike a test could maybe upload 65532 to a USCALED buffer and then check in the shader that it got exactly 65532.0. I honestly can\u0027t imagine why anyone would want such a precision and not use UINT instead.",
      "parentUuid": "64d79b74_b1b0cb85",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 452,
        "endChar": 10
      },
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6635e0d2_5e022f8b",
        "filename": "src/libANGLE/renderer/vulkan/vk_format_map.json",
        "patchSetId": 6
      },
      "lineNbr": 452,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-04-07T17:30:24Z",
      "side": 1,
      "message": "UINT formats are GLES 3.x and higher. GLES 2.0 only has scaled and normalized.",
      "parentUuid": "c5e7ebaa_2fa4c71e",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 452,
        "endChar": 10
      },
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e26e2e7_820eda40",
        "filename": "src/libANGLE/renderer/vulkan/vk_format_map.json",
        "patchSetId": 6
      },
      "lineNbr": 452,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-04-07T19:08:45Z",
      "side": 1,
      "message": "Reverted to 32-bit float.",
      "parentUuid": "6635e0d2_5e022f8b",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 452,
        "endChar": 10
      },
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a81e6dcd_0de260e1",
        "filename": "src/libANGLE/renderer/vulkan/vk_format_map.json",
        "patchSetId": 6
      },
      "lineNbr": 452,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-04-07T20:06:22Z",
      "side": 1,
      "message": "\u003e 16-bit float has a 10-bit mantissa so I think it should be able to cover the RGB10A2 formats, but not sure if there\u0027s some weirdness I\u0027m missing (denormlized floats or other such oddities).\n\nI think RGB10A2 should work out, as the original RGB10A2 data can\u0027t encode any \"oddities\".  Are you concerned about what might happen after the data is in the buffer?",
      "parentUuid": "6635e0d2_5e022f8b",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 452,
        "endChar": 10
      },
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3dbcca8_d0342183",
        "filename": "src/libANGLE/renderer/vulkan/vk_format_map.json",
        "patchSetId": 6
      },
      "lineNbr": 452,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-04-07T20:12:56Z",
      "side": 1,
      "message": "It\u0027s more that float16 may have oddities preventing it from encoding something RGB10A2 could. Unlikely I guess, I think we can just go ahead with it and see if there are any complaints.",
      "parentUuid": "a81e6dcd_0de260e1",
      "range": {
        "startLine": 441,
        "startChar": 0,
        "endLine": 452,
        "endChar": 10
      },
      "revId": "4950dc2746005a16e1b2d09bfb5ce0da1a67016e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}