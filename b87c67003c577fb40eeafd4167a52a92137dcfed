{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d12ce5f8_fc3d874d",
        "filename": "src/libANGLE/renderer/metal/SurfaceMtl.mm",
        "patchSetId": 6
      },
      "lineNbr": 401,
      "author": {
        "id": 1543187
      },
      "writtenOn": "2024-08-26T17:18:34Z",
      "side": 1,
      "message": "Is there any document specifying that new textures start as zero? Given that when you initialized `mColorTextureInitialized` to true in previous patchset, the SurfaceInitialized test failed on try bots. I am not sure that textures\u0027 initial data are always zeros.\n\nI don\u0027t think there is any test testing only stencil buffer in the default framebuffer, hence this path might not have coverage.",
      "range": {
        "startLine": 401,
        "startChar": 71,
        "endLine": 401,
        "endChar": 97
      },
      "revId": "b87c67003c577fb40eeafd4167a52a92137dcfed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a49b070_d0755b6b",
        "filename": "src/libANGLE/renderer/metal/SurfaceMtl.mm",
        "patchSetId": 6
      },
      "lineNbr": 401,
      "author": {
        "id": 1449558
      },
      "writtenOn": "2024-08-27T09:42:32Z",
      "side": 1,
      "message": "\u003e Is there any document specifying that new textures start as zero? Given that when you initialized mColorTextureInitialized to true in previous patchset, the SurfaceInitialized test failed on try bots.\n\nThat was just the existing code being buggy.\n\n\u003e I am not sure that textures\u0027 initial data are always zeros.\n\nIf you read the code, that assumption is not present in the color buffer case or depth buffer, only in the stencil buffer case. I can of course change that for the stencil buffer, for the sake of getting this patch done.",
      "parentUuid": "d12ce5f8_fc3d874d",
      "range": {
        "startLine": 401,
        "startChar": 71,
        "endLine": 401,
        "endChar": 97
      },
      "revId": "b87c67003c577fb40eeafd4167a52a92137dcfed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c511328_8e82b1d2",
        "filename": "src/libANGLE/renderer/metal/SurfaceMtl.mm",
        "patchSetId": 6
      },
      "lineNbr": 401,
      "author": {
        "id": 1543187
      },
      "writtenOn": "2024-08-27T10:49:33Z",
      "side": 1,
      "message": "\u003e That was just the existing code being buggy.\n\nThe existing code didn\u0027t assume that the color texture content was already intialized. It set `mContentInitialized` to false by default, thus it didn\u0027t fail `SurfaceInitialized` test.\n\nActually I would like the know the official metal doc about mtl textures starting as zero. I only saw the spec saying `newBufferWithLength` will zeroize buffers\u0027 bytes, but nothing about `newTextureWithDescriptor`. This is a genuine question, since it would be useful to know and document internally.",
      "parentUuid": "0a49b070_d0755b6b",
      "range": {
        "startLine": 401,
        "startChar": 71,
        "endLine": 401,
        "endChar": 97
      },
      "revId": "b87c67003c577fb40eeafd4167a52a92137dcfed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}