{
  "comments": [
    {
      "key": {
        "uuid": "9b53900d_ffbffb7b",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1451,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-04-28T16:03:46Z",
      "side": 1,
      "message": "the VK_SUCCESS \u003d\u003d thing is a bit unconventional. How about you cache the surfaceCaps in the SurfaceVk since we do that for various physical device properties in the renderer already? Then here there would be no opportunity to error out.",
      "revId": "1e1be8f17cdb9d9a967fe1f366e8ecb6aa2e1b96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55fcb12a_4421f66d",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1451,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-04-28T16:11:57Z",
      "side": 1,
      "message": "Perhaps I\u0027m misunderstanding what you\u0027re saying.  Is it that I put the constant (VK_SUCCESS) on the left of \"\u003d\u003d\", or that I\u0027m calling vkGetPhysicalDeviceSurfaceCapabilitiesKHR here?\n\nWe have cached surfaceCaps now.  The problem this CL is trying to address is that the \"EGL resize tests\" change the values that are cached in the Android platform, but don\u0027t do anything to trigger ANGLE to update it\u0027s cache.  Thus, we need to call vkGetPhysicalDeviceSurfaceCapabilitiesKHR here to get the values the test is looking for.\n\nDoes that help?",
      "parentUuid": "9b53900d_ffbffb7b",
      "revId": "1e1be8f17cdb9d9a967fe1f366e8ecb6aa2e1b96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b234572_2e10025d",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1451,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-04-28T16:13:46Z",
      "side": 1,
      "message": "Ah, I see. In that case you should make this function return an error. Sorry... it\u0027s a bit annoying.",
      "parentUuid": "55fcb12a_4421f66d",
      "revId": "1e1be8f17cdb9d9a967fe1f366e8ecb6aa2e1b96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d7f236d_c18fd007",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1451,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-04-28T16:29:18Z",
      "side": 1,
      "message": "I had considered that.  However, QuerySurfaceAttrib() returns a void.  It didn\u0027t seem to make sense to return an error to it that it couldn\u0027t propagate up.\n\nWould you like me to change QuerySurfaceAttrib() and EGL_QuerySurface() to handle errors?",
      "parentUuid": "0b234572_2e10025d",
      "revId": "1e1be8f17cdb9d9a967fe1f366e8ecb6aa2e1b96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69239280_7c0cb8ec",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1451,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2020-04-28T16:36:45Z",
      "side": 1,
      "message": "Ian, doesnt eglQuerySurface return a bool?",
      "parentUuid": "6d7f236d_c18fd007",
      "revId": "1e1be8f17cdb9d9a967fe1f366e8ecb6aa2e1b96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78b5a0d6_1e4704c1",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1451,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-04-28T16:44:54Z",
      "side": 1,
      "message": "Yes, it does.  Seems like we should plumb a non-VK_SUCCESS return to vkGetPhysicalDeviceSurfaceCapabilitiesKHR up.",
      "parentUuid": "69239280_7c0cb8ec",
      "revId": "1e1be8f17cdb9d9a967fe1f366e8ecb6aa2e1b96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aedfe3ca_03b787a2",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1451,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-04-28T16:53:15Z",
      "side": 1,
      "message": "Yeah, plumbing SGTM. Luckily it\u0027s just QuerySurfaceAttrib that\u0027s affect so this shouldn\u0027t cascade.",
      "parentUuid": "78b5a0d6_1e4704c1",
      "revId": "1e1be8f17cdb9d9a967fe1f366e8ecb6aa2e1b96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee150ec5_878572a8",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1451,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-04-28T18:05:57Z",
      "side": 1,
      "message": "Done.  Does this look good?",
      "parentUuid": "aedfe3ca_03b787a2",
      "revId": "1e1be8f17cdb9d9a967fe1f366e8ecb6aa2e1b96",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}