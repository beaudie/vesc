{
  "comments": [
    {
      "key": {
        "uuid": "094468f7_f4a9e7ad",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1374244
      },
      "writtenOn": "2020-09-11T07:51:00Z",
      "side": 1,
      "message": "spirv-cross translating to MSL doesn\u0027t support every feature of SPIRV. For example, passing array of matrices as vertex shader\u0027s stage output is not supported. Another example is that LOD sampling from shadow sampler is not supported either. In those cases, since exceptions are disabled, spirv-cross will just abort/crash the whole app/Chromium\u0027s web page.\nI think it is better to enable exceptions when compiling spirv-cross to allow the back-end to catch and return errors to the application layer rather than making it crash.",
      "revId": "f9a0dc014d853f488828490220b88e2e654f5384",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "493be75a_875e18e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-09-11T12:17:36Z",
      "side": 1,
      "message": "Exceptions are not allowed in Chromium code unfortunately. We\u0027ll need to stick with SPIRV_CROSS_EXCEPTIONS_TO_ASSERTIONS.",
      "revId": "f9a0dc014d853f488828490220b88e2e654f5384",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "974d82bb_059089ba",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1374244
      },
      "writtenOn": "2020-09-11T13:43:51Z",
      "side": 1,
      "message": "I was hoping there could be an exception for spirv-cross (since C++ style guide also allows exception for Windows specific code). spirv-cross only interacts with the rest of the code base through mtl_glslang_utils.mm (exceptions are handled here, they shouldn\u0027t be escaped outside). Any exceptions raised should be self contained within mtl_glslang_utils.mm+spirv-cross only. The rest of the code base still has exceptions disabled.\n\nBut anw, this is not really important atm. The crashes could still be avoided by working-around them.",
      "parentUuid": "493be75a_875e18e1",
      "revId": "f9a0dc014d853f488828490220b88e2e654f5384",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33a86b6f_2ed0a386",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-09-11T13:50:44Z",
      "side": 1,
      "message": "The specific exception exception is:\n\nAlthough you should not use exceptions in your own code, they are used extensively in the ATL and some STLs, including the one that comes with Visual C++. When using the ATL, you should define _ATL_NO_EXCEPTIONS to disable exceptions. You should investigate whether you can also disable exceptions in your STL, but if not, it is OK to turn on exceptions in the compiler. (Note that this is only to get the STL to compile. You should still not write exception handling code yourself.)\n\nGiven that we\u0027re on Mac and we do not need to turn on exceptions to get our code to compile this wording doesn\u0027t apply. Exceptions are still banned in any case with our without that rule in Chrome. We allow them in testing code only.\n\nWorking around the crashes is our best bet. In the long-term we can switch from SPIRV-Cross to Tint when Tint has a SPIR-V front-end.",
      "parentUuid": "974d82bb_059089ba",
      "revId": "f9a0dc014d853f488828490220b88e2e654f5384",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e012d014_084d3e49",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1374244
      },
      "writtenOn": "2020-09-11T14:10:50Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "33a86b6f_2ed0a386",
      "revId": "f9a0dc014d853f488828490220b88e2e654f5384",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}