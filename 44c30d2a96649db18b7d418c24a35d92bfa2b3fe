{
  "comments": [
    {
      "key": {
        "uuid": "3937486d_9bc8a397",
        "filename": "src/libANGLE/renderer/d3d/IndexDataManager.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2015-06-10T17:12:14Z",
      "side": 1,
      "message": "This is only set in Renderer11 and not referenced.",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 26
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b95978ea_e57d76e0",
        "filename": "src/libANGLE/renderer/d3d/IndexDataManager.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-11T15:56:55Z",
      "side": 1,
      "message": "This is referenced in buffer11 to ensure that changed indices list are re-generated if requested again.",
      "parentUuid": "3937486d_9bc8a397",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 26
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "796d40b3_96cc4a60",
        "filename": "src/libANGLE/renderer/d3d/IndexDataManager.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2015-06-15T16:52:04Z",
      "side": 1,
      "message": "Ah, thanks, visual studio code search didn\u0027t find that.",
      "parentUuid": "b95978ea_e57d76e0",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 26
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79254042_a7e6b25e",
        "filename": "src/libANGLE/renderer/d3d/IndexDataManager.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "Yes, and a follow up:\nDo you need any of the other fields in this struct in Buffer11? Why not make a new struct, something like SourceIndexData, and pass this instead of TranslatedIndexData? Seems like you just need some values taken from the ELEMENT_ARRAY_BUFFER, plus the argument indices from the draw call.",
      "parentUuid": "3937486d_9bc8a397",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 26
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39b10858_542aa209",
        "filename": "src/libANGLE/renderer/d3d/IndexDataManager.h",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-15T20:59:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79254042_a7e6b25e",
      "range": {
        "startLine": 55,
        "startChar": 9,
        "endLine": 55,
        "endChar": 26
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b92b3816_8afff72b",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 518,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "Rather than use a nested Buffer11 here, I would implement this as a new BufferStorage, similar to NativeStorage. Implement the map and unmap operations, and store the data in a cpu MemoryBuffer. On unmap, expand the data and write it to the ID3D11Buffer. It\u0027ll take a fair bit of testing to cover the edge cases and a bit of reworking, but would fit far better with the rest of the code.",
      "range": {
        "startLine": 518,
        "startChar": 37,
        "endLine": 518,
        "endChar": 45
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99abd4ef_7281b097",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 518,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-15T20:59:35Z",
      "side": 1,
      "message": "Is making this additional storage change a deal breaker for this patch?  I have tested the contained Buffer11 object and it works really well.",
      "parentUuid": "b92b3816_8afff72b",
      "range": {
        "startLine": 518,
        "startChar": 37,
        "endLine": 518,
        "endChar": 45
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "796d40b3_9c4f093b",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 518,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T21:12:46Z",
      "side": 1,
      "message": "I\u0027m not sure if it\u0027s a deal breaker, but I\u0027d feel hesitant about taking it when it could potentially be cleaner and not break the style of our code. This change is fairly big, so it\u0027s worth digging in to see if we can reduce it\u0027s impact on maintainability.",
      "parentUuid": "99abd4ef_7281b097",
      "range": {
        "startLine": 518,
        "startChar": 37,
        "endLine": 518,
        "endChar": 45
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39858859_60441c1a",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 539,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "for rendering the same?",
      "range": {
        "startLine": 539,
        "startChar": 68,
        "endLine": 539,
        "endChar": 115
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99abd4ef_f26c8082",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 539,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-15T20:59:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "39858859_60441c1a",
      "range": {
        "startLine": 539,
        "startChar": 68,
        "endLine": 539,
        "endChar": 115
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d902ac8c_a33aed84",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 547,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2015-06-10T17:12:14Z",
      "side": 1,
      "message": "Can you use a MemoryBuffer for this? It uses RAII and checks for allocation failures.",
      "range": {
        "startLine": 547,
        "startChar": 8,
        "endLine": 547,
        "endChar": 62
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d95e2ccf_0fd54d2d",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 547,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-11T15:56:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d902ac8c_a33aed84",
      "range": {
        "startLine": 547,
        "startChar": 8,
        "endLine": 547,
        "endChar": 62
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b92b3816_ca3acf86",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 559,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "angle style says to avoid c-style casts (also other places in the cl)",
      "range": {
        "startLine": 559,
        "startChar": 23,
        "endLine": 559,
        "endChar": 33
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99fcb4c6_5889eda8",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 583,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2015-06-10T17:12:14Z",
      "side": 1,
      "message": "This isn\u0027t a valid usage, should be either GL_STATIC_DRAW or GL_DYNAMIC_DRAW.  I\u0027d suggest storing the usage from the setData method above and re-using it here.",
      "range": {
        "startLine": 583,
        "startChar": 80,
        "endLine": 583,
        "endChar": 106
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "992af412_08cc572c",
        "filename": "src/libANGLE/renderer/d3d/d3d11/InputLayoutCache.cpp",
        "patchSetId": 2
      },
      "lineNbr": 296,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "pull the !bufferStorage case out of these ifs",
      "range": {
        "startLine": 295,
        "startChar": 15,
        "endLine": 296,
        "endChar": 67
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b99c18d9_d6021a77",
        "filename": "src/libANGLE/renderer/d3d/d3d11/InputLayoutCache.cpp",
        "patchSetId": 2
      },
      "lineNbr": 296,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-15T20:59:35Z",
      "side": 1,
      "message": "If I remove this, then dEPQ tests for indexed points fail.",
      "parentUuid": "992af412_08cc572c",
      "range": {
        "startLine": 295,
        "startChar": 15,
        "endLine": 296,
        "endChar": 67
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b98a589d_376d282b",
        "filename": "src/libANGLE/renderer/d3d/d3d11/InputLayoutCache.cpp",
        "patchSetId": 2
      },
      "lineNbr": 296,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T21:12:46Z",
      "side": 1,
      "message": "did you try:\n\n if (bufferStorage \u003d\u003d nullptr)\n {\n  buffer \u003d vertexBuffer-\u003egetBuffer();\n }\n else if (indexedPointSpriteEmulation)\n {\n  buffer \u003d bufferStorage-\u003egetEmulated(...);\n }\n else\n {\n  buffer \u003d bufferStorage-\u003egetBuffer(...);\n }",
      "parentUuid": "b99c18d9_d6021a77",
      "range": {
        "startLine": 295,
        "startChar": 15,
        "endLine": 296,
        "endChar": 67
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9caacdd_095acd00",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1442,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "I\u0027m confused as to why this has to be packaged with the indexInfo struct, unless it\u0027s to reduce the parameter count (which could be a good goal - but you might want a new helper struct, as I described before)",
      "range": {
        "startLine": 1442,
        "startChar": 7,
        "endLine": 1442,
        "endChar": 36
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b99c18d9_f6fd96e7",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1442,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-15T20:59:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d9caacdd_095acd00",
      "range": {
        "startLine": 1442,
        "startChar": 7,
        "endLine": 1442,
        "endChar": 36
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39858859_8041000b",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1650,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "we",
      "range": {
        "startLine": 1650,
        "startChar": 68,
        "endLine": 1650,
        "endChar": 85
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b92b3816_eac6ab0d",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1650,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "\u0027the shader writes to gl_PointSize\u0027 is clearer, since it defines who \u0027it\u0027 is and how they use PS",
      "range": {
        "startLine": 1650,
        "startChar": 11,
        "endLine": 1650,
        "endChar": 34
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59e07c3c_2206aed1",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1650,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "the draw call specifies GL_POINTS, same reason",
      "range": {
        "startLine": 1650,
        "startChar": 39,
        "endLine": 1650,
        "endChar": 48
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b99c18d9_9608929b",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1650,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-15T20:59:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b92b3816_eac6ab0d",
      "range": {
        "startLine": 1650,
        "startChar": 11,
        "endLine": 1650,
        "endChar": 34
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39858859_403b18a7",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1651,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-06-15T17:17:09Z",
      "side": 1,
      "message": "If we are emulating instanced point sprites on FL9_3",
      "range": {
        "startLine": 1651,
        "startChar": 11,
        "endLine": 1651,
        "endChar": 59
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9ba1036_55e29c98",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1651,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-15T20:59:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "39858859_403b18a7",
      "range": {
        "startLine": 1651,
        "startChar": 11,
        "endLine": 1651,
        "endChar": 59
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5934fc65_11bc760a",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.h",
        "patchSetId": 2
      },
      "lineNbr": 353,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2015-06-10T17:12:14Z",
      "side": 1,
      "message": "This can be removed too.",
      "range": {
        "startLine": 353,
        "startChar": 9,
        "endLine": 353,
        "endChar": 26
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99fcb4c6_f8aad9de",
        "filename": "src/tests/gl_tests/IndexedPointsTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2015-06-10T17:12:14Z",
      "side": 1,
      "message": "nit: size_t",
      "range": {
        "startLine": 14,
        "startChar": 10,
        "endLine": 14,
        "endChar": 13
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "795380ca_06fc5c35",
        "filename": "src/tests/gl_tests/IndexedPointsTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1115159
      },
      "writtenOn": "2015-06-11T15:56:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "99fcb4c6_f8aad9de",
      "range": {
        "startLine": 14,
        "startChar": 10,
        "endLine": 14,
        "endChar": 13
      },
      "revId": "44c30d2a96649db18b7d418c24a35d92bfa2b3fe",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}