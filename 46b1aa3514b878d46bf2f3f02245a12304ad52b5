{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "56c7d739_1f660a6f",
        "filename": "src/libANGLE/renderer/vulkan/ProgramExecutableVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 939,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2024-03-04T19:33:21Z",
      "side": 1,
      "message": "I think the simpler fix is change this to textureUnit. (BTW, your rename of textureIndex to samplerIndex is still good).",
      "range": {
        "startLine": 939,
        "startChar": 61,
        "endLine": 939,
        "endChar": 73
      },
      "revId": "46b1aa3514b878d46bf2f3f02245a12304ad52b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "202f6666_282f1095",
        "filename": "src/libANGLE/renderer/vulkan/ProgramExecutableVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 939,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2024-03-04T22:07:01Z",
      "side": 1,
      "message": "\u003e I think the simpler fix is change this to textureUnit\n\nthat wont work since the ycbcrConversionDesc \u003c-\u003e textureUnit never changes in the test case `TexStorage2DMultipleYuvSamplersSwitchSamplerUniformValues`\n\nwhat does change is the sampler uniform value a.k.a ycbcrConversionDesc \u003c-\u003e samplerIndex mapping which also makes the pipeline layout incompatible",
      "parentUuid": "56c7d739_1f660a6f",
      "range": {
        "startLine": 939,
        "startChar": 61,
        "endLine": 939,
        "endChar": 73
      },
      "revId": "46b1aa3514b878d46bf2f3f02245a12304ad52b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "67f9e01e_a809f056",
        "filename": "src/libANGLE/renderer/vulkan/ProgramExecutableVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 939,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2024-03-04T23:36:14Z",
      "side": 1,
      "message": "yea, I can see what you mean.",
      "parentUuid": "202f6666_282f1095",
      "range": {
        "startLine": 939,
        "startChar": 61,
        "endLine": 939,
        "endChar": 73
      },
      "revId": "46b1aa3514b878d46bf2f3f02245a12304ad52b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca00ecea_72aaf957",
        "filename": "src/tests/gl_tests/TextureTest.cpp",
        "patchSetId": 15
      },
      "lineNbr": 3895,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2024-03-04T23:36:14Z",
      "side": 1,
      "message": "The test is not checking any rendering result, which means the test won\u0027t fail  before your fix.",
      "range": {
        "startLine": 3895,
        "startChar": 25,
        "endLine": 3895,
        "endChar": 82
      },
      "revId": "46b1aa3514b878d46bf2f3f02245a12304ad52b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e349d8a9_0dd12007",
        "filename": "src/tests/gl_tests/TextureTest.cpp",
        "patchSetId": 15
      },
      "lineNbr": 3895,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2024-03-04T23:39:38Z",
      "side": 1,
      "message": "no need for rendering result check, it should fail due to following validation error -\n```\n[ RUN      ] Texture2DTestES3.TexStorage2DMultipleYuvSamplersSwitchSamplerUniformValues/ES3_Vulkan\n..\\..\\src\\tests\\test_utils\\ANGLETest.cpp(65): error: RendererVk.cpp:812 (DebugUtilsMessenger): [ VUID-VkWriteDescriptorSet-descriptorType-01948 ] Validation Error: [ VUID-VkWriteDescriptorSet-descriptorType-01948 ] Object 0: handle \u003d 0x580000000058, type \u003d VK_OBJECT_TYPE_DESCRIPTOR_SET; Object 1: handle \u003d 0x370000000037, type \u003d VK_OBJECT_TYPE_SAMPLER; Object 2: handle \u003d 0x3a000000003a, type \u003d VK_OBJECT_TYPE_IMAGE_VIEW; | MessageID \u003d 0xe60d0a9 | vkUpdateDescriptorSets(): pDescriptorWrites[2] Attempted write update to combined image sampler and image view and sampler YCbCr conversions are not identical. The Vulkan spec states: If descriptorType is VK_DESCRIPTOR_TYPE_COMBINED_IMAGE_SAMPLER, and dstSet was allocated with a layout that included immutable samplers for dstBinding, then the imageView member of each element of pImageInfo which corresponds to an immutable sampler that enables sampler Y\u0027CBCR conversion must have been created with a VkSamplerYcbcrConversionInfo structure in its pNext chain with an identically defined VkSamplerYcbcrConversionInfo to the corresponding immutable sampler (https://www.khronos.org/registry/vulkan/specs/1.3-extensions/html/vkspec.html#VUID-VkWriteDescriptorSet-descriptorType-01948)\n                            Object: 0x580000000058 (type \u003d Descriptor Set(23))\n                            Object: 0x370000000037 (type \u003d Sampler(21))\n                            Object: 0x3a000000003a (type \u003d Image View(14))\n```",
      "parentUuid": "ca00ecea_72aaf957",
      "range": {
        "startLine": 3895,
        "startChar": 25,
        "endLine": 3895,
        "endChar": 82
      },
      "revId": "46b1aa3514b878d46bf2f3f02245a12304ad52b5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}