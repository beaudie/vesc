{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d07c62e2_3fe898dc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-11T15:51:42Z",
      "side": 1,
      "message": "PTAL",
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "005750ba_421a0c2a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:02:54Z",
      "side": 1,
      "message": "Part way through (non-stop meetings this morning).",
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d887c7f1_c606ee20",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:55:37Z",
      "side": 1,
      "message": "I made it all the way through now.  Overall LGTM.  Some questions, possible bug, \u0026 nits.",
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "225e057b_995fb3e3",
        "filename": "src/libANGLE/renderer/renderer_utils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1247,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:02:54Z",
      "side": 1,
      "message": "I was going to suggest that you\u0027re missing the following just above this line, but I see that we don\u0027t have angle::FormatID::R8G8_UNORM_SRGB:\n\n    case angle::FormatID::R8G8_UNORM:\n        return angle::FormatID::R8G8_UNORM_SRGB;\n\nI started to add this because of a comment below...",
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e41a20a4_3f5db471",
        "filename": "src/libANGLE/renderer/renderer_utils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1247,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:55:37Z",
      "side": 1,
      "message": "Wait, I see that the old ConvertToSRGB() and ConvertToLinear() functions supported going between VK_FORMAT_R8G8_UNORM and VK_FORMAT_R8G8_SRGB.  Are we losing something here?",
      "parentUuid": "225e057b_995fb3e3",
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b750fdd7_7f29296c",
        "filename": "src/libANGLE/renderer/renderer_utils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1247,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-11T21:58:45Z",
      "side": 1,
      "message": "Right, good catch. These formats don\u0027t actually exist in ANGLE, or in OpenGL that I could see. They do exist in Vulkan. We should probably add them to ANGLE to cover the very edge case where someone imports these as an AHB or other external texture. I considered this so marginal that I didn\u0027t address it.",
      "parentUuid": "e41a20a4_3f5db471",
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4c16462_fa3840ed",
        "filename": "src/libANGLE/renderer/renderer_utils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1247,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T22:05:20Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b750fdd7_7f29296c",
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "033847ab_051ac8c5",
        "filename": "src/libANGLE/renderer/renderer_utils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1308,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:02:54Z",
      "side": 1,
      "message": "I think you should delete this line\n\nI was going to suggest that you\u0027re missing the following just above this line, but I see that we don\u0027t have angle::FormatID::R8G8_UNORM_SRGB::\n\n    case angle::FormatID::R8G8_UNORM_SRGB:",
      "range": {
        "startLine": 1308,
        "startChar": 1,
        "endLine": 1308,
        "endChar": 35
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2df0e806_b3714293",
        "filename": "src/libANGLE/renderer/renderer_utils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1308,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:55:37Z",
      "side": 1,
      "message": "Wait, I see that the old ConvertToSRGB() and ConvertToLinear() functions supported going between VK_FORMAT_R8G8_UNORM and VK_FORMAT_R8G8_SRGB.  Are we losing something here?",
      "parentUuid": "033847ab_051ac8c5",
      "range": {
        "startLine": 1308,
        "startChar": 1,
        "endLine": 1308,
        "endChar": 35
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "58700e48_9e5e8e2e",
        "filename": "src/libANGLE/renderer/renderer_utils.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1308,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-11T21:58:45Z",
      "side": 1,
      "message": "Done, thanks for catching.",
      "parentUuid": "033847ab_051ac8c5",
      "range": {
        "startLine": 1308,
        "startChar": 1,
        "endLine": 1308,
        "endChar": 35
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72d6cf76_ac21649f",
        "filename": "src/libANGLE/renderer/vulkan/RenderbufferVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:32:25Z",
      "side": 1,
      "message": "I think this can go in the \"then\" part of the following \"if\"",
      "range": {
        "startLine": 86,
        "startChar": 0,
        "endLine": 89,
        "endChar": 69
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7cf99fc3_3188d12c",
        "filename": "src/libANGLE/renderer/vulkan/RenderbufferVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-11T21:58:45Z",
      "side": 1,
      "message": "Ack, see other comment. I have filed an issue for making this a helper.",
      "parentUuid": "72d6cf76_ac21649f",
      "range": {
        "startLine": 86,
        "startChar": 0,
        "endLine": 89,
        "endChar": 69
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7543f21_6ea0b66c",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.h",
        "patchSetId": 6
      },
      "lineNbr": 458,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:32:25Z",
      "side": 1,
      "message": "Nit: Is this still accurate?",
      "range": {
        "startLine": 458,
        "startChar": 18,
        "endLine": 458,
        "endChar": 36
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "858374b4_13bc6501",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.h",
        "patchSetId": 6
      },
      "lineNbr": 458,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-11T21:58:45Z",
      "side": 1,
      "message": "Ack, yes, this is still a cache of VkFormatProperties. The Key has changed. The Value is the same.",
      "parentUuid": "c7543f21_6ea0b66c",
      "range": {
        "startLine": 458,
        "startChar": 18,
        "endLine": 458,
        "endChar": 36
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35ad53ce_f4d3a64f",
        "filename": "src/libANGLE/renderer/vulkan/android/HardwareBufferImageSiblingVkAndroid.cpp",
        "patchSetId": 6
      },
      "lineNbr": 206,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:02:54Z",
      "side": 1,
      "message": "This doesn\u0027t look like it\u0027s used",
      "range": {
        "startLine": 206,
        "startChar": 20,
        "endLine": 206,
        "endChar": 40
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "910f02e2_cc10a155",
        "filename": "src/libANGLE/renderer/vulkan/android/HardwareBufferImageSiblingVkAndroid.cpp",
        "patchSetId": 6
      },
      "lineNbr": 206,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:32:25Z",
      "side": 1,
      "message": "Sorry, not the case",
      "parentUuid": "35ad53ce_f4d3a64f",
      "range": {
        "startLine": 206,
        "startChar": 20,
        "endLine": 206,
        "endChar": 40
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a04229db_ff10d0cd",
        "filename": "src/libANGLE/renderer/vulkan/android/HardwareBufferImageSiblingVkAndroid.cpp",
        "patchSetId": 6
      },
      "lineNbr": 211,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:02:54Z",
      "side": 1,
      "message": "Looks like these lines could be moved within the \"then\" part of the following \"if\" (since that\u0027s when they\u0027re used), UNLESS you can use one/both of these below with renderer-\u003ehasImageFormatFeatureBits()",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 211,
        "endChar": 0
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5504eb9e_744539b7",
        "filename": "src/libANGLE/renderer/vulkan/android/HardwareBufferImageSiblingVkAndroid.cpp",
        "patchSetId": 6
      },
      "lineNbr": 211,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-11T21:58:45Z",
      "side": 1,
      "message": "Ack, I originally did and this caused a crash. The issue is that the \"if\" block uses a pointer to these local variables. If I define them inside the block they go out of scope and cause undefined memory accesses.",
      "parentUuid": "a04229db_ff10d0cd",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 211,
        "endChar": 0
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "905166da_af3ce876",
        "filename": "src/libANGLE/renderer/vulkan/android/HardwareBufferImageSiblingVkAndroid.cpp",
        "patchSetId": 6
      },
      "lineNbr": 211,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T22:05:20Z",
      "side": 1,
      "message": "Got it.  Thanks for explaining!",
      "parentUuid": "5504eb9e_744539b7",
      "range": {
        "startLine": 207,
        "startChar": 0,
        "endLine": 211,
        "endChar": 0
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31f6ad6d_c50484ae",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_format_table.py",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-01-11T17:40:55Z",
      "side": 1,
      "message": "How reliable is the optimizer here? Why not an index into a constexpr table?",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 63,
        "endChar": 6
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b82e3d75_03873115",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_format_table.py",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-11T19:49:15Z",
      "side": 1,
      "message": "I could do it as a follow-up. I used this as an initial implementation. Meant to do it as a table at some point and just ran out of time.",
      "parentUuid": "31f6ad6d_c50484ae",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 63,
        "endChar": 6
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42d93000_d74c14d4",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_format_table.py",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-01-11T20:02:54Z",
      "side": 1,
      "message": "Leave a comment to that effect?",
      "parentUuid": "b82e3d75_03873115",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 63,
        "endChar": 6
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05bdf32e_cb14f1f8",
        "filename": "src/libANGLE/renderer/vulkan/gen_vk_format_table.py",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-11T21:58:45Z",
      "side": 1,
      "message": "Done, added it as a map.",
      "parentUuid": "42d93000_d74c14d4",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 63,
        "endChar": 6
      },
      "revId": "0621c6cc770e1d0aa141d599e643be53d78005e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}