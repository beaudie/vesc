{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d50af647_512aee41",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.h",
        "patchSetId": 8
      },
      "lineNbr": 333,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2024-05-14T16:41:46Z",
      "side": 1,
      "message": "For immutable texture, this contains levels allocated with `glTexStorage`.",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a57d3865_71945c36",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.h",
        "patchSetId": 8
      },
      "lineNbr": 333,
      "author": {
        "id": 1543187
      },
      "writtenOn": "2024-05-15T13:22:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d50af647_512aee41",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2798737_4bf3b7e9",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 408,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2024-05-14T16:41:46Z",
      "side": 1,
      "message": "Why cannot the original texture be used all the time? Since the feature is enabled only for a subset of GPUs, this path may regress in future depending on AMD bots availability.",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a0ddf6cb_4fb910f3",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 408,
      "author": {
        "id": 1543187
      },
      "writtenOn": "2024-05-14T19:39:04Z",
      "side": 1,
      "message": "If we always use original texture, do you prefer passing the original texture and its level directly here or getting them via view ref? The former would require refactoring a lot of places in this class, e.g. setPerSliceSubImage should take in a original texture + level instead of a level view.\n\nI would prefer the 2nd to unify the code to upload data to an image of an incomplete texture vs complete texture though.",
      "parentUuid": "e2798737_4bf3b7e9",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc14bf00_22379bf1",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 408,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2024-05-14T19:56:33Z",
      "side": 1,
      "message": "I think it\u0027s reasonable to always get the texture and the level via the view. This way we\u0027ll be sure that this code is correct on all platforms.\n\nOut of curiosity, when are the nested views used, i.e., why is the loop needed here?",
      "parentUuid": "a0ddf6cb_4fb910f3",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28455dff_c3efe052",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 408,
      "author": {
        "id": 1543187
      },
      "writtenOn": "2024-05-15T13:22:37Z",
      "side": 1,
      "message": "Some times a view could be created from a view. Even though currently there is no such creation in this file. That was just for futureproof anw. I removed the loop.",
      "parentUuid": "dc14bf00_22379bf1",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5a1b0dd_24dc5943",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 1047,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2024-05-14T16:41:46Z",
      "side": 1,
      "message": "Please assert that `actualMip` is valid for the view (or maybe use the native texture here?).",
      "range": {
        "startLine": 1044,
        "startChar": 0,
        "endLine": 1047,
        "endChar": 0
      },
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cb441427_2434e884",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 1047,
      "author": {
        "id": 1543187
      },
      "writtenOn": "2024-05-15T13:22:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e5a1b0dd_24dc5943",
      "range": {
        "startLine": 1044,
        "startChar": 0,
        "endLine": 1047,
        "endChar": 0
      },
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a602e59f_abb343a8",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 1112,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2024-05-14T16:41:46Z",
      "side": 1,
      "message": "Please add a comment why view creation is skipped in this case (Intel stencil issues).",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c793ce7d_7222a689",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 1112,
      "author": {
        "id": 1543187
      },
      "writtenOn": "2024-05-14T19:42:27Z",
      "side": 1,
      "message": "This is not necessarily for intel issue only though. It\u0027s simply waste of memory to create a view that has same levels as the original texture.",
      "parentUuid": "a602e59f_abb343a8",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc701cac_09ad05ac",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 1112,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2024-05-14T19:56:33Z",
      "side": 1,
      "message": "Sure, mentioning both reasons is fine. Since it\u0027s not just an optimization, pointing out the driver bug is important imo.",
      "parentUuid": "c793ce7d_7222a689",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "801c71b5_885de4e1",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 1112,
      "author": {
        "id": 1543187
      },
      "writtenOn": "2024-05-15T13:22:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cc701cac_09ad05ac",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17b7acff_e8de22db",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 1955,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2024-05-14T16:41:46Z",
      "side": 1,
      "message": "This could be replaced with an assertion as the texture type cannot be changed in GL after creation.",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2257ed2b_e32c297b",
        "filename": "src/libANGLE/renderer/metal/TextureMtl.mm",
        "patchSetId": 8
      },
      "lineNbr": 1955,
      "author": {
        "id": 1543187
      },
      "writtenOn": "2024-05-15T13:22:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17b7acff_e8de22db",
      "revId": "d65b79c8cf4a1cd4da713dfef39db8e62af7787e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}