{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "da41acaf_b9f2700b",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "These look like should be handled by the validation for this function instead",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 179,
        "endChar": 9
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84f07564_b6bd8905",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "Yup, will update.",
      "parentUuid": "da41acaf_b9f2700b",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 179,
        "endChar": 9
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "11ebafea_2acba817",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 179,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-24T01:25:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "84f07564_b6bd8905",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 179,
        "endChar": 9
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c32495b4_4b28922d",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 185,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "üòÆ I\u0027m shocked that `clLinkProgram` is actually taking options like this and in a single string no less (what is this, Windows?)\n\nThis is a bit error prone, like if the user provides `-create-library-special-extension`, it\u0027s still going to match `-create-library`. My suggestion is to create something like `egl::AttributeMap`, except you can make it even a struct with pre-determined fields (unlike the generic EGLint-based AttributeMap). Let\u0027s call that `CLProgramOptions`?\n\nThen similar to how EGL attributes are put in an `AttributeMap` very early in the entry point, you can parse the options early on (even before validation) with `angle::SplitStringAlongWhitespace` + checking for possible values and setting the appropriate flags in `CLProgramOptions`.\n\nThe added benefit is that in validation and every backend, you don\u0027t need to re-parse the options (potentially inconsistently).",
      "range": {
        "startLine": 182,
        "startChar": 0,
        "endLine": 185,
        "endChar": 98
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "215659c3_5c6b830f",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 185,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "+1 on whitespace split\n\nYeah along with above - these should belong in validation. Will move/do.",
      "parentUuid": "c32495b4_4b28922d",
      "range": {
        "startLine": 182,
        "startChar": 0,
        "endLine": 185,
        "endChar": 98
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83a48a5e_c4e5a429",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 185,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-26T19:35:43Z",
      "side": 1,
      "message": "+1 on `CLProgramOptions` abstraction\n\nJust to clarify tho, are we saying to replace all instances of `const char* options` with `CLProgramOptions` for all backend calls here?\n\nIf so, can we defer this task to another cleanup PR? I feel like this is better\nserved as its own standalone PR.",
      "parentUuid": "215659c3_5c6b830f",
      "range": {
        "startLine": 182,
        "startChar": 0,
        "endLine": 185,
        "endChar": 98
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04c3c90c_e400166a",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 185,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-26T20:55:39Z",
      "side": 1,
      "message": "Yeah that would be idea. Separate CL is perfectly fine.",
      "parentUuid": "83a48a5e_c4e5a429",
      "range": {
        "startLine": 182,
        "startChar": 0,
        "endLine": 185,
        "endChar": 98
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b85166b_00a9da01",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 185,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-26T23:10:01Z",
      "side": 1,
      "message": "Cool, went ahead and added it to CL backlog\n\nhttps://anglebug.com/8561\n\nDone.",
      "parentUuid": "04c3c90c_e400166a",
      "range": {
        "startLine": 182,
        "startChar": 0,
        "endLine": 185,
        "endChar": 98
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "55cb239d_c118a9b4",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 191,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "Also looks like it belongs in validation",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c7a5c41_64b56634",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 191,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "Agreed, will update",
      "parentUuid": "55cb239d_c118a9b4",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60eb138b_4a7231bf",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 191,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-24T01:25:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1c7a5c41_64b56634",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18654ab5_5ec00231",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 208,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "We have a thread pool implementation in ANGLE that you could use. It\u0027ll be more efficient than creating/destroying many threads, and you could control how many things are run in parallel.\n\nYou can probably put a pool in `CLPlatform` that\u0027s initialized like `Display::mMultiThreadPool` and use that.",
      "range": {
        "startLine": 200,
        "startChar": 0,
        "endLine": 208,
        "endChar": 36
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be4c0833_8a0ec88e",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 208,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "Nice! Will update.",
      "parentUuid": "18654ab5_5ec00231",
      "range": {
        "startLine": 200,
        "startChar": 0,
        "endLine": 208,
        "endChar": 36
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d1528fa_470f2760",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 208,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-24T01:25:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "be4c0833_8a0ec88e",
      "range": {
        "startLine": 200,
        "startChar": 0,
        "endLine": 208,
        "endChar": 36
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f05b8616_6be6133d",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 301,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "What is `mProgramMutex` protecting exactly? It\u0027s locked above when `buildInternal` is called synchronously, but it isn\u0027t when it\u0027s async.",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7855e7d1_d1c73ab5",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 301,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "\u003e What is mProgramMutex protecting exactly?\n\nWhat we mutate in the program object (mainly updating the options string cache and this build internal call) since OpenCL states that all API calls are thread-safe (except for clSetKernelArg).\n\n\u003e but it isn\u0027t when it\u0027s async\n\nAh... yeah when we detach caller thread that \"sl\" kinda goes out of scope huh üòÖ\nGreat catch, okay let me work on this a bit.",
      "parentUuid": "f05b8616_6be6133d",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "98cb7cba_a15791d3",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 301,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-24T01:25:04Z",
      "side": 1,
      "message": "Was able to move it inside the buildInternal routine.\n\nDone.",
      "parentUuid": "7855e7d1_d1c73ab5",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5b8a3313_0238a26e",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 317,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "Eventually, you could consider moving the clspv stuff under a simpler interface in `clspv_utils.h/cpp` to contain the separate its details from `CLProgramVk`.",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6568e317_7b2c8f49",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 317,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "Touche",
      "parentUuid": "5b8a3313_0238a26e",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d8818cd_38b858ca",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 353,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "nit: I don\u0027t know if it\u0027s accessible, but if you directly use something like `clspv::CompileFromSourcesString` (called from `clspvCompileFromSourcesString`) you can simplify and optimize this by avoiding multiple allocations and `memcpy`s.\n\n`clspvCompileFromSourcesString` creates temporary storage, then mallocs space for `clspvCtx.mOutputBin` to `memcpy` into, then this code is `memcpy`ing it into something else :/",
      "range": {
        "startLine": 329,
        "startChar": 0,
        "endLine": 353,
        "endChar": 21
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "caeb3fc0_a59e1020",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 353,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "It is, actually I wanted to use the C++ interface (and statically link clspv) in the past.\n\nBut we think we might get push-back on lib size reqs from our GLES folks when we end up sharing a singular lib for GLES + OpenCL. I\u0027m thinking we go with your suggestion here...",
      "parentUuid": "5d8818cd_38b858ca",
      "range": {
        "startLine": 329,
        "startChar": 0,
        "endLine": 353,
        "endChar": 21
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26323c24_ea95a6e8",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 353,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-26T20:55:39Z",
      "side": 1,
      "message": "Not a blocking request FYI, can be a separate CL and any time you have the chance. It\u0027s a CPU perf thing, so not as high priority now of course.",
      "parentUuid": "caeb3fc0_a59e1020",
      "range": {
        "startLine": 329,
        "startChar": 0,
        "endLine": 353,
        "endChar": 21
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "956d3199_059e81b4",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 353,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-26T23:10:01Z",
      "side": 1,
      "message": "Agreed on perf - yeah separate CL sounds good to me üëç\n\nhttps://anglebug.com/8562\n\nDone.",
      "parentUuid": "26323c24_ea95a6e8",
      "range": {
        "startLine": 329,
        "startChar": 0,
        "endLine": 353,
        "endChar": 21
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7483042_69dc11e2",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 435,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "Avoid `#if` as much as you can. The code inside can easily bitrot. I expect on debug builds you still don\u0027t want this to be output all the time (too much log, right?)\n\nThe way we typically do it is:\n\n```\n// at top of the file:\nnamespace {\nconstexpr bool kLogSpirvDisassembly \u003d false;\n}  // anonymous namespace\n\n// here:\nif (kLogSpirvDisassembly)\n{\n    INFO() \u003c\u003c \"OpenCL program (\" \u003c\u003c this \u003c\u003c \") SPIR-V Disassembly (start)\";\n    INFO() \u003c\u003c disassembleSpirv(SPV_BINARY_TO_TEXT_OPTION_NONE, deviceProgramData);\n    INFO() \u003c\u003c \"OpenCL program (\" \u003c\u003c this \u003c\u003c \") SPIR-V Disassembly (end)\";\n}\n```\n\nThis way the code does get compiled out, but also get build-checked on every build.\n\nIf you really do want to enable this on debug builds (not recommended), then you can put the `#if` around the `bool`\u0027s initialization. See `kDumpPipelineCacheGraph` for example!",
      "range": {
        "startLine": 431,
        "startChar": 0,
        "endLine": 435,
        "endChar": 6
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f21613dd_034dee28",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 435,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "I swear I\u0027m not doing this kinda stuff on purpose to get better/cleaner suggestions from you... ü§•\n\nNice! I\u0027m guessing we can maybe tie this to a GN arg as well? ü§û\n\nAlso, is there some existing mechanism in ANGLE for runtime knobs?\nI guess that maybe boils down to a envvar/getprop or config file...",
      "parentUuid": "d7483042_69dc11e2",
      "range": {
        "startLine": 431,
        "startChar": 0,
        "endLine": 435,
        "endChar": 6
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6621e9e9_304abd44",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 435,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T21:58:37Z",
      "side": 1,
      "message": "\u003e I swear I\u0027m not doing this kinda stuff on purpose to get better/cleaner suggestions from you... ü§•\n\nHahaha, no worries, it takes a while to get used to the style of the project. You\u0027re going through what I went through with the \"strict reviewer\" before me when I joined the project :P\n\n\u003e Nice! I\u0027m guessing we can maybe tie this to a GN arg as well? ü§û\n\nSure, if it\u0027s that useful (I figured it\u0027s just there for local debugging). But gn args never hurt.\n\n\u003e Also, is there some existing mechanism in ANGLE for runtime knobs?\n\nYes, the ANGLE features (stuff in `vk_features.json`) can be tweaked at runtime with an envvar and getprop (see `ANGLE_FEATURE_OVERRIDES_ENABLED`). The `constexpr bool` helps us save binary space though, so if something takes up significant binary size (like pull in SPIR-V Tools when it would have otherwise not linked with) we don\u0027t make it a runtime decision.\n\nIt could always be \"build with debug, enabled at runtime\" though, they are not mutually exclusive.",
      "parentUuid": "f21613dd_034dee28",
      "range": {
        "startLine": 431,
        "startChar": 0,
        "endLine": 435,
        "endChar": 6
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9b2ad15e_9b1806ea",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 435,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-24T01:25:04Z",
      "side": 1,
      "message": "Yup, super nice to have debug only + runtime enable:\n\n```C++\nif (kAngleDebug)\n{\n  if (mContext-\u003egetFeatures().clDumpVkSpirv.enabled)\n  {\n    angle::spirv::Print(deviceProgramData.binary);\n  }\n}\n```\nSweet, just tested and it works well - thanks again for the help/suggestions!",
      "parentUuid": "6621e9e9_304abd44",
      "range": {
        "startLine": 431,
        "startChar": 0,
        "endLine": 435,
        "endChar": 6
      },
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e00f225_7f22a2ca",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 442,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "FYI, `angle::spirv::Print` exists.",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd539f32_15bfd0bd",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 442,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "Nice üòé",
      "parentUuid": "4e00f225_7f22a2ca",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e98180a9_7a7905a1",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 458,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "Fine for now, but you might find you\u0027d need to implement this stuff in ANGLE eventualy. SPIR-V Tools does a full parse of the SPIR-V, creates maps, etc. It\u0027s somewhat heavy for the use-cases you have here.\n\nYou can find some examples of things we do directly on the SPIR-V in `spv_utils.cpp`. AFAICT, you don\u0027t actually need to look at most of the SPIR-V because the bulk of the SPIR-V is actually the shader code and parsing that is a waste of time. If you roll out your own loop to inspect the SPIR-V, you can extract the reflection info and strip it one pass, _and_ you can stop parsing as soon as you get to the `OpFunction`s section (and so skip most of the SPIR-V).\n\nNot asking you to do that now, just something to bear in mind.",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "433f3814_bc9d6109",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.h",
        "patchSetId": 4
      },
      "lineNbr": 222,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-22T19:40:26Z",
      "side": 1,
      "message": "Doesn\u0027t need to be exposed in the header, you can make it a function in an anonymous namespace at the top of the cpp file.\n\nPer our style, then it would not have `static`, and be it\u0027d be called `ParseReflection`.",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b17ae16_ebba0233",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.h",
        "patchSetId": 4
      },
      "lineNbr": 222,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-22T20:51:04Z",
      "side": 1,
      "message": "+1 on anonymous namespace suggestion. I\u0027ll do that.",
      "parentUuid": "433f3814_bc9d6109",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eb2a6f0b_30be8f17",
        "filename": "src/libANGLE/renderer/vulkan/CLProgramVk.h",
        "patchSetId": 4
      },
      "lineNbr": 222,
      "author": {
        "id": 1604617
      },
      "writtenOn": "2024-02-24T01:25:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0b17ae16_ebba0233",
      "revId": "9369d08f71a4dedecdc41fc629262c03e7c27b1d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}