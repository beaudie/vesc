{
  "comments": [
    {
      "key": {
        "uuid": "21d5fb7e_1f4d91b5",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 554,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-11-25T12:09:07Z",
      "side": 1,
      "message": "this isn\u0027t correct for default attributes (see VertexArrayVk::setDefaultPackedInput) and for emulated attributes (stride will be incorrect, see VertexArrayVk::syncDirtyAttrib). Likely you could solve the problems by checking for default attribs and caching the stride.",
      "range": {
        "startLine": 552,
        "startChar": 9,
        "endLine": 554,
        "endChar": 5
      },
      "revId": "d963fce5f2c2486c1af4706f3bb511375896f2a1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2532ee2a_c6064cfa",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 554,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2019-11-25T18:40:32Z",
      "side": 1,
      "message": "will rectify the emulated attributes but not sure i get the comment about default attributes. Wont the intersection of active attribute set and default attribute set be a null set? and we just got done with \"invalidateDefaultAttributes\" before entering this method",
      "parentUuid": "21d5fb7e_1f4d91b5",
      "range": {
        "startLine": 552,
        "startChar": 9,
        "endLine": 554,
        "endChar": 5
      },
      "revId": "d963fce5f2c2486c1af4706f3bb511375896f2a1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92eea36d_fccd14b1",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 554,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-11-25T18:45:45Z",
      "side": 1,
      "message": "You\u0027re right about the null set. However you\u0027re still not clearing out all the default attributes in the pipeline desc here. \"invalidateDefaultAttributes\" doesn\u0027t handle that for you.\n\nYou could handle the default attribs in a separate loop here using \"~\". Or iterate all attributes and check for enabled inside the loop.\n\nNote that this might make switching VAOs a bit inefficient. We can optimize this later.",
      "parentUuid": "2532ee2a_c6064cfa",
      "range": {
        "startLine": 552,
        "startChar": 9,
        "endLine": 554,
        "endChar": 5
      },
      "revId": "d963fce5f2c2486c1af4706f3bb511375896f2a1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95cc91e6_f3bbd70d",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 554,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2019-11-25T19:13:18Z",
      "side": 1,
      "message": "but setupdraw does call into \"updateDefaultAttribute\" through \"handleDirtyGraphicsDefaultAttribs\" which goes on to call \"onVertexAttributeChange\" which updates the pipeline desc. seems like im missing something",
      "parentUuid": "92eea36d_fccd14b1",
      "range": {
        "startLine": 552,
        "startChar": 9,
        "endLine": 554,
        "endChar": 5
      },
      "revId": "d963fce5f2c2486c1af4706f3bb511375896f2a1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}