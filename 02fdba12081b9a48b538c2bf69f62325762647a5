{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9aa71815_3b708800",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2021-05-14T01:41:30Z",
      "side": 1,
      "message": "I don\u0027t quite understand what\u0027s going wrong here.   These strings are declared in the .cpp files and should be accessible whenever we\u0027d like from within them.   Why would they go away if accessed when something like ReplayContext1Frame1() is executed twice?\n\n\u003e the string pointer is no good on the second run through\n\nWhat does \"no good\" mean?   It\u0027s pointing to somewhere random or the string itself is being corrupted somehow?\n\nDoes this happen with native and ANGLE playbacks, or just one of them?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 12,
        "endChar": 30
      },
      "revId": "02fdba12081b9a48b538c2bf69f62325762647a5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d9c03e0_4667ffbf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2021-05-14T03:30:12Z",
      "side": 1,
      "message": "On second loop through, the pointer\u0027s value had changed and no longer pointed to the string.  This only happened on the native driver, but happened on multiple desktop vendors.  I didn\u0027t grab screenshots of the new value in the debugger, but I can if you want to dig into it more.",
      "parentUuid": "9aa71815_3b708800",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 12,
        "endChar": 30
      },
      "revId": "02fdba12081b9a48b538c2bf69f62325762647a5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce062e80_c9772ee7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2021-05-13T22:48:43Z",
      "side": 1,
      "message": "Tightening up our strings for traces that use large ones in the middle of the trace. This resolves a crash seen on at least three different platforms.  Basically the pointer changed on the second run through and was pointing off somewhere else.",
      "revId": "02fdba12081b9a48b538c2bf69f62325762647a5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14d26d31_9bb77764",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 1
      },
      "lineNbr": 401,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2021-05-14T01:41:30Z",
      "side": 1,
      "message": "Why does this fix the problem (and how did you figure it out)?",
      "revId": "02fdba12081b9a48b538c2bf69f62325762647a5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97ccf99a_99655a47",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 1
      },
      "lineNbr": 401,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2021-05-14T03:30:12Z",
      "side": 1,
      "message": "We were crashing in glCompileShader on the second loop through.  In the debugger, I could see that glShaderSource was no longer pointing to the string.  It wasn\u0027t nullptr, it had just ... changed. Looking at the spec, the parameter to glShaderSource is actually \"const char* const *string\", so I applied that to our strings.  The drivers may be relying on that.",
      "parentUuid": "14d26d31_9bb77764",
      "revId": "02fdba12081b9a48b538c2bf69f62325762647a5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22de2028_90e19709",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 1
      },
      "lineNbr": 401,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-05-14T14:03:42Z",
      "side": 1,
      "message": "You would think the compiler would spew errors now if the pointer was previously being changed :-?",
      "parentUuid": "97ccf99a_99655a47",
      "revId": "02fdba12081b9a48b538c2bf69f62325762647a5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}