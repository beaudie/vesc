{
  "comments": [
    {
      "key": {
        "uuid": "fed3fa98_0ac1cfa2",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 647,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2019-02-11T18:05:11Z",
      "side": 1,
      "message": "you asked to get rid of a similar allocation below.  same here?",
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59605bef_e7a24c6e",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 647,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2019-02-11T18:14:36Z",
      "side": 1,
      "message": "And there were a couple existing std::vector in here which I can change while I\u0027m at it.",
      "parentUuid": "fed3fa98_0ac1cfa2",
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be3fff31_ccbaceec",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 647,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2019-02-11T18:53:49Z",
      "side": 1,
      "message": "Sure, go ahead.",
      "parentUuid": "59605bef_e7a24c6e",
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c02f3e11_7d4da455",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 769,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2019-02-11T14:37:21Z",
      "side": 1,
      "message": "we have a pattern of loading entry points now in vk_utils.h. Look for PFN_ in vk_utils.h. Can you use that pattern here?",
      "range": {
        "startLine": 768,
        "startChar": 7,
        "endLine": 769,
        "endChar": 80
      },
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee0d4c0e_ee63e3f8",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 769,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2019-02-11T18:05:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c02f3e11_7d4da455",
      "range": {
        "startLine": 768,
        "startChar": 7,
        "endLine": 769,
        "endChar": 80
      },
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c4c89ff_5a54afdb",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 895,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2019-02-11T14:37:21Z",
      "side": 1,
      "message": "you can probably use angle::FixedVector here to avoid the allocation. Any reasonable maximum is fine. We can always change it later.",
      "range": {
        "startLine": 888,
        "startChar": 0,
        "endLine": 895,
        "endChar": 5
      },
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b621d07_447b3048",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 895,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2019-02-11T18:05:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c4c89ff_5a54afdb",
      "range": {
        "startLine": 888,
        "startChar": 0,
        "endLine": 895,
        "endChar": 5
      },
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "541916ab_46b9305c",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 966,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-02-11T15:03:59Z",
      "side": 1,
      "message": "If `VK_KHR_GET_PHYSICAL_DEVICE_PROPERTIES_2` doesn\u0027t exist, with `pEnabledFeatures` now set to `nullptr`, the features we already used to have won\u0027t be selected any more.\n\nWith that ext being promoted to core in 1.1, I\u0027m not too worried about it, but as long as we support vulkan 1.0, we should take care if it.\n\nIt should be enough to do something like this:\n\ncreateInfo.pNext \u003d mGetPhysicalDeviceProperties2 ? \u0026enabledFeatures : nullptr;\ncreateInfo.pEnabledFeatures \u003d mGetPhysicalDeviceProperties2 ? nullptr : \u0026enabledFeatures.features;",
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0778b87_b89a44ba",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 966,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2019-02-11T18:05:11Z",
      "side": 1,
      "message": "I could be wrong, but I think it\u0027s correct as is.  The inheritedQueries and robustBufferAccess features are still requested via createInfo -\u003e pNext -\u003e enabledFeatures.features whether or not we do divisor stuff.\nAnd wouldn\u0027t some tests have failed if those features were not being requested, because something would have tried to use them?",
      "parentUuid": "541916ab_46b9305c",
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed9a1e61_af091b9f",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 966,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-02-11T18:11:10Z",
      "side": 1,
      "message": "The comment was regarding the VK_KHR_GET_PHYSICAL_DEVICE_PROPERTIES_2 extension (not the divisor one). If that extension is not present, the chained `VkPhysicalDeviceFeatures2` will not be processed.\n\nI believe the tests all pass because this extension is ubiquitous. I\u0027m fine with that, but in that case I would prefer if you ASSERT() that the extension is there. Either that, or make sure you handle it properly here if it\u0027s not.",
      "parentUuid": "a0778b87_b89a44ba",
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4cacfae_411b2e73",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 966,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2019-02-11T18:29:59Z",
      "side": 1,
      "message": "Sorry I\u0027ve tried but I just don\u0027t see it.  \"VkPhysicalDeviceFeatures2 enabledFeatures\" is always processed, because \"createInfo.pNext \u003d \u0026enabledFeatures\" at line 958.\nAnd the pre-existing feature requests are always done, at lines 920-921.\nNone of that is dependent on GetPhysicalDeviceProperties2.\nIf I\u0027m wrong I\u0027m afraid you\u0027ll have to take me through it step by step.",
      "parentUuid": "ed9a1e61_af091b9f",
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ef1e7e2_024968a3",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 11
      },
      "lineNbr": 554,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2019-02-11T14:37:21Z",
      "side": 1,
      "message": "nit: \u003e 0 or !\u003d 0",
      "range": {
        "startLine": 554,
        "startChar": 25,
        "endLine": 554,
        "endChar": 32
      },
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3437abca_cde670f9",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 11
      },
      "lineNbr": 554,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2019-02-11T18:05:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ef1e7e2_024968a3",
      "range": {
        "startLine": 554,
        "startChar": 25,
        "endLine": 554,
        "endChar": 32
      },
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45d4a3d4_a9fa9883",
        "filename": "src/libANGLE/renderer/vulkan/vk_caps_utils.cpp",
        "patchSetId": 11
      },
      "lineNbr": 29,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2019-02-11T14:37:21Z",
      "side": 1,
      "message": "sorry to ask, but could you make this a split change? makes the diff easier to review.",
      "range": {
        "startLine": 29,
        "startChar": 17,
        "endLine": 29,
        "endChar": 38
      },
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5dbff7d_c2a934e5",
        "filename": "src/libANGLE/renderer/vulkan/vk_caps_utils.cpp",
        "patchSetId": 11
      },
      "lineNbr": 29,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2019-02-11T18:05:11Z",
      "side": 1,
      "message": "np, done in https://chromium-review.googlesource.com/c/angle/angle/+/1463959",
      "parentUuid": "45d4a3d4_a9fa9883",
      "range": {
        "startLine": 29,
        "startChar": 17,
        "endLine": 29,
        "endChar": 38
      },
      "revId": "8a51dfa9ae54091aa655a449b34a3255cb339216",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}