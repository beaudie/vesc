{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "956c1869_db275d60",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2021-07-08T16:56:32Z",
      "side": 1,
      "message": "templated",
      "range": {
        "startLine": 9,
        "startChar": 21,
        "endLine": 9,
        "endChar": 30
      },
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73dc0299_dd462273",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-07-08T12:12:21Z",
      "side": 1,
      "message": "Cody or Tim, PTAL. Need to get some approvals on this so I can land it.",
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5aec1dca_c6f2b296",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 461,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2021-07-08T16:56:32Z",
      "side": 1,
      "message": "What\u0027s the motivation for versioning this?  Can we just replace the existing map?  Or is that a planned later transition?",
      "range": {
        "startLine": 461,
        "startChar": 34,
        "endLine": 461,
        "endChar": 38
      },
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "712c3ed7_9bf7f168",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 461,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2021-07-08T20:43:30Z",
      "side": 1,
      "message": "+1 to this concern.\n\nI\u0027m worried about all of the \"2\" versions of the functions and data structures and how long they\u0027ll need to stick around, since this will impact readability and maintenance.",
      "parentUuid": "5aec1dca_c6f2b296",
      "range": {
        "startLine": 461,
        "startChar": 34,
        "endLine": 461,
        "endChar": 38
      },
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01d545b3_0a079656",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 461,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-07-08T20:48:31Z",
      "side": 1,
      "message": "I put them in so I can support both the new and old design at the same time. After this series of patches land we can go and re-trace the traces all at once rather than re-tracing and re-uploading them twice. It won\u0027t need to stick around very long.",
      "parentUuid": "712c3ed7_9bf7f168",
      "range": {
        "startLine": 461,
        "startChar": 34,
        "endLine": 461,
        "endChar": 38
      },
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee670626_7b2796f4",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 4534,
      "author": {
        "id": 1491823
      },
      "writtenOn": "2021-07-05T21:18:39Z",
      "side": 1,
      "message": "What I meant was that you call updatePreCallResourceCounts here and not add that \"isCallValid\" to maybeCapturePreCallUpdates. With that it is clear that the ResourceCounts are updated when a call is valid without having to follow the call maybeCapturePreCallUpdates.",
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b9d19f6_c70c109b",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 4534,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-07-05T21:51:52Z",
      "side": 1,
      "message": "Ah, yeah. I\u0027ll leave it like it is now because I believe in another CL we will need to pass isCallValid to the function above. If that\u0027s OK with you.",
      "parentUuid": "ee670626_7b2796f4",
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf9c1014_45915c81",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 4534,
      "author": {
        "id": 1491823
      },
      "writtenOn": "2021-07-06T06:12:05Z",
      "side": 1,
      "message": "Do you have this CL already up somewhere? I\u0027d  like to see why you want to pass this boolean in.",
      "parentUuid": "5b9d19f6_c70c109b",
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60d88796_66333708",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 4534,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-07-06T12:31:29Z",
      "side": 1,
      "message": "Ah, it was one of your CLs, but we found another solution. I\u0027d still like to go with this design here if that\u0027s okay. Keeping as much code out of the function here as possible.",
      "parentUuid": "bf9c1014_45915c81",
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "099a631d_d51d55c9",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 4534,
      "author": {
        "id": 1491823
      },
      "writtenOn": "2021-07-08T08:13:53Z",
      "side": 1,
      "message": "TBH, I think that\u0027s bad design. You pass in a new parameter to decide whether to call an extra function, and this extra function could be perfectly well called right after the call site where you even already check the according flag.\n\nI could understand it if isCallValid would be a property of CallCapture that can be queried, so you don\u0027t have to change the interface, but even then having these checks for isCallValid distributed over the code when it could be handled in one place seem inefficient and makes the code more difficult to understand.",
      "parentUuid": "60d88796_66333708",
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0cf79b46_dc529dd3",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 4534,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-07-08T12:16:21Z",
      "side": 1,
      "message": "I\u0027ll see what the other reviewers think. It makes the code better as it is now from my reading because it\u0027s a pre-call update. In general we don\u0027t worry about adding extra arguments in the frame capture code.",
      "parentUuid": "099a631d_d51d55c9",
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3ed4afe_8f8c44a1",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 4534,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2021-07-08T16:56:32Z",
      "side": 1,
      "message": "I\u0027m fine with it either way.  Adding it as a parameter that could be checked outside the function looks weird, but encapsulating `updatePreCallResourceCounts` inside `maybeCapturePreCallUpdates` also makes sense.  I\u0027d probably lean toward the encapsulation to maintain readability.",
      "parentUuid": "0cf79b46_dc529dd3",
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "401fc560_ffc20d58",
        "filename": "src/libANGLE/capture/FrameCapture.cpp",
        "patchSetId": 7
      },
      "lineNbr": 4640,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2021-07-08T16:56:32Z",
      "side": 1,
      "message": ".",
      "range": {
        "startLine": 4640,
        "startChar": 69,
        "endLine": 4640,
        "endChar": 70
      },
      "revId": "baad10cf8d5990960963cf246d9c83d056bacc2d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}