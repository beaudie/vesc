{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "459c98d5_1f441b2d",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 55,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-03-30T18:17:42Z",
      "side": 1,
      "message": "nit: AllocatedLevel I think is what you mean, or LevelToAllocate, not sure which is your intent.",
      "range": {
        "startLine": 55,
        "startChar": 51,
        "endLine": 55,
        "endChar": 72
      },
      "revId": "6c795ded0482ccaf57652ff2dbcb01eb64c02086",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b2eddeb_d039e990",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 55,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-03-30T18:37:20Z",
      "side": 1,
      "message": "I think Charlie\u0027s intention is AllocatedLevel",
      "parentUuid": "459c98d5_1f441b2d",
      "range": {
        "startLine": 55,
        "startChar": 51,
        "endLine": 55,
        "endChar": 72
      },
      "revId": "6c795ded0482ccaf57652ff2dbcb01eb64c02086",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f87ca9e1_68cb8898",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 55,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-03-30T19:22:46Z",
      "side": 1,
      "message": "Right. I will change \"Allocate\" to \"Allocated\" in next update.",
      "parentUuid": "4b2eddeb_d039e990",
      "range": {
        "startLine": 55,
        "startChar": 51,
        "endLine": 55,
        "endChar": 72
      },
      "revId": "6c795ded0482ccaf57652ff2dbcb01eb64c02086",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "065ce465_b85abd9e",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 55,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-03-30T19:56:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f87ca9e1_68cb8898",
      "range": {
        "startLine": 55,
        "startChar": 51,
        "endLine": 55,
        "endChar": 72
      },
      "revId": "6c795ded0482ccaf57652ff2dbcb01eb64c02086",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54ed5fa8_1a5ba64d",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.h",
        "patchSetId": 21
      },
      "lineNbr": 2067,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-03-30T18:17:42Z",
      "side": 1,
      "message": "this kind of worries me. The intent of our current base level implementation was a \"hack\" to get around the complexity of dealing with two cases - the \"good\" case where we change the base level and don\u0027t reallocate the texture, and the \"bad\" case where we need to. Here you\u0027re building in more technical debt by adding a third case for immutable textures.",
      "range": {
        "startLine": 2067,
        "startChar": 4,
        "endLine": 2067,
        "endChar": 39
      },
      "revId": "6c795ded0482ccaf57652ff2dbcb01eb64c02086",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e648f8f_de52fa1c",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.h",
        "patchSetId": 21
      },
      "lineNbr": 2067,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-03-30T19:22:46Z",
      "side": 1,
      "message": "I am not sure why this is a debt though, what is the alternative solution?\nWe could do a follow up CL to address the current usage of mBaseLevel, given that after this CL, the use of it is much reduced. This might help you remove the existing debt.",
      "parentUuid": "54ed5fa8_1a5ba64d",
      "range": {
        "startLine": 2067,
        "startChar": 4,
        "endLine": 2067,
        "endChar": 39
      },
      "revId": "6c795ded0482ccaf57652ff2dbcb01eb64c02086",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "caa973e9_a693f353",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.h",
        "patchSetId": 21
      },
      "lineNbr": 2067,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2021-03-30T21:25:33Z",
      "side": 1,
      "message": "FYI ... I think the history is a little different.  IIRC Cody introduced base and max level mid-2019 to deal with texture that are slowly added to/defined over time (including level n having different format/type than level n-1).  Then, I ran into NBA 2K20 that did fully-define a texture up-front but kept changing max level (between 4 and 6), which led to optimizing that case.  Now, we\u0027re dealing with an interesting case of immutable textures.",
      "parentUuid": "8e648f8f_de52fa1c",
      "range": {
        "startLine": 2067,
        "startChar": 4,
        "endLine": 2067,
        "endChar": 39
      },
      "revId": "6c795ded0482ccaf57652ff2dbcb01eb64c02086",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d49a436_1ed79e0f",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.h",
        "patchSetId": 21
      },
      "lineNbr": 2067,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-03-30T21:57:34Z",
      "side": 1,
      "message": "Thanks Ian for the history. In the follow up CL crrev.com/c/2795275, I am getting rid of mBaseLevel. Or, put in another way to describe this, this set of CL (after crrev.com/c/2795275) essentially formalizing the mBaseLevel to mFirstAllocatedLevel. It called mBaseLevel because previously it is equal to base level. But with this CL, it is no longer true. So it makes sense to rename it to reflect its true meaning.",
      "parentUuid": "caa973e9_a693f353",
      "range": {
        "startLine": 2067,
        "startChar": 4,
        "endLine": 2067,
        "endChar": 39
      },
      "revId": "6c795ded0482ccaf57652ff2dbcb01eb64c02086",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}