{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8a4870e7_b415a39b",
        "filename": "src/libANGLE/Shader.cpp",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-06-20T13:27:26Z",
      "side": 1,
      "message": "Since it\u0027s extremely common to for count to be 1, maybe add a fast path for that?\n\n```\nif (count \u003d\u003d 1)\n{\n    return string[0];\n}\n```",
      "revId": "2263a5bb3219304b6c7e25522368caa0fd4abcae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77d80b4d_0b9ca493",
        "filename": "src/libANGLE/Shader.cpp",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 1169885
      },
      "writtenOn": "2023-06-20T13:33:25Z",
      "side": 1,
      "message": "Sure, I can do something like that. Still need to check the length[] array in case string[0] is not null terminated though.",
      "parentUuid": "8a4870e7_b415a39b",
      "revId": "2263a5bb3219304b6c7e25522368caa0fd4abcae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "919a880b_38ba58e3",
        "filename": "src/libANGLE/Shader.cpp",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-06-20T13:38:00Z",
      "side": 1,
      "message": "Not a big deal either way, you can keep the code as-is too.",
      "parentUuid": "77d80b4d_0b9ca493",
      "revId": "2263a5bb3219304b6c7e25522368caa0fd4abcae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "65c873e4_7b4453b1",
        "filename": "src/libANGLE/Shader.cpp",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 1169885
      },
      "writtenOn": "2023-06-20T13:38:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "77d80b4d_0b9ca493",
      "revId": "2263a5bb3219304b6c7e25522368caa0fd4abcae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "585b5e7a_c4162986",
        "filename": "src/libANGLE/Shader.cpp",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-06-20T13:27:26Z",
      "side": 1,
      "message": "1? It\u0027s not very clear to me that `reserve()` adds 1 for the terminating `\u0027\\0\u0027`.",
      "range": {
        "startLine": 191,
        "startChar": 25,
        "endLine": 191,
        "endChar": 26
      },
      "revId": "2263a5bb3219304b6c7e25522368caa0fd4abcae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "854c435a_2117c883",
        "filename": "src/libANGLE/Shader.cpp",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1169885
      },
      "writtenOn": "2023-06-20T13:33:25Z",
      "side": 1,
      "message": "`reserve()` only allocates storage, doesn\u0027t define the string length or contents. And since std::string constructs with no memory defined and no length, it is just a no-op.",
      "parentUuid": "585b5e7a_c4162986",
      "range": {
        "startLine": 191,
        "startChar": 25,
        "endLine": 191,
        "endChar": 26
      },
      "revId": "2263a5bb3219304b6c7e25522368caa0fd4abcae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "342502ae_293eb22d",
        "filename": "src/libANGLE/Shader.cpp",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-06-20T13:38:00Z",
      "side": 1,
      "message": "No I know, what I\u0027m saying is that you are reserving memory for sum(all string lengths), but not accounting for `\u0027\\0\u0027`. If `reserve` also doesn\u0027t account for it, you\u0027re going to end up with one reallocation just for the last `\u0027\\0\u0027` when concatenating the last `string`.",
      "parentUuid": "854c435a_2117c883",
      "range": {
        "startLine": 191,
        "startChar": 25,
        "endLine": 191,
        "endChar": 26
      },
      "revId": "2263a5bb3219304b6c7e25522368caa0fd4abcae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "626c5591_692cc904",
        "filename": "src/libANGLE/Shader.cpp",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1169885
      },
      "writtenOn": "2023-06-20T13:38:42Z",
      "side": 1,
      "message": "Oh, I see, gotcha. I can do that.",
      "parentUuid": "342502ae_293eb22d",
      "range": {
        "startLine": 191,
        "startChar": 25,
        "endLine": 191,
        "endChar": 26
      },
      "revId": "2263a5bb3219304b6c7e25522368caa0fd4abcae",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}