{
  "comments": [
    {
      "key": {
        "uuid": "455387cc_d87f4ef8",
        "filename": "src/libANGLE/renderer/vulkan/CommandBufferNode.cpp",
        "patchSetId": 24
      },
      "lineNbr": 82,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "Why is there a second level of indirection?",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2fac80d_30abbe66",
        "filename": "src/libANGLE/renderer/vulkan/CommandBufferNode.cpp",
        "patchSetId": 24
      },
      "lineNbr": 101,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "ditto about second level of indirection.",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f50b77f5_b44c6673",
        "filename": "src/libANGLE/renderer/vulkan/CommandBufferNode.cpp",
        "patchSetId": 24
      },
      "lineNbr": 170,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "nit: this couldbe node-\u003emIsDependency \u003d true without violating the privateness of mIsDependency.",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e96a1ace_55d841a4",
        "filename": "src/libANGLE/renderer/vulkan/CommandBufferNode.cpp",
        "patchSetId": 24
      },
      "lineNbr": 202,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "Maybe this could be checked when walking the DAG in RendererVk.",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d58a9219_54f41baa",
        "filename": "src/libANGLE/renderer/vulkan/CommandBufferNode.cpp",
        "patchSetId": 24
      },
      "lineNbr": 202,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2017-12-15T03:55:44Z",
      "side": 1,
      "message": "a recursive search might be simpler too",
      "parentUuid": "e96a1ace_55d841a4",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef0fda22_928c9b8f",
        "filename": "src/libANGLE/renderer/vulkan/CommandBufferNode.h",
        "patchSetId": 24
      },
      "lineNbr": 34,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2017-12-15T03:55:44Z",
      "side": 1,
      "message": "could there be some consts here?",
      "range": {
        "startLine": 34,
        "startChar": 7,
        "endLine": 34,
        "endChar": 16
      },
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f4b4c74_6608636d",
        "filename": "src/libANGLE/renderer/vulkan/CommandBufferNode.h",
        "patchSetId": 24
      },
      "lineNbr": 78,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2017-12-15T03:55:44Z",
      "side": 1,
      "message": "a bit hard to parse.  move \u0027separate\u0027 between \u0027need\u0027 and \u0027inside\u0027",
      "range": {
        "startLine": 78,
        "startChar": 79,
        "endLine": 78,
        "endChar": 87
      },
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9a49d4c_238fe377",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 305,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "ditto about double indirection.",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70886ff4_487a1a2f",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 350,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "onRender is a bit confusing, tagDependencies?",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f87378f_25cac86d",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 354,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "+1, eventually all this should be dirty-bitified and merged.",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc684fa9_e305bf82",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 384,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "What\u0027s this serial used for?",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e0001bc_74898c08",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 408,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "ditto about second indirection: couldn\u0027t this be a stack allocated CommandBuffer (non-owned copy)? I imagine there\u0027s some RAII happening that makes this inconvenient?",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "344f1594_7e74fe40",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 904,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "Don\u0027t we have dirty bits for the objects being modified?",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da70c93f_7534bf0b",
        "filename": "src/libANGLE/renderer/vulkan/FramebufferVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 487,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "The interface between CommandBufferNode and FramebufferVk is pretty chatty. Could we just build a \"RenderPassFramebufferInfo\" then call node-\u003estoreRenderPassFramebufferInfo(info) in one call?",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7ae5383_1c50c14b",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 192,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "Can these be made \u003d default?",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a7874c9_f0780a1b",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 893,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "Things could be a bit simpler of they were split like this:\n\n1) sort nodes in topological order\n2) iterate on them and execute them.",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d22d136c_5bc52616",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 24
      },
      "lineNbr": 893,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2017-12-15T03:55:44Z",
      "side": 1,
      "message": "+1\nduring the sort you\u0027d discover any loops and you could do away with the other checks",
      "parentUuid": "4a7874c9_f0780a1b",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9875219_f1bbec24",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.h",
        "patchSetId": 24
      },
      "lineNbr": 191,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2017-12-14T21:12:42Z",
      "side": 1,
      "message": "Is there a reasoning for merging fence counting and commands together? I think it would be clearer to have a \"fence counting thing\" and CommandBatch be treated like any other in-flight resource. Also you might want to re-use NXT\u0027s SerialQueue container: https://github.com/google/nxt-standalone/blob/master/src/common/SerialQueue.h",
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67b848d0_c412177d",
        "filename": "src/libANGLE/renderer/vulkan/renderervk_utils.h",
        "patchSetId": 24
      },
      "lineNbr": 745,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2017-12-15T03:55:44Z",
      "side": 1,
      "message": "There\u0027s much more going on in this class than before.  Could you update this comment - say something about \u0027current read/write nodes.\u0027",
      "range": {
        "startLine": 745,
        "startChar": 3,
        "endLine": 745,
        "endChar": 31
      },
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23b0540e_e3cc6043",
        "filename": "src/libANGLE/renderer/vulkan/renderervk_utils.h",
        "patchSetId": 24
      },
      "lineNbr": 758,
      "author": {
        "id": 1001426
      },
      "writtenOn": "2017-12-15T03:55:44Z",
      "side": 1,
      "message": "When did we start doing this vertical bar thing?  I see only a couple instances of it in our code so far.  I\u0027m not a big fan.  Would like to nip it in the bud, unless this is the way we do things now.",
      "range": {
        "startLine": 758,
        "startChar": 61,
        "endLine": 758,
        "endChar": 76
      },
      "revId": "43d6c01f858615582fef6f02bdce2f5b33f5b6ef",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}