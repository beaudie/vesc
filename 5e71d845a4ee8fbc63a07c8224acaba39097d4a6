{
  "comments": [
    {
      "key": {
        "uuid": "5a60f000_060d8b07",
        "filename": "src/compiler/translator/tree_ops/RewriteStructSamplers.cpp",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1142464
      },
      "writtenOn": "2018-07-13T12:52:20Z",
      "side": 1,
      "message": "What if the symbol is an array? I don\u0027t think that this handles that case correctly, but will replace the array type with a non-array type. Also to make the tree completely consistent the types of the binary nodes should be changed as well.",
      "revId": "5e71d845a4ee8fbc63a07c8224acaba39097d4a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8529d4c_1bdfc217",
        "filename": "src/compiler/translator/tree_ops/RewriteStructSamplers.cpp",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2018-07-13T13:01:35Z",
      "side": 1,
      "message": "Maybe it would just be easier to make setType public in TIntermExpression. What do you think?\n\nAll the tests pass so it\u0027s a bit difficult to verify any change I make.",
      "parentUuid": "5a60f000_060d8b07",
      "revId": "5e71d845a4ee8fbc63a07c8224acaba39097d4a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01052591_f7c15dcd",
        "filename": "src/compiler/translator/tree_ops/RewriteStructSamplers.cpp",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1142464
      },
      "writtenOn": "2018-07-23T13:24:35Z",
      "side": 1,
      "message": "I\u0027m a bit hesitant to make setType completely public, as disabling access to it helps to keep the tree consistent. However, maybe we could make promote() public and re-run it in when the type of the children of a node change, that would be a bit more foolproof. It would be neat if this could be always done automatically in case a child node is replaced with one that has a different type, but because nodes don\u0027t know about their parents it\u0027s not straightforward to do it recursively.\n\nMaybe writing that AST validator should come sooner rather than later, so this kind of changes to the AST could be tested easier. Did you have someone in mind that could work on that?",
      "parentUuid": "d8529d4c_1bdfc217",
      "revId": "5e71d845a4ee8fbc63a07c8224acaba39097d4a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c35e5c3e_ee89075b",
        "filename": "src/compiler/translator/tree_ops/RewriteStructSamplers.cpp",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2018-07-23T14:40:18Z",
      "side": 1,
      "message": "No one right now. We\u0027re all pretty busy. I didn\u0027t implement the setType change in this CL. Could you review the change?",
      "parentUuid": "01052591_f7c15dcd",
      "revId": "5e71d845a4ee8fbc63a07c8224acaba39097d4a6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}