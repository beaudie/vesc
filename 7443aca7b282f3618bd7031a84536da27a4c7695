{
  "comments": [
    {
      "key": {
        "uuid": "52e0cf3f_7403b7d7",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 824,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2019-02-06T22:19:54Z",
      "side": 1,
      "message": "FYI ... As Michael points out, this was deprecated.  At the time (very early in Vulkan 1.0), we knew of no device-level-only layers.  Thus, all layers are enabled at vkCreateInstance time and are available to have device extensions from.\n\nI was thinking that we could (in a separate CL), remove these calls, but as Michael pointed out, we encouraged applications to continue to call these.  Thus, leave them in:-).  Again, just FYI.",
      "revId": "7443aca7b282f3618bd7031a84536da27a4c7695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c688907c_6c8a8585",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 824,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2019-02-06T22:43:02Z",
      "side": 1,
      "message": "It actually seems to be not only encouraged but required. If we don\u0027t iterate over (instance \u003d\u003d device) layers we here will won\u0027t discover all of the device extensions and this leads to an error.",
      "parentUuid": "52e0cf3f_7403b7d7",
      "revId": "7443aca7b282f3618bd7031a84536da27a4c7695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0290d120_323d91cd",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 843,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2019-02-06T21:26:25Z",
      "side": 1,
      "message": "looking at https://fuchsia-review.googlesource.com/c/garnet/+/247724/1/lib/vulkan/src/swapchain/image_pipe_swapchain_layer.cc\n\nIt seems like the WSI layer only shows up as an instance extension. Maybe you should omit wsiLayer from the device extensions? In this case maybe you could leave the device code untouched.",
      "range": {
        "startLine": 839,
        "startChar": 0,
        "endLine": 843,
        "endChar": 13
      },
      "revId": "7443aca7b282f3618bd7031a84536da27a4c7695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "171bf51f_f10cd3a0",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 843,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2019-02-06T21:41:41Z",
      "side": 1,
      "message": "I tried that but it says that VK_KHR_swapchain is missing and aborts. We\u0027ll only see that if we get device extensions from VK_LAYER_FUCHSIA_imagepipe_swapchain.\n\nThe spec says that device layers are deprecated and that the list of device layers must be the same as the list of instance layers going forward (but applications should still pretend that device layers are separate from instance layers for compatibility).",
      "parentUuid": "0290d120_323d91cd",
      "range": {
        "startLine": 839,
        "startChar": 0,
        "endLine": 843,
        "endChar": 13
      },
      "revId": "7443aca7b282f3618bd7031a84536da27a4c7695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ddfc4cf_3f8eaf52",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 843,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2019-02-06T21:42:25Z",
      "side": 1,
      "message": "Device layer deprecation discussed here:\nhttps://www.khronos.org/registry/vulkan/specs/1.0-extensions/html/vkspec.html#extended-functionality-device-layer-deprecation",
      "parentUuid": "171bf51f_f10cd3a0",
      "range": {
        "startLine": 839,
        "startChar": 0,
        "endLine": 843,
        "endChar": 13
      },
      "revId": "7443aca7b282f3618bd7031a84536da27a4c7695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a267288_a5749438",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 843,
      "author": {
        "id": 1001794
      },
      "writtenOn": "2019-02-06T22:43:02Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8ddfc4cf_3f8eaf52",
      "range": {
        "startLine": 839,
        "startChar": 0,
        "endLine": 843,
        "endChar": 13
      },
      "revId": "7443aca7b282f3618bd7031a84536da27a4c7695",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}