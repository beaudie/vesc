{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "46d96e55_5f7da612",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2024-02-26T20:14:34Z",
      "side": 1,
      "message": "shabi - i see perf test failures here but not sure how to interpret the logs -\u003e https://logs.chromium.org/logs/angle/buildbucket/cr-buildbucket/8755001617684007825/+/u/angle_perftests_on_NVIDIA_GPU_on_Windows_on_Windows-10-18363/stdout?format\u003draw\n\nknown issue or did my patch break something?",
      "revId": "6da31b8205f60db633bdea64c618a9e1ee540181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72eb4a8b_6f2131ba",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2024-02-26T20:15:02Z",
      "side": 1,
      "message": "leaving this unresolved for now",
      "parentUuid": "46d96e55_5f7da612",
      "revId": "6da31b8205f60db633bdea64c618a9e1ee540181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ae5cb4b_fa043ef0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2024-02-26T21:55:28Z",
      "side": 1,
      "message": "I was just looking into them. I thought it\u0027s a flake, but so far it looks like it only ever failed in this and your next change in the chain. It might be a real bug in this CL.\n\nI can\u0027t seem to reproduce the failures on Linux though.",
      "parentUuid": "72eb4a8b_6f2131ba",
      "revId": "6da31b8205f60db633bdea64c618a9e1ee540181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2883673_e20f862f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1520902
      },
      "writtenOn": "2024-02-26T23:22:46Z",
      "side": 1,
      "message": "Local test shows that this line https://chromium-review.googlesource.com/c/angle/angle/+/5322317/2/src/libANGLE/renderer/vulkan/RendererVk.cpp#2274 is throwing an exception on windows:\n```\nvk::AddToPNextChain(\u0026deviceProperties, \u0026mFragmentShadingRateProperties);\n```",
      "parentUuid": "5ae5cb4b_fa043ef0",
      "revId": "6da31b8205f60db633bdea64c618a9e1ee540181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58a8b1a8_fe41b292",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2024-02-26T23:30:45Z",
      "side": 1,
      "message": "interesting, thanks for the input @yuxinhu@google.com. do you have a stack trace by any chance?",
      "parentUuid": "a2883673_e20f862f",
      "revId": "6da31b8205f60db633bdea64c618a9e1ee540181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20afdbaf_9c941ab8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1520902
      },
      "writtenOn": "2024-02-27T00:08:14Z",
      "side": 1,
      "message": "This is the exception message I am seeing:\n\n```\nUnhandled exception at 0x00007FFCB1C3EAFD (libGLESv2.dll) in angle_perftests.exe: Stack cookie instrumentation code detected a stack-based buffer overrun.\n```\n\nThis is the stack trace I am seeing:\n\n```\nlibGLESv2.dll!__report_gsfailure(unsigned __int64 stack_cookie) Line 220\tC\nlibGLESv2.dll!rx::RendererVk::appendDeviceExtensionFeaturesNotPromoted(const angle::FixedVector\u003cconst char *,400,std::__Cr::array\u003cconst char *,400\u003e\u003e \u0026 deviceExtensionNames, VkPhysicalDeviceFeatures2 * deviceFeatures, VkPhysicalDeviceProperties2 * deviceProperties) Line 2350\tC++\nlibGLESv2.dll!rx::RendererVk::queryDeviceExtensionFeatures(const angle::FixedVector\u003cconst char *,400,std::__Cr::array\u003cconst char *,400\u003e\u003e \u0026 deviceExtensionNames) Line 2670\tC++\nlibGLESv2.dll!rx::RendererVk::enableDeviceExtensions(rx::DisplayVk * displayVk) Line 3239\tC++\nlibGLESv2.dll!rx::RendererVk::setupDevice(rx::DisplayVk * displayVk) Line 3372\tC++\nlibGLESv2.dll!rx::RendererVk::initialize(rx::DisplayVk * displayVk, egl::Display * display, const char * wsiExtension, const char * wsiLayer) Line 1986\tC++\nlibGLESv2.dll!rx::DisplayVk::initialize(egl::Display * display) Line 110\tC++\nlibGLESv2.dll!rx::DisplayVkWin32::initialize(egl::Display * display) Line 62\tC++\nlibGLESv2.dll!egl::Display::initialize() Line 1067\tC++\nlibGLESv2.dll!egl::Initialize(egl::Thread * thread, egl::Display * display, int * major, int * minor) Line 514\tC++\nlibGLESv2.dll!EGL_Initialize(void * dpy, int * major, int * minor) Line 478\tC++\nangle_util.dll!EGLWindow::initializeDisplay(OSWindow * osWindow, angle::Library * glWindowingLibrary, angle::GLESDriverType driverType, const EGLPlatformParameters \u0026 params) Line 301\tC++\nangle_util.dll!EGLWindow::initializeGLWithResult(OSWindow * osWindow, angle::Library * glWindowingLibrary, angle::GLESDriverType driverType, const EGLPlatformParameters \u0026 platformParams, const ConfigParameters \u0026 configParams) Line 124\tC++\nangle_perftests.exe!ANGLERenderTest::SetUp() Line 860\tC++\n```\n\nI am still looking why. I have tested that commenting out the line `vk::AddToPNextChain(\u0026deviceProperties, \u0026mFragmentShadingRateProperties);` makes the exception go away.",
      "parentUuid": "58a8b1a8_fe41b292",
      "revId": "6da31b8205f60db633bdea64c618a9e1ee540181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc4acf7e_494e3751",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1520902
      },
      "writtenOn": "2024-02-27T00:13:44Z",
      "side": 1,
      "message": "Oh ok, I think maybe we should change:\n\n`vk::AddToPNextChain(\u0026deviceProperties, \u0026mFragmentShadingRateProperties);`\n\nto\n\n`vk::AddToPNextChain(deviceProperties, \u0026mFragmentShadingRateProperties);`",
      "parentUuid": "20afdbaf_9c941ab8",
      "revId": "6da31b8205f60db633bdea64c618a9e1ee540181",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}