{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4e19ea84_a2e64a7c",
        "filename": "src/tests/gl_tests/VertexAttributeTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 4148,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2022-04-11T23:32:37Z",
      "side": 1,
      "message": "Hmm, a bit inconvenient that we need to remember to set these in the derived classes now.\nIs it possible to override PlatformParameters for VertexAttributeTest instead?\n\nProbably it makes sense to override PlatformParameters every time we want to enable/disable a feature, instead of via current ANGLE_INSTANTIATE_* method.\nWould be more robust, I think.",
      "range": {
        "startLine": 4145,
        "startChar": 0,
        "endLine": 4148,
        "endChar": 66
      },
      "revId": "c7491e10fa354472ea3368439f6fd0410f4237a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1470b253_fc014682",
        "filename": "src/tests/gl_tests/VertexAttributeTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 4148,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-04-12T02:46:54Z",
      "side": 1,
      "message": "This (or rather equivalently, `WithBlahBlah(ES3_VULKAN())` is how we have been doing this for a while already. This is not a new design. The reason we see this added here is that this change is actually enabling more tests here; with or without this feature (while previously it was only tested with the feature (which, actually was misnamed, so it was only run without the feature by accident)).\n\n\u003e Probably it makes sense to override PlatformParameters every time we want to enable/disable a feature, instead of via current ANGLE_INSTANTIATE_* method.\n\nI\u0027m not sure I understand what you have in mind. If you have a different design that can make the code cleaner/more robust. I\u0027m all ears (but it would be a follow up nevertheless)",
      "parentUuid": "4e19ea84_a2e64a7c",
      "range": {
        "startLine": 4145,
        "startChar": 0,
        "endLine": 4148,
        "endChar": 66
      },
      "revId": "c7491e10fa354472ea3368439f6fd0410f4237a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f9aed484_3455c8c8",
        "filename": "src/tests/gl_tests/VertexAttributeTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 4148,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2022-04-12T15:36:58Z",
      "side": 1,
      "message": "I\u0027ve meant like you did it here:\nhttps://chromium-review.googlesource.com/c/angle/angle/+/3577369/5/src/tests/test_utils/MultiviewTest.cpp#264\n\nThis way it can be inherited.\nSo I suggest to make it the only way to enable features and disallow the current ANGLE_INSTANTIATE_* usage.",
      "parentUuid": "1470b253_fc014682",
      "range": {
        "startLine": 4145,
        "startChar": 0,
        "endLine": 4148,
        "endChar": 66
      },
      "revId": "c7491e10fa354472ea3368439f6fd0410f4237a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73b5c14c_467a6ae9",
        "filename": "src/tests/gl_tests/VertexAttributeTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 4148,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2022-04-12T15:39:24Z",
      "side": 1,
      "message": "Hmm, this link doesn\u0027t seem to work.\nHow about this one?\nhttps://chromium-review.googlesource.com/c/angle/angle/+/3577369/7/src/tests/test_utils/MultiviewTest.cpp#264",
      "parentUuid": "f9aed484_3455c8c8",
      "range": {
        "startLine": 4145,
        "startChar": 0,
        "endLine": 4148,
        "endChar": 66
      },
      "revId": "c7491e10fa354472ea3368439f6fd0410f4237a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ba071d3_f2e5daa4",
        "filename": "src/tests/gl_tests/VertexAttributeTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 4148,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-04-12T15:53:56Z",
      "side": 1,
      "message": "We have PlatformParameters, which are enough for most tests. Some tests want more parameters, so they make custom ones, and we can set the override directly in the custom code that makes the parameters. That\u0027s the case for MultiviewTest.\n\nFor most tests where PlatformParameters are sufficient, it\u0027ll be a lot of boilerplate code to set the feature on the EGLPlatformParameter that\u0027s embedded, instead of setting it on the PlatformParameters instance directly. In that case, every test that overrides features has to define a custom parameter class/helper for that, which is exactly what this series of changes was removing (i.e. the WithX functions).\n\nAll this work was actually simplifying things so we _don\u0027t_ need to add boilerplate to override a feature.",
      "parentUuid": "73b5c14c_467a6ae9",
      "range": {
        "startLine": 4145,
        "startChar": 0,
        "endLine": 4148,
        "endChar": 66
      },
      "revId": "c7491e10fa354472ea3368439f6fd0410f4237a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6f4c38ae_a44235fe",
        "filename": "src/tests/gl_tests/VertexAttributeTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 4148,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2022-04-12T16:23:04Z",
      "side": 1,
      "message": "You just need to inherit from PlatformParameters, enable the feature there, and use the child class instead of PlatformParameters.\nYou\u0027ve added 16 lines of code in this file, I think a new parameter class would be less.\n\nBut, I don\u0027t have a strong opinion on this, since now I realize the inheritance approach also requires remembering to use the new parameters class in ANGLE_INSTANTIATE_*, so also not robust.",
      "parentUuid": "2ba071d3_f2e5daa4",
      "range": {
        "startLine": 4145,
        "startChar": 0,
        "endLine": 4148,
        "endChar": 66
      },
      "revId": "c7491e10fa354472ea3368439f6fd0410f4237a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}