{
  "comments": [
    {
      "key": {
        "uuid": "8c83af19_3ccb29bc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1142464
      },
      "writtenOn": "2017-11-08T08:32:04Z",
      "side": 1,
      "message": "The commit message should include \"TEST\u003dangle_unittests\"",
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85bc2461_3d3c918d",
        "filename": "src/common/utilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 773,
      "author": {
        "id": 1142464
      },
      "writtenOn": "2017-11-08T08:32:04Z",
      "side": 1,
      "message": "I\u0027d rather just keep the function signature the same as before and just change the implementation to use strtoul and errno checking. If the index is out of range it could be treated as not a valid index. I\u0027m sure we won\u0027t need to support shader arrays with more than 2^31 entries.",
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8ec8700_2765d31c",
        "filename": "src/common/utilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 773,
      "author": {
        "id": 1166724
      },
      "writtenOn": "2017-11-08T17:16:01Z",
      "side": 1,
      "message": "The signature was modified to handle two separate output states: error or invalid index. Returning a valid index could still produce a valid location but an error cannot.",
      "parentUuid": "85bc2461_3d3c918d",
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bfdbfc57_41e8b29c",
        "filename": "src/common/utilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 773,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2017-11-08T17:24:42Z",
      "side": 1,
      "message": "Did you mean to say \u0027returning an invalid index could still produce a valid location\u0027? Sorry having trouble parsing your intent.\n\nI think Olli was suggesting that the error case also return INVALID_INDEX, which hopefully would then cause the calling code to abort/return invalid index to the calling application. This seems reasonable to me.",
      "parentUuid": "c8ec8700_2765d31c",
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a61347b_d784cf07",
        "filename": "src/common/utilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 773,
      "author": {
        "id": 1166724
      },
      "writtenOn": "2017-11-08T18:07:04Z",
      "side": 1,
      "message": "Close - \"returning an invalid index _without error_ could still produce a valid location\". \n\nI added the bool return to distinguish the return status of INVALID_INDEX upon (error vs no error). Originally, I had it the way you both described (it\u0027s far more intuitive) but I discovered cases that expected a returned INVALID_INDEX to produce a valid location so simply returning the same value upon error was insufficient.",
      "parentUuid": "bfdbfc57_41e8b29c",
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f72e5c6_c8ece55c",
        "filename": "src/common/utilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 773,
      "author": {
        "id": 1142464
      },
      "writtenOn": "2017-11-09T09:09:44Z",
      "side": 1,
      "message": "Maybe you didn\u0027t fully understand what I was suggesting. I meant that in case the index is out of range, nameLengthWithoutArrayIndexOut would need to be set to name.length(), and INVALID_INDEX would be returned. If that\u0027s done I don\u0027t think you could get a valid location by querying with an out-of-range index. Or if you have a counterexample, please add a test for it.",
      "parentUuid": "5a61347b_d784cf07",
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f2a10d2_6f327789",
        "filename": "src/common/utilities.h",
        "patchSetId": 5
      },
      "lineNbr": 78,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2017-11-08T18:28:05Z",
      "side": 1,
      "message": "nit: arrayIndexOut",
      "range": {
        "startLine": 78,
        "startChar": 35,
        "endLine": 78,
        "endChar": 47
      },
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c057b48_048352cc",
        "filename": "src/common/utilities.h",
        "patchSetId": 5
      },
      "lineNbr": 78,
      "author": {
        "id": 1166724
      },
      "writtenOn": "2017-11-08T23:01:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9f2a10d2_6f327789",
      "range": {
        "startLine": 78,
        "startChar": 35,
        "endLine": 78,
        "endChar": 47
      },
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "de4b7f01_129c9cff",
        "filename": "src/libANGLE/Program.cpp",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2017-11-08T18:28:05Z",
      "side": 1,
      "message": "nit: default init (and nameLength without) to be safe",
      "range": {
        "startLine": 163,
        "startChar": 17,
        "endLine": 163,
        "endChar": 27
      },
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "607b90ea_f03ff4c3",
        "filename": "src/libANGLE/Program.cpp",
        "patchSetId": 5
      },
      "lineNbr": 163,
      "author": {
        "id": 1166724
      },
      "writtenOn": "2017-11-08T23:01:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "de4b7f01_129c9cff",
      "range": {
        "startLine": 163,
        "startChar": 17,
        "endLine": 163,
        "endChar": 27
      },
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0dde9307_c3fa2e84",
        "filename": "src/libANGLE/renderer/d3d/ProgramD3D.cpp",
        "patchSetId": 5
      },
      "lineNbr": 2603,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2017-11-08T18:28:05Z",
      "side": 1,
      "message": "nit: default initialize this. also with nameLengthWithoutArrayIndex too, to be safe.",
      "range": {
        "startLine": 2603,
        "startChar": 17,
        "endLine": 2603,
        "endChar": 27
      },
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de2726b1_91f6c117",
        "filename": "src/libANGLE/renderer/d3d/ProgramD3D.cpp",
        "patchSetId": 5
      },
      "lineNbr": 2603,
      "author": {
        "id": 1166724
      },
      "writtenOn": "2017-11-08T23:01:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0dde9307_c3fa2e84",
      "range": {
        "startLine": 2603,
        "startChar": 17,
        "endLine": 2603,
        "endChar": 27
      },
      "revId": "3a63a7c381bcee66d7c1126eebbec542974a825e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}