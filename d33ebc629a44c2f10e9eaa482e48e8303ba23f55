{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "daea82cd_01092c1a",
        "filename": "src/libANGLE/renderer/gl/egl/DmaBufImageSiblingEGL.cpp",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1447542
      },
      "writtenOn": "2022-09-21T20:56:56Z",
      "side": 1,
      "message": "This is very different than what I was going to do. I was going to pass a bool here if it supported rgbx\n\nI was going to get that support via the egl::Display -\u003e . getCaps and add a new cap like this:\noutCaps-\u003ergbxInternalFormatANGLE    \u003d getRenderer()-\u003egetNativeExtensions().rgbxInternalFormatANGLE \n\nThen grab that cap on initialization and use it as the input flag to DRMFourCC..",
      "range": {
        "startLine": 27,
        "startChar": 35,
        "endLine": 27,
        "endChar": 68
      },
      "revId": "d33ebc629a44c2f10e9eaa482e48e8303ba23f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "685f9063_cd91a26e",
        "filename": "src/libANGLE/renderer/gl/egl/DmaBufImageSiblingEGL.cpp",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1358398
      },
      "writtenOn": "2022-09-21T21:08:47Z",
      "side": 1,
      "message": "In the bug, Geoff said, \"we need to add a new parameter to DrmFourCCFormatToGLInternalFormat stating the support of GL_BGRX8_ANGLEX or explictily check this case in DmaBufImageSiblingEGL.cpp (our GL backend import of dma bufs).\", so this is just a pretty simple implementation of the latter suggestion. As far as I can tell, the rgbxInternalFormatANGLE extension is unconditionally enabled on the Vulkan backend and unconditionally disabled otherwise, so I didn\u0027t see the need to plumb the flag through to DrmFourCCFormatToGLInternalFormat.\n\nMy main goal was to get this fixed ASAP so I can continue the Finch, and it wasn\u0027t clear on the bug if anyone else was going to make the fix. Adding a flag is definitely more robust, so feel free to author that, and I can abandon this change.",
      "parentUuid": "daea82cd_01092c1a",
      "range": {
        "startLine": 27,
        "startChar": 35,
        "endLine": 27,
        "endChar": 68
      },
      "revId": "d33ebc629a44c2f10e9eaa482e48e8303ba23f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b74a0bba_c0333433",
        "filename": "src/libANGLE/renderer/gl/egl/DmaBufImageSiblingEGL.cpp",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1447542
      },
      "writtenOn": "2022-09-21T21:25:07Z",
      "side": 1,
      "message": "What I dont know is why this is unconditionally disabled for non vk?",
      "parentUuid": "685f9063_cd91a26e",
      "range": {
        "startLine": 27,
        "startChar": 35,
        "endLine": 27,
        "endChar": 68
      },
      "revId": "d33ebc629a44c2f10e9eaa482e48e8303ba23f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c06c77de_78419b34",
        "filename": "src/libANGLE/renderer/gl/egl/DmaBufImageSiblingEGL.cpp",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1447542
      },
      "writtenOn": "2022-09-22T02:03:01Z",
      "side": 1,
      "message": "Please submit ASAP. If there is a more robust change it can come after.",
      "parentUuid": "b74a0bba_c0333433",
      "range": {
        "startLine": 27,
        "startChar": 35,
        "endLine": 27,
        "endChar": 68
      },
      "revId": "d33ebc629a44c2f10e9eaa482e48e8303ba23f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a051174f_89a80b3e",
        "filename": "src/libANGLE/renderer/gl/egl/DmaBufImageSiblingEGL.cpp",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2022-09-22T14:46:28Z",
      "side": 1,
      "message": "this needs \u0027internalFormat \u003d\u003d GL_BGRX8_ANGLEX\u0027 otherwise it\u0027s always true",
      "range": {
        "startLine": 29,
        "startChar": 41,
        "endLine": 29,
        "endChar": 59
      },
      "revId": "d33ebc629a44c2f10e9eaa482e48e8303ba23f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}