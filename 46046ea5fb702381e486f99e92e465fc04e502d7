{
  "comments": [
    {
      "key": {
        "uuid": "efff2cf5_177aa6ca",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-05-17T13:38:34Z",
      "side": 1,
      "message": "also might be a good time to open a bug.",
      "range": {
        "startLine": 11,
        "startChar": 5,
        "endLine": 11,
        "endChar": 14
      },
      "revId": "46046ea5fb702381e486f99e92e465fc04e502d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fbf949f_5129793c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2019-05-17T14:48:41Z",
      "side": 1,
      "message": "Turns out there is already a bug and a fix proposed by ARM.\nanglebug/3237\nI\u0027ve uploaded patch as CL: https://chromium-review.googlesource.com/c/angle/angle/+/1617007\nThere are still some rendering issues, but overall behavior is much better.",
      "parentUuid": "efff2cf5_177aa6ca",
      "range": {
        "startLine": 11,
        "startChar": 5,
        "endLine": 11,
        "endChar": 14
      },
      "revId": "46046ea5fb702381e486f99e92e465fc04e502d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43c66145_4a4dcfac",
        "filename": "src/tests/gl_tests/SimpleOperationTest.cpp",
        "patchSetId": 6
      },
      "lineNbr": 124,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-05-17T13:38:12Z",
      "side": 1,
      "message": "is it possible to remove the swap for the final version of the test?",
      "range": {
        "startLine": 124,
        "startChar": 4,
        "endLine": 124,
        "endChar": 18
      },
      "revId": "46046ea5fb702381e486f99e92e465fc04e502d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4281c38_7c9e2b84",
        "filename": "src/tests/gl_tests/SimpleOperationTest.cpp",
        "patchSetId": 6
      },
      "lineNbr": 127,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-05-17T13:38:12Z",
      "side": 1,
      "message": "can you use a GLFramebuffer raii type here?",
      "range": {
        "startLine": 127,
        "startChar": 4,
        "endLine": 127,
        "endChar": 34
      },
      "revId": "46046ea5fb702381e486f99e92e465fc04e502d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "320ae0ac_8c2180b5",
        "filename": "src/tests/gl_tests/SimpleOperationTest.cpp",
        "patchSetId": 6
      },
      "lineNbr": 128,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-05-17T13:38:12Z",
      "side": 1,
      "message": "here to, GLTexture",
      "range": {
        "startLine": 128,
        "startChar": 4,
        "endLine": 128,
        "endChar": 34
      },
      "revId": "46046ea5fb702381e486f99e92e465fc04e502d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5db6e9c5_23371907",
        "filename": "src/tests/gl_tests/SimpleOperationTest.cpp",
        "patchSetId": 6
      },
      "lineNbr": 158,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2019-05-16T23:31:03Z",
      "side": 1,
      "message": "With some help from Courtney, it appears that the glClear() has an effect on how culling is performed.   Here are the results of this check with and without the glClear() call:\n\n[[[... With glClear() ...]]]\n../../third_party/angle/src/tests/gl_tests/SimpleOperationTest.cpp:158: Failure\nExpected equality of these values:\n  GLColor::transparentBlack\n    Which is: Transparent Black\n  angle::ReadColor(0, 0)\n    Which is: Blue\n\n[[[... Without glClear() ...]]]\nExpected equality of these values:\n  GLColor::transparentBlack\n    Which is: Transparent Black\n  angle::ReadColor(0, 0)\n    Which is: Green\n\n\nWith the glClear() the drawQuad() has no effect, because the front-facing triangles are correctly culled.   However, without the glClear() the triangles are rendered since ReadColor() returns Green.\n\nI\u0027ve collected vulkan API dumps with and without the glClear() calls here:\nhttps://drive.google.com/open?id\u003d1b6GwHmIrUf1eu8FGl7QuRpfTvO0eTwsa\n\nYou can diff the \u0027nohex\u0027 files (all hex addresses are removed) to see the differences between the runs.   The most obvious that\u0027s related to culling is:\n\n[[[... With glClear() -- cull.clear.nohex.txt ...]]]\nfrontFace:                      VkFrontFace \u003d VK_FRONT_FACE_CLOCKWISE (1)\n\n[[[... Without glClear() -- cull.noclear.nohex.txt ...]]]\nfrontFace:                      VkFrontFace \u003d VK_FRONT_FACE_COUNTER_CLOCKWISE (0)\n\n\nI haven\u0027t gotten any further than that, but it this may also explain why certain apps behave differently.",
      "revId": "46046ea5fb702381e486f99e92e465fc04e502d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aad65f05_0d604758",
        "filename": "src/tests/gl_tests/SimpleOperationTest.cpp",
        "patchSetId": 6
      },
      "lineNbr": 158,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-05-17T02:30:58Z",
      "side": 1,
      "message": "In `ContextVk::syncState()`, under `gl::State::DIRTY_BIT_DRAW_FRAMEBUFFER_BINDING`, I see a call to `updateCullMode`, but not `updateFrontFace`. Maybe that\u0027s what\u0027s missing.",
      "parentUuid": "5db6e9c5_23371907",
      "revId": "46046ea5fb702381e486f99e92e465fc04e502d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50b3a30d_41af3ba9",
        "filename": "src/tests/gl_tests/SimpleOperationTest.cpp",
        "patchSetId": 6
      },
      "lineNbr": 158,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-05-17T13:38:12Z",
      "side": 1,
      "message": "Good thinking! And nice test to reproduce this. Analysis seems sound.\n\nMinor request but can you move this test into StateChangeTest.cpp as a SimpleStateChangeTest?",
      "parentUuid": "aad65f05_0d604758",
      "revId": "46046ea5fb702381e486f99e92e465fc04e502d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35d9fedc_bfd5b090",
        "filename": "src/tests/gl_tests/SimpleOperationTest.cpp",
        "patchSetId": 6
      },
      "lineNbr": 161,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-05-17T13:38:12Z",
      "side": 1,
      "message": "with RAII types you don\u0027t need the freeing.",
      "range": {
        "startLine": 159,
        "startChar": 2,
        "endLine": 161,
        "endChar": 45
      },
      "revId": "46046ea5fb702381e486f99e92e465fc04e502d7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}