{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e5b93a09_16209f01",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2020-10-16T17:29:24Z",
      "side": 1,
      "message": "I found this confusing until I read the review comments.\nWe are crashing in the trace because we aren\u0027t using the same API level in the trace as the application uses, right?\nA little more context here would help.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 68
      },
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1fa62981_392c141b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-10-16T00:02:34Z",
      "side": 1,
      "message": "Thanks Cody for fixing this. ",
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "781fee5a_112edb4a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-10-16T00:07:16Z",
      "side": 1,
      "message": "This should fix the lego case. But if we really want to be safe, mImageUnits probbaly should be a fixedVector. Otherwise you may still crash if someone try to unbind a previously unbound unit, right?",
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4129a6bc_14559715",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-10-16T00:37:00Z",
      "side": 1,
      "message": "In State.cpp line 443, it did call resize to max capacity, but only doing so for 3.1 and above (because this API is only available on 3.1). I am wondering the real issue here is that the app you traced is using 3.1, but the trace app is creating 3.0 context. So you get into a situation that calling 3.1 API on 3.0 context?",
      "parentUuid": "781fee5a_112edb4a",
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7da3d67e_4e59b34d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2020-10-16T15:04:43Z",
      "side": 1,
      "message": "That\u0027s a good point Charlie, we haven\u0027t upped the ES level in the replayer, which we should do.  ANGLE shouldn\u0027t crash though, so I think both fixes are needed.  I\u0027ll look at fixedVector.",
      "parentUuid": "4129a6bc_14559715",
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "877d93fb_6510f0cd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-10-16T15:08:36Z",
      "side": 1,
      "message": "This is a bit of an odd fix. How do we even get to this point in the code?",
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f02cb899_9465606f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-10-16T16:27:09Z",
      "side": 1,
      "message": "If you create a 3.0 context and try to play back 3.1 API, crash is expected, right? If you use 3.1 context, it should just work (you don\u0027t need fixedVector since line 443 already did this).",
      "parentUuid": "7da3d67e_4e59b34d",
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a169b3b6_014d9202",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-10-16T16:38:39Z",
      "side": 1,
      "message": "Looks like ValidateBindImageTexture is missing the API level check:\n\n    if (context-\u003egetClientVersion() \u003c ES_3_1)\n    {\n        context-\u003evalidationError(GL_INVALID_OPERATION, kES31Required);\n        return false;\n    }\n\n\nCody , can you fix that? Seems to be the real root cause. Thanks Charlie for noticing the issue.",
      "parentUuid": "f02cb899_9465606f",
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8807371_00a45b16",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2020-10-16T16:43:50Z",
      "side": 1,
      "message": "Yeah, I believe it was the validation code getting ANGLE into trouble (haven\u0027t been able to get back to a state where I can recreate the crash, ).  This is a better fix, will update and verify.",
      "parentUuid": "a169b3b6_014d9202",
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7dee7271_ba6e53bf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-10-16T16:45:42Z",
      "side": 1,
      "message": "Also, please leave the check for an empty image set as an ASSERT to catch future implementation bugs.",
      "parentUuid": "a169b3b6_014d9202",
      "revId": "b3f5a314be154b9af2f49f1d66b3be932fca0088",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}