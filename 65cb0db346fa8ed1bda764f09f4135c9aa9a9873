{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "99b83698_a8031576",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-11-07T15:03:02Z",
      "side": 1,
      "message": "I use a \"steps\" alignment to ensure that the replay only runs in groups of the numbers of steps in the trace. Can you instead update the warmup to align to the right number of steps?",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f426963c_d04110a3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-11-07T15:04:07Z",
      "side": 1,
      "message": "You might need to also make sure the reset runs, not sure, but definitely the alignment thing needs to happen to make sure the reset function even makes sense. It only resets from the last frame to the first, it doesn\u0027t work if you try to reset from a middle frame.",
      "parentUuid": "99b83698_a8031576",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dcdfddd0_184f1576",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-11-07T15:08:05Z",
      "side": 1,
      "message": "ah I see.\nSo instead of aligning `stepsToRun` we need to align `stepsPerformed + stepsToRun`, is that right?\nhttps://crsrc.org/c/third_party/angle/src/tests/perf_tests/ANGLEPerfTest.cpp;drc\u003dcaa1747121ee9f14ba7d4e346ea2dc5e7a2e05c0;l\u003d246",
      "parentUuid": "f426963c_d04110a3",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7811c74a_799762cf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-11-07T15:12:37Z",
      "side": 1,
      "message": "Yeah, I have code that does this like you linked. Not sure but it might be missing in some cases.",
      "parentUuid": "dcdfddd0_184f1576",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3797c574_edeaa817",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-11-07T15:16:27Z",
      "side": 1,
      "message": "Isn\u0027t it the code that I linked that is used here?\n\nIt is aligning `stepsToRun`, we need to align `stepsPerformed + stepsToRun` instead IIUC, so that after the next run we end up at the first frame.",
      "parentUuid": "7811c74a_799762cf",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc26cbcd_1e4f7d54",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-11-07T15:22:05Z",
      "side": 1,
      "message": "TBH I don\u0027t follow how stepsPerformed can become unaligned, if stepsToRun is always aligned. The root cause would be one step before, where we should ensure we always run the right alignment of steps.",
      "parentUuid": "3797c574_edeaa817",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4aa019b6_2a7cc114",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-11-07T15:25:22Z",
      "side": 1,
      "message": "I think it\u0027s because the first run is unaligned:\nhttps://crsrc.org/c/third_party/angle/src/tests/perf_tests/ANGLEPerfTest.cpp;drc\u003dcaa1747121ee9f14ba7d4e346ea2dc5e7a2e05c0;l\u003d597",
      "parentUuid": "dc26cbcd_1e4f7d54",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f16d842_e987729a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-11-07T15:32:05Z",
      "side": 1,
      "message": "Looks right, I\u0027d suggest we only set `mRunning \u003d false` in `runTrial` if our current step count is modulo the step alignment, otherwise keep running steps.",
      "parentUuid": "4aa019b6_2a7cc114",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8be8857b_e47acc68",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-11-07T16:38:28Z",
      "side": 1,
      "message": "Aha I see, done. PTAL.",
      "parentUuid": "9f16d842_e987729a",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1030cd8e_8f8c30f3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-11-07T17:03:58Z",
      "side": 1,
      "message": "Dang, I don\u0027t think this works in --smoke-test-mode. There we want to run just one step, not frameCount() steps, right?..",
      "parentUuid": "8be8857b_e47acc68",
      "revId": "65cb0db346fa8ed1bda764f09f4135c9aa9a9873",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}