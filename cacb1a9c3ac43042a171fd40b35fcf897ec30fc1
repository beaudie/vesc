{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "156fbc8a_2e7d0d9f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2022-01-21T16:23:29Z",
      "side": 1,
      "message": "Add Jeff and Mohan from Samsung ACL",
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c4d7b13d_fa0f40b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1528827
      },
      "writtenOn": "2022-01-24T10:07:47Z",
      "side": 1,
      "message": "Hello everyone,\n\nThis is my first draft for adding the first bits towards Wayland support in ANGLE.\nWith this changes you could run simple wayland applications. More complex ones such as weston would not run for some missing extensions. I am going to submit soon another CL adding support for those extensions.\n\nFor the moment, I would like your review on certain areas of this CL as I am not sure whether the approach I choose is good for you:\n\n1. gn changes\n2. DisplayVkWayland::generateConfigs()\n3. OSWindow::New\n\nThis third point in particular requires a unique definition for that function, meaning it requires building ANGLE in a mutually exclusive fashion, either enabling X11 or enabling wayland. Enabling both would trigger a redefinition error.\n\n\nKind regards,\n\nAntonio Caggiano",
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb265378_e08f9faf",
        "filename": "BUILD.gn",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-24T14:37:43Z",
      "side": 1,
      "message": "nit: you can combine these two ifs into an if/else",
      "range": {
        "startLine": 146,
        "startChar": 0,
        "endLine": 153,
        "endChar": 5
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0e0330b8_d6d932eb",
        "filename": "BUILD.gn",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1528827
      },
      "writtenOn": "2022-01-24T15:51:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb265378_e08f9faf",
      "range": {
        "startLine": 146,
        "startChar": 0,
        "endLine": 153,
        "endChar": 5
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5877acf_5e6d905e",
        "filename": "BUILD.gn",
        "patchSetId": 2
      },
      "lineNbr": 153,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-24T15:52:48Z",
      "side": 1,
      "message": "They are not mutually exclusive",
      "parentUuid": "bb265378_e08f9faf",
      "range": {
        "startLine": 146,
        "startChar": 0,
        "endLine": 153,
        "endChar": 5
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dbf334f0_741eeafb",
        "filename": "BUILD.gn",
        "patchSetId": 2
      },
      "lineNbr": 1021,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-24T14:37:43Z",
      "side": 1,
      "message": "nit: place in declare_args at the top",
      "range": {
        "startLine": 1018,
        "startChar": 0,
        "endLine": 1021,
        "endChar": 0
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "775a82eb_4b3fed59",
        "filename": "BUILD.gn",
        "patchSetId": 2
      },
      "lineNbr": 1021,
      "author": {
        "id": 1528827
      },
      "writtenOn": "2022-01-24T15:51:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dbf334f0_741eeafb",
      "range": {
        "startLine": 1018,
        "startChar": 0,
        "endLine": 1021,
        "endChar": 0
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d5a872d_482182c0",
        "filename": "BUILD.gn",
        "patchSetId": 2
      },
      "lineNbr": 1026,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-24T14:37:43Z",
      "side": 1,
      "message": "these are system libs or build products from //third_party/wayland? maybe we can make sure they\u0027re available by building them from third party.",
      "range": {
        "startLine": 1023,
        "startChar": 0,
        "endLine": 1026,
        "endChar": 3
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3fbe436_ec5ede36",
        "filename": "BUILD.gn",
        "patchSetId": 2
      },
      "lineNbr": 1026,
      "author": {
        "id": 1528827
      },
      "writtenOn": "2022-01-24T15:51:27Z",
      "side": 1,
      "message": "Ideally we would not need //third_party/wayland at all, as everything should be available in system directories, like X11. I introduced //third_party/wayland cause the debian build image did not have libwayland-egl-backend-dev installed ( https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1281407 )\n\nAnyway, building wayland-client and wayland-egl from sources is not trivial. Are you sure it would be worth it?",
      "parentUuid": "6d5a872d_482182c0",
      "range": {
        "startLine": 1023,
        "startChar": 0,
        "endLine": 1026,
        "endChar": 3
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e21a4050_74189172",
        "filename": "gni/angle.gni",
        "patchSetId": 2
      },
      "lineNbr": 138,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-24T15:52:48Z",
      "side": 1,
      "message": "This change doesn\u0027t seem right. We were disabling GL on some platforms, but they are being enabled now. The `\u0026\u0026 !is_fuchsia \u0026\u0026 !angle_is_winuwp \u0026\u0026 !is_ggp \u0026\u0026 !is_win_arm64` part needs to apply to the whole condition",
      "range": {
        "startLine": 137,
        "startChar": 20,
        "endLine": 138,
        "endChar": 46
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfc7bc5c_c01b0e1b",
        "filename": "src/libANGLE/renderer/vulkan/linux/wayland/DisplayVkWayland.cpp",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-24T15:52:48Z",
      "side": 1,
      "message": "Maybe log the error?",
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e5fda16_5655c5d1",
        "filename": "src/libANGLE/renderer/vulkan/linux/wayland/DisplayVkWayland.cpp",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-24T15:52:48Z",
      "side": 1,
      "message": "Can\u0027t this (and the xcb equivalent) actually detect the window system?",
      "range": {
        "startLine": 86,
        "startChar": 11,
        "endLine": 86,
        "endChar": 15
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00501598_d1bcb152",
        "filename": "src/libANGLE/renderer/vulkan/linux/wayland/DisplayVkWayland.cpp",
        "patchSetId": 2
      },
      "lineNbr": 97,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-24T15:52:48Z",
      "side": 1,
      "message": "Why ASSERT? Why not fail like usual?",
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9aeaf4e_f5b3e9bf",
        "filename": "src/libANGLE/renderer/vulkan/linux/wayland/WindowSurfaceVkWayland.cpp",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-24T15:52:48Z",
      "side": 1,
      "message": "nit: camelCase to match the rest of ANGLE",
      "range": {
        "startLine": 21,
        "startChar": 28,
        "endLine": 21,
        "endChar": 42
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36d03d6d_ba007e41",
        "filename": "src/libANGLE/renderer/vulkan/linux/wayland/WindowSurfaceVkWayland.cpp",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-24T15:52:48Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 32,
        "startChar": 19,
        "endLine": 32,
        "endChar": 29
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcb24157_2772985e",
        "filename": "src/tests/egl_tests/EGLWaylandTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-24T14:37:43Z",
      "side": 1,
      "message": "nit: comment before each new test",
      "range": {
        "startLine": 49,
        "startChar": 0,
        "endLine": 49,
        "endChar": 6
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f69aa7ed_772b99de",
        "filename": "src/tests/egl_tests/EGLWaylandTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-24T14:37:43Z",
      "side": 1,
      "message": "nit: suggest you use a more specific name",
      "range": {
        "startLine": 49,
        "startChar": 23,
        "endLine": 49,
        "endChar": 31
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "08661d30_9e485f02",
        "filename": "src/tests/egl_tests/EGLWaylandTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 1528827
      },
      "writtenOn": "2022-01-24T15:51:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bcb24157_2772985e",
      "range": {
        "startLine": 49,
        "startChar": 0,
        "endLine": 49,
        "endChar": 6
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e63e420c_33c7dd8a",
        "filename": "src/tests/egl_tests/EGLWaylandTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 1528827
      },
      "writtenOn": "2022-01-24T15:51:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f69aa7ed_772b99de",
      "range": {
        "startLine": 49,
        "startChar": 23,
        "endLine": 49,
        "endChar": 31
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88530615_39c1b660",
        "filename": "src/tests/egl_tests/EGLWaylandTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-24T15:52:48Z",
      "side": 1,
      "message": "Can you please add another test that draws and reads back, and uses swapBuffers() a few times? Just to make sure any swap-related issues are flushed out.",
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e815f8b2_f01dee28",
        "filename": "util/x11/X11Window.cpp",
        "patchSetId": 2
      },
      "lineNbr": 724,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-24T15:52:48Z",
      "side": 1,
      "message": "Not a big deal since this is for test, but since the ANGLE build can support X11 and Wayland simultaneously, it\u0027d be nice if the tests could as well. Could the `OSWindow::New()` implementation automatically choose one or the other based on the running window system?",
      "range": {
        "startLine": 721,
        "startChar": 0,
        "endLine": 724,
        "endChar": 1
      },
      "revId": "cacb1a9c3ac43042a171fd40b35fcf897ec30fc1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}