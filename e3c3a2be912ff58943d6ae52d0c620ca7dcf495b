{
  "comments": [
    {
      "key": {
        "uuid": "ab4fc417_398f889b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-14T16:28:50Z",
      "side": 1,
      "message": "Why not just have one consistent descriptor description that includes transform feedback? Are you concerned with the overhead you\u0027d get from extra null descriptors? I handled that in the Textures descriptor by having an upper bound on the non-null entries. See the existing textures descriptor set.\n\nI suggest you squash this with the next CL and we fix the design before submitting.",
      "revId": "e3c3a2be912ff58943d6ae52d0c620ca7dcf495b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e0c476bf_26f1f483",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-07-14T17:40:40Z",
      "side": 1,
      "message": "Mainly for optimization to reduce the overhead of hash look up. The transform feedback hash key has multiple entries and is much more expensive to calculate. transform feedback is not been used frequently. The default uniform update is on the performance critical path that gets updated frequently and is only having one key. The default uniform can be optimized to a FixedVector and has a 1:1 mapping to the dynamic buffer and use index to access it without hash key at all.",
      "parentUuid": "ab4fc417_398f889b",
      "revId": "e3c3a2be912ff58943d6ae52d0c620ca7dcf495b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b88de1a_159ac68e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-14T18:05:49Z",
      "side": 1,
      "message": "\u003e I handled that in the Textures descriptor by having an upper bound on the non-null entries. See the existing textures descriptor set.\n\nNo reason to fear performance for combining them.",
      "parentUuid": "e0c476bf_26f1f483",
      "revId": "e3c3a2be912ff58943d6ae52d0c620ca7dcf495b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3dd2a84d_e5f15f80",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 22
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-07-14T18:48:03Z",
      "side": 1,
      "message": "For example, if you look at the trex API trace, almost every draw call they update uniform. There could be multiple uniforms to be updated. We have spent time to avoid another indirection etc, this hash look up is quite expensive and can be easily avoided by maintain transform feedback cache separately. I think it is hard to argue against it though, IMHO.",
      "parentUuid": "5b88de1a_159ac68e",
      "revId": "e3c3a2be912ff58943d6ae52d0c620ca7dcf495b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}