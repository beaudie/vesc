{
  "comments": [
    {
      "key": {
        "uuid": "1ff147f1_2913f40d",
        "filename": "src/libANGLE/angletypes.h",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2019-03-26T20:10:52Z",
      "side": 1,
      "message": "2D array textures don\u0027t change depth with mip level.",
      "range": {
        "startLine": 89,
        "startChar": 4,
        "endLine": 89,
        "endChar": 72
      },
      "revId": "d8cb68ebd95b2cffcd618140fa263844a6057e66",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4478efb5_7c1b0f59",
        "filename": "src/libANGLE/angletypes.h",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-03-26T20:34:18Z",
      "side": 1,
      "message": "Wouldn\u0027t 2D array textures have depth 1? This would return 1 for all mips in that case.",
      "parentUuid": "1ff147f1_2913f40d",
      "range": {
        "startLine": 89,
        "startChar": 4,
        "endLine": 89,
        "endChar": 72
      },
      "revId": "d8cb68ebd95b2cffcd618140fa263844a6057e66",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a7192c1_b4461e6d",
        "filename": "src/libANGLE/angletypes.h",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-03-26T20:37:36Z",
      "side": 1,
      "message": "Ok sorry, I know OpenGL uses \"depth\" as the \"layers\" for 2D array textures, but does `gl::Extents` use the same convention? Since we communicate layers through `gl::ImageIndex`, I figured `gl::Extents` should be the actual extents of a single layer.",
      "parentUuid": "4478efb5_7c1b0f59",
      "range": {
        "startLine": 89,
        "startChar": 4,
        "endLine": 89,
        "endChar": 72
      },
      "revId": "d8cb68ebd95b2cffcd618140fa263844a6057e66",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89cdd76b_c8028cd9",
        "filename": "src/libANGLE/angletypes.h",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2019-03-26T21:29:34Z",
      "side": 1,
      "message": "Yes, the \u0027depth\u0027 in gl::Extents is used to be the \u0027depth\u0027 of a 3D texture or layer count of an array texture.  The layer in the ImageIndex is a bit different because the ImageIndex is used to iterate over mips and layers so it needs to be able to represent a single layer of a mip level.  I think that this function is ambiguous and we could be more specific on where the conversion from a 2D array texture to a slice of a 2D array texture happens.",
      "parentUuid": "9a7192c1_b4461e6d",
      "range": {
        "startLine": 89,
        "startChar": 4,
        "endLine": 89,
        "endChar": 72
      },
      "revId": "d8cb68ebd95b2cffcd618140fa263844a6057e66",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5641c642_53b0c886",
        "filename": "src/libANGLE/renderer/vulkan/RenderTargetVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2019-03-26T20:10:52Z",
      "side": 1,
      "message": "Instead of this, could you just add a new method to ImageHelper that gets the extents for a specific mip level?  Extents won\u0027t know the texture type on its own.",
      "range": {
        "startLine": 125,
        "startChar": 11,
        "endLine": 125,
        "endChar": 52
      },
      "revId": "d8cb68ebd95b2cffcd618140fa263844a6057e66",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "579a5652_93255302",
        "filename": "src/libANGLE/renderer/vulkan/RenderTargetVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-03-26T20:34:18Z",
      "side": 1,
      "message": "I could do that, but could you clarify why you would need to know the texture type? I was hoping the helper in `gl::Extents` would end up being useful elsewhere too.",
      "parentUuid": "5641c642_53b0c886",
      "range": {
        "startLine": 125,
        "startChar": 11,
        "endLine": 125,
        "endChar": 52
      },
      "revId": "d8cb68ebd95b2cffcd618140fa263844a6057e66",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "713e3e48_d41246d4",
        "filename": "src/libANGLE/renderer/vulkan/RenderTargetVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2019-03-26T21:29:34Z",
      "side": 1,
      "message": "I think it could be turned into a helper function that took an Extents object, texture type and mip level and transformed it.\n\nFor this particular function, we may want to even pass the layer index in.  Since only a single layer of 2D array or 3D textures are bound to framebuffers, we want to make sure the returned depth is 1.",
      "parentUuid": "579a5652_93255302",
      "range": {
        "startLine": 125,
        "startChar": 11,
        "endLine": 125,
        "endChar": 52
      },
      "revId": "d8cb68ebd95b2cffcd618140fa263844a6057e66",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}