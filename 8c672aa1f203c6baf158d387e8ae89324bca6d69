{
  "comments": [
    {
      "key": {
        "uuid": "4d19e818_a9489429",
        "filename": "src/libANGLE/params.cpp",
        "patchSetId": 3
      },
      "lineNbr": 70,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2018-10-26T02:27:34Z",
      "side": 0,
      "message": "I\u0027m beginning to think the actual cost we were paying was not much in dereferencing the pointer to DrawCallParams, but that every field had a non-inlined accessor like this.\n\nTo be honest, code-quality-wise I prefer packing numerous arguments in a struct rather than making WIN32-style functions that take 20 arguments. Can you make a quick try to see if moving these functions to the header already saves you that 5%?",
      "revId": "8c672aa1f203c6baf158d387e8ae89324bca6d69",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89840682_138ea87b",
        "filename": "src/libANGLE/params.cpp",
        "patchSetId": 3
      },
      "lineNbr": 70,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2018-10-26T11:41:03Z",
      "side": 0,
      "message": "Hey Shabi, these functions are not called in the perf test. I don\u0027t think a test is necessary. I can confirm the speedup will occur with and without inlining these accessors. I liked having the packed struct around too, but it was a performance hit that we couldn\u0027t avoid.",
      "parentUuid": "4d19e818_a9489429",
      "revId": "8c672aa1f203c6baf158d387e8ae89324bca6d69",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c9f7ad7_259dcf7d",
        "filename": "src/libANGLE/params.cpp",
        "patchSetId": 3
      },
      "lineNbr": 70,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2018-10-26T16:24:08Z",
      "side": 0,
      "message": "To explain a bit more:\n\nthe perf tests we were targeting right now are all DrawArrays. They don\u0027t call these helpers. There are perf tests that target DrawElements which would be improved by inlining. But the issues with the parameter packing are distinct.\n\nI linked in the prior CL but will re-link here:\n\nhttps://imgur.com/a/CHMdnuA\n\nSeems like the indirections + the slowness of packing are the main problems with the helper struct.",
      "parentUuid": "89840682_138ea87b",
      "revId": "8c672aa1f203c6baf158d387e8ae89324bca6d69",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}