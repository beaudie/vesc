{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3bd74970_81804176",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-21T18:54:32Z",
      "side": 1,
      "message": "nit: prefix with `Vulkan: `\n\n    Vulkan: Prevent ...",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 7
      },
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce700b3d_62a514aa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-20T20:53:41Z",
      "side": 1,
      "message": "LGTM. Shabi want to do the second review?",
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3707dc5_b1ec033d",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 3
      },
      "lineNbr": 88,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-21T20:36:46Z",
      "side": 1,
      "message": "one request - can you be consistent in calling the replication parameter either \"divisor\" or \"replicateCount\"?\n\ni.e. either call this StreamVertexDataWithDivisor with uint32_t divisor, or StreamVertexDataWithReplication with uint32_t replicateCount",
      "range": {
        "startLine": 88,
        "startChar": 14,
        "endLine": 88,
        "endChar": 45
      },
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a55f939_b549aa63",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-21T18:54:32Z",
      "side": 1,
      "message": "This code is kind of hard to understand. Could you please give better names to the variables (like what is sameSrcRemainingCount?) and add a comment as to what exactly is going on?\n\nAlso, could you please check to see what happens if `dstStride` is say 128, and `srcStride` is say 32 and bytesToAllocate is 128k+32 (or if that\u0027s even possible)? Are `k` vertices copied and the last 32 bytes are set to 0, or k+1 vertices are copied?\n\nI\u0027m asking because we had issues before where an incomplete last stride (yet complete enough to include vertex data in that last incomplete stride) would read 0 in Vulkan on AMD but not in GL, and we had to extend the buffer size to make the stride complete. Just want to be sure we don\u0027t reintroduce that issue.",
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b455d01_f639150b",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-21T20:36:46Z",
      "side": 1,
      "message": "size_t bytesToAllocate \u003d instanceCount * stride;\n\nYour scenario of 32 bytes at the end isn\u0027t something that can happen. Can you clarify what you\u0027d like to see changed in the CL?",
      "parentUuid": "9a55f939_b549aa63",
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c34f6a4e_cb49385e",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-21T21:02:48Z",
      "side": 1,
      "message": "Ack if that\u0027s the case. Could be good to ASSERT just in case.",
      "parentUuid": "1b455d01_f639150b",
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "269b5934_cd0929b0",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-21T21:32:20Z",
      "side": 1,
      "message": "So clampedSize is what prevents out of bounds reads. `src` isn\u0027t advanced until it has been read `divisor` times. Could you elaborate what kind of assert would make sense here, I\u0027m guessing not inside the loop?.. but then what would I assert on?",
      "parentUuid": "c34f6a4e_cb49385e",
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1e4bed8_12e11eec",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 3
      },
      "lineNbr": 106,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-22T03:24:27Z",
      "side": 1,
      "message": "ASSERT(bytesToAllocate % dstStride \u003d\u003d 0) to ensure Jamie\u0027s assertion (that \"bytesToAllocate is a multiple of stride\") is not broken in the future.",
      "parentUuid": "269b5934_cd0929b0",
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3cc6a662_171a9e51",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 3
      },
      "lineNbr": 109,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-21T20:36:46Z",
      "side": 1,
      "message": "nit: what made you rename this to \"sameSrcRemainingCount\" instead of just using \"srcRemainingCount\"?",
      "range": {
        "startLine": 109,
        "startChar": 13,
        "endLine": 109,
        "endChar": 35
      },
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3b1f482b_cd4fbfe9",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 3
      },
      "lineNbr": 109,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-21T21:32:20Z",
      "side": 1,
      "message": "I don\u0027t really have a good name for this variable.\nThe meaning is \"how many times more should we read the same src pointer before advancing it further\". Hence the \"same\" prefix: we\u0027re reading the _same_ src pointer Count more times, not just the _src_ pointer Count more times.. uhh.. am I making sense?",
      "parentUuid": "3cc6a662_171a9e51",
      "range": {
        "startLine": 109,
        "startChar": 13,
        "endLine": 109,
        "endChar": 35
      },
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "411e15ce_7c752eb7",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 3
      },
      "lineNbr": 121,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-21T20:36:46Z",
      "side": 1,
      "message": "You could consider doing this only if robustness is enabled. at the least a comment might be a good idea to indicate this code is to satisfy robustness constraints, and isn\u0027t necessary if the ext is unavailable.",
      "range": {
        "startLine": 121,
        "startChar": 5,
        "endLine": 121,
        "endChar": 38
      },
      "revId": "8897940f1fb1d45e2cf9aae7e1d867eed4b42da6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}