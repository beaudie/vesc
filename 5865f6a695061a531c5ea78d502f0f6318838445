{
  "comments": [
    {
      "key": {
        "uuid": "45c32c25_4010e760",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1920,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-04-29T04:43:22Z",
      "side": 1,
      "message": "Also, you would need the same fix here!",
      "revId": "5865f6a695061a531c5ea78d502f0f6318838445",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f11561c_c5ccc79c",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1920,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-04-29T18:08:24Z",
      "side": 1,
      "message": "Sorry, I am not sure why we need add mCurrentReadStages here? Read op should only depend on prior write, not prior read, right?",
      "parentUuid": "45c32c25_4010e760",
      "revId": "5865f6a695061a531c5ea78d502f0f6318838445",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3b489d6_51383bba",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1920,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-04-30T02:34:26Z",
      "side": 1,
      "message": "Yes, right",
      "parentUuid": "1f11561c_c5ccc79c",
      "revId": "5865f6a695061a531c5ea78d502f0f6318838445",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "01c2bf47_ec6b4953",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1940,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-04-29T00:24:01Z",
      "side": 1,
      "message": "This (and line1942) is the fix for win_angle_rel_32 test failure. Write must barrier against prior write *and* prior read as well.",
      "range": {
        "startLine": 1940,
        "startChar": 45,
        "endLine": 1940,
        "endChar": 66
      },
      "revId": "5865f6a695061a531c5ea78d502f0f6318838445",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "461008f4_4fb89864",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1940,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-04-29T04:32:42Z",
      "side": 1,
      "message": "IIRC there\u0027s no point in adding the read access mask here. WAR hazards don\u0027t need memory barriers (only execution barriers).\n\nAdding `mCurrentReadStages` alone is probably what fixed the issue.",
      "parentUuid": "01c2bf47_ec6b4953",
      "range": {
        "startLine": 1940,
        "startChar": 45,
        "endLine": 1940,
        "endChar": 66
      },
      "revId": "5865f6a695061a531c5ea78d502f0f6318838445",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e09bdfb_3c67a19c",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1940,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-04-29T18:08:24Z",
      "side": 1,
      "message": "I think I agree with you. Let me remove mCurrentReadAccess here and give ti a try. But I think it shouldn\u0027t hurt with the mCurrentReadAccess as well, flush read operation\u0027s cache should be a nop anyway.",
      "parentUuid": "461008f4_4fb89864",
      "range": {
        "startLine": 1940,
        "startChar": 45,
        "endLine": 1940,
        "endChar": 66
      },
      "revId": "5865f6a695061a531c5ea78d502f0f6318838445",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "965dfe09_28b60ac4",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1940,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-04-29T18:28:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e09bdfb_3c67a19c",
      "range": {
        "startLine": 1940,
        "startChar": 45,
        "endLine": 1940,
        "endChar": 66
      },
      "revId": "5865f6a695061a531c5ea78d502f0f6318838445",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}