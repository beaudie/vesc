{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "59a54513_e9fbaa0c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-01T18:34:26Z",
      "side": 1,
      "message": "This is very fragile, and breaks under many different situations. What could we do to make it more general without making it a source of additional overhead?",
      "revId": "f7a09569b7ef92fea157665d3c98ad0b11b9ea79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b755121e_00262ceb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1175714
      },
      "writtenOn": "2021-12-01T18:44:03Z",
      "side": 1,
      "message": "Would adding comments around the code help?\n\nOtherwise we\u0027ll end up reaching for stuff like map/set data structures which are going to have lots more overhead (Unless anyone has a better idea, of course)",
      "parentUuid": "59a54513_e9fbaa0c",
      "revId": "f7a09569b7ef92fea157665d3c98ad0b11b9ea79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fdd2de69_04cea11d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-01T18:47:53Z",
      "side": 1,
      "message": "What kind of improvement does this give you?\n\nMy thought is to wait until we can add better tracking before trying to optimize out the bufferReads. Unless it\u0027s a massive improvement for a specific app.",
      "parentUuid": "b755121e_00262ceb",
      "revId": "f7a09569b7ef92fea157665d3c98ad0b11b9ea79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87f146ad_dca54701",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1175714
      },
      "writtenOn": "2021-12-01T18:55:28Z",
      "side": 1,
      "message": "This happens for some draws in Aztec Ruins and we can reduce the work in this function to 25% there because there are 4 bufferReads all to the same VBO.\n\nI can maybe punt on this one, but in general I think we shouldn\u0027t be shy about small wins. They add up.",
      "parentUuid": "fdd2de69_04cea11d",
      "revId": "f7a09569b7ef92fea157665d3c98ad0b11b9ea79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "029d63a7_5673d486",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-01T18:59:46Z",
      "side": 1,
      "message": "Hm, well, we can take this up if it becomes a pattern. I see this as small win if it only affects a specific app, where we could with a bit of waiting get a comprehensive win for multiple/all apps.\n\nRegarding numbers, what does this to do the whole run of the app, i.e. through the trace, using your cpu metric?",
      "parentUuid": "87f146ad_dca54701",
      "revId": "f7a09569b7ef92fea157665d3c98ad0b11b9ea79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a36ef21_422b91f7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-01T19:01:29Z",
      "side": 1,
      "message": "Also the risk here is that you\u0027re adding some complexity. It doesn\u0027t look like much, but it would make diagnosing bugs with this optimization trickier if it only repros with specific vertex buffer bindings.",
      "parentUuid": "029d63a7_5673d486",
      "revId": "f7a09569b7ef92fea157665d3c98ad0b11b9ea79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0e1cf600_3b3df966",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1175714
      },
      "writtenOn": "2021-12-01T19:07:55Z",
      "side": 1,
      "message": "\u003e Regarding numbers, what does this to do the whole run of the app, i.e. through the trace, using your cpu metric?\n\nMost of the other draws don\u0027t do 4x the work as they bind different VBOs in each attribute, so I couldn\u0027t detect much difference overall, it\u0027d be within a percent.\n\nThere are a lot of other cases like this so taken together they would add up though. I suppose I will avoid doing it this way for now then.",
      "parentUuid": "1a36ef21_422b91f7",
      "revId": "f7a09569b7ef92fea157665d3c98ad0b11b9ea79",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}