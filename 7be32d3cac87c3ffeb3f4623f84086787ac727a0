{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d0960c89_5c353896",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2022-07-21T23:55:00Z",
      "side": 1,
      "message": "Geoff and Gregg: please review. This is a no-op on all of the hardware I have readily available for testing.\n\nJohn, Kyle, Dan, Jonah: any comments welcome.\n",
      "revId": "7be32d3cac87c3ffeb3f4623f84086787ac727a0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "365bf4ff_a15ba3df",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2022-07-21T23:55:43Z",
      "side": 1,
      "message": "CC\u0027ing Alexey as well.\n",
      "revId": "7be32d3cac87c3ffeb3f4623f84086787ac727a0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "688ae8d6_5532fa99",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2022-07-22T05:58:49Z",
      "side": 1,
      "message": "This change would make Metal backend completely unavailable on older devices, even via manual selection, right? Could we make it never-selected-by-default there instead?",
      "revId": "7be32d3cac87c3ffeb3f4623f84086787ac727a0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50d66e5a_8b9ae137",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1326275
      },
      "writtenOn": "2022-07-25T15:02:13Z",
      "side": 1,
      "message": "I noticed a comment here: https://source.chromium.org/chromium/chromium/src/+/main:third_party/angle/src/tests/test_utils/angle_test_instantiate_apple.mm;l\u003d19;bpv\u003d1;bpt\u003d1?q\u003dIsMetalDisplayAvailable\u0026ss\u003dchromium%2Fchromium%2Fsrc\n\nIt says this code is duplicated with IsMetalDisplayAvailable, so I assume it might need to be updated to match these changes, or tests will run on Metal that aren\u0027t supposed to.",
      "revId": "7be32d3cac87c3ffeb3f4623f84086787ac727a0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8661cc40_88103aec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2022-07-25T22:15:42Z",
      "side": 1,
      "message": "Thanks very much for finding that - that\u0027s why the tests are failing on the NVIDIA MacBook Pros. Fixing this up now.",
      "parentUuid": "50d66e5a_8b9ae137",
      "revId": "7be32d3cac87c3ffeb3f4623f84086787ac727a0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eb35c8ab_eb7551bf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2022-07-25T22:15:42Z",
      "side": 1,
      "message": "Correct. The Metal backend is not working correctly on this older hardware - it\u0027s probably implicitly relying on features introduced in later GPU families. In order to stem the customer bugs we have to disable it.\n\nDetermination of the OpenGL vs. Metal backend is a policy decision made in calling code, for example in Chromium:\nhttps://source.chromium.org/chromium/chromium/src/+/main:ui/gl/gl_display.cc;l\u003d833;drc\u003d9bed89be6d7a7e7a0f379444511c6c77acf8c601;bpv\u003d0;bpt\u003d1",
      "parentUuid": "688ae8d6_5532fa99",
      "revId": "7be32d3cac87c3ffeb3f4623f84086787ac727a0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b9ccfb8_b758854c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2022-07-25T23:11:04Z",
      "side": 1,
      "message": "I think the latest patch set resolves this. Sending to trybots to confirm.",
      "parentUuid": "8661cc40_88103aec",
      "revId": "7be32d3cac87c3ffeb3f4623f84086787ac727a0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2710f22_117fd6d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2022-07-26T03:41:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0b9ccfb8_b758854c",
      "revId": "7be32d3cac87c3ffeb3f4623f84086787ac727a0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72a18b38_7067bdcf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1394635
      },
      "writtenOn": "2022-07-26T08:53:32Z",
      "side": 1,
      "message": "Historically, ANGLE Metal backend had lots of guards and switches around different hardware and software caps, e.g., Mac vs MacCatalyst, different OS and SDK versions, etc. If the intention here is to drop NVIDIA and old Intel GPU Macs altogether, lots of legacy code would become unused and should be removed as well.\n\nOn the other hand, running end2end tests on NVIDIA/Metal is still useful because newer platforms are more tolerable to invalid Metal usage in some cases.\n\nIf all customers that experience bugs use ANGLE only through Chromium/WebKit, the calling code should make the decision to not use Metal on old hardware.",
      "parentUuid": "eb35c8ab_eb7551bf",
      "revId": "7be32d3cac87c3ffeb3f4623f84086787ac727a0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}