{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "05916983_02bb3912",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-07-27T18:05:17Z",
      "side": 1,
      "message": "Drive-by: probably should keep these out of the main build to minimize binary size for Chrome (at least Chrome, maybe other would care).",
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3091fc46_a4c78352",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "A bunch of little nits, but overall this looks great.  Nice work Eddie!\n\nFor other readers, we made the decision to go with `libGL` becoming a symlink to `libGLESv2` on Linux.  That way we can support GL and GLES contexts from the same shared object, avoiding the complexity of having a needless libGL.so shim. That explains many of the changes.\n\n+Geoff for second review (Jamie, you\u0027re welcome to review as well)",
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d94b8979_8bd4a5e7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-07-27T18:56:34Z",
      "side": 1,
      "message": "See my comment above, Cody. This design has an inherent inflexibility when it comes to the additional binary size we get from baking in desktop GL. I realize it may have some simplification for testing.\n\nWe could check how Mesa handles this problem.",
      "parentUuid": "3091fc46_a4c78352",
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f9ac949b_f56d1469",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:04:53Z",
      "side": 1,
      "message": "I\u0027ll fix up the resolvable ones and resolve them after that.",
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a9bc354_e74ac13f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T19:17:20Z",
      "side": 1,
      "message": "The intent would be for any binary size increase to be gated by `angle_enable_gl_desktop_frontend` which defaults to false.  We haven\u0027t spent time verifying that yet, but we can ensure that\u0027s the case.  I don\u0027t see why this design would block that.  Whether it is in one shared object or another, there will be more code in a build that supports both.",
      "parentUuid": "d94b8979_8bd4a5e7",
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a4313eda_eb5c0eb5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-07-27T20:02:41Z",
      "side": 1,
      "message": "Maybe you can chat me offline - if there\u0027s a flag gating this feature, then it could mean testing complications as flags often do. If there\u0027s two shared objects, it means we could include different code in different places, and have different (smaller) code that ships with Chrome. The (potential) issue isn\u0027t the size of code in the build but the size of code we ship.\n\nFor instance, we had to cut out desktop GL code from the translator because it increased the binary size too much on Android.",
      "parentUuid": "0a9bc354_e74ac13f",
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa28f0ed_4609abf1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2022-07-27T23:32:57Z",
      "side": 1,
      "message": "Happy to chat about this too. I think a big perk of merging them is that it allows creating a GLES and GL context simultaneously with the same EGL/WGL implementation.\n\nWe could either enable the desktop GL entry points by default and then disable them in Chrome and roll_aosp.sh or disable by default and enable them in the angle waterfall only.\n\nIt would be also good to measure the cost of this flag now. Before it only changed the symbol table and I\u0027m curious about the additional cost of the entry points.",
      "parentUuid": "a4313eda_eb5c0eb5",
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b3c40a51_c2f3557b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-07-28T14:44:14Z",
      "side": 1,
      "message": "Cool, maybe someone could schedule a meeting. Do you mean having a single context do both GL and GLES, or having two contexts interop in the same process? For former seems a bit hard because of validation. I think for the latter, you could have that work with the current design (shim entry points that forward to a single point of origin). The other main reason to keep the design we have now is that it\u0027s what most apps expect. If you wanted to ship this somewhere, it would be nice to not have every app or platform have to adapt to special behaviour for ANGLE.\n\nI think the main motivation for this CL is to simplify the loading of the entry points in dEQP? I can also potentially help with that.",
      "parentUuid": "aa28f0ed_4609abf1",
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "baf098ea_02cba6bc",
        "filename": "BUILD.gn",
        "patchSetId": 28
      },
      "lineNbr": 1336,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "remove",
      "range": {
        "startLine": 1328,
        "startChar": 0,
        "endLine": 1336,
        "endChar": 2
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd3815b0_ca46be45",
        "filename": "BUILD.gn",
        "patchSetId": 28
      },
      "lineNbr": 1336,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:33:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "baf098ea_02cba6bc",
      "range": {
        "startLine": 1328,
        "startChar": 0,
        "endLine": 1336,
        "endChar": 2
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ee0ef8c_49a68ae5",
        "filename": "samples/hello_triangle_gl/HelloTriangleGL.cpp",
        "patchSetId": 28
      },
      "lineNbr": 2,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "Go ahead and update this date",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 18
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f96c430a_b64d4cd3",
        "filename": "samples/hello_triangle_gl/HelloTriangleGL.cpp",
        "patchSetId": 28
      },
      "lineNbr": 2,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:33:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5ee0ef8c_49a68ae5",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 18
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28c0efdb_4376f9cd",
        "filename": "samples/hello_triangle_gl/HelloTriangleGL.cpp",
        "patchSetId": 28
      },
      "lineNbr": 24,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "Maybe add a comment that says this is identical to HelloTriangle, except for this key difference.\n\nAlso, is there a reason you bumped it to 4.6 instead of 3.3?",
      "range": {
        "startLine": 24,
        "startChar": 69,
        "endLine": 24,
        "endChar": 79
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "691c7aa8_c640466f",
        "filename": "samples/hello_triangle_gl/HelloTriangleGL.cpp",
        "patchSetId": 28
      },
      "lineNbr": 24,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:04:53Z",
      "side": 1,
      "message": "Since we haven\u0027t really focused in on a specific version yet for desktop GL, I\u0027ve been using 4.6 throughout since generally I see that as the \"default\" goal for our support of desktop GL. I\u0027m not sure why it was 3.3 so I changed it to 4.6 to be consistent with the rest of this CL.",
      "parentUuid": "28c0efdb_4376f9cd",
      "range": {
        "startLine": 24,
        "startChar": 69,
        "endLine": 24,
        "endChar": 79
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7a8869c_bb0d95b3",
        "filename": "samples/hello_triangle_gl/HelloTriangleGL.cpp",
        "patchSetId": 28
      },
      "lineNbr": 24,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2022-07-27T23:32:57Z",
      "side": 1,
      "message": "This sample itself uses very simple GL features so we should limit it to a fairly low GL version. It probably runs on 2.0. 3.3 is a good baseline I think, many modern GL applications treat it as the minimum spec due to a lot of older Apple devices being stuck there.",
      "parentUuid": "691c7aa8_c640466f",
      "range": {
        "startLine": 24,
        "startChar": 69,
        "endLine": 24,
        "endChar": 79
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ac0d172_e06b8a8e",
        "filename": "scripts/gen_proc_table.py",
        "patchSetId": 28
      },
      "lineNbr": 33,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "Let\u0027s switch this and others to:\n```\n#if defined(ANGLE_ENABLE_GL_DESKTOP_FRONTEND)\n```\nwhich matches ANGLE style",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 39
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "80c6ece7_07bf3c05",
        "filename": "scripts/gen_proc_table.py",
        "patchSetId": 28
      },
      "lineNbr": 33,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:33:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6ac0d172_e06b8a8e",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 39
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "156ec71b_8a3e968e",
        "filename": "scripts/gen_proc_table.py",
        "patchSetId": 28
      },
      "lineNbr": 179,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "Remove",
      "range": {
        "startLine": 179,
        "startChar": 0,
        "endLine": 179,
        "endChar": 26
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de2d4173_64f75efe",
        "filename": "scripts/gen_proc_table.py",
        "patchSetId": 28
      },
      "lineNbr": 179,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:33:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "156ec71b_8a3e968e",
      "range": {
        "startLine": 179,
        "startChar": 0,
        "endLine": 179,
        "endChar": 26
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26b79828_2f7d03e1",
        "filename": "scripts/generate_entry_points.py",
        "patchSetId": 28
      },
      "lineNbr": 2704,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "Remove?",
      "range": {
        "startLine": 2703,
        "startChar": 0,
        "endLine": 2704,
        "endChar": 50
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "51da3588_5064ce98",
        "filename": "scripts/generate_entry_points.py",
        "patchSetId": 28
      },
      "lineNbr": 2704,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:33:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "26b79828_2f7d03e1",
      "range": {
        "startLine": 2703,
        "startChar": 0,
        "endLine": 2704,
        "endChar": 50
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c6f0ad4_f27ad1a0",
        "filename": "scripts/generate_entry_points.py",
        "patchSetId": 28
      },
      "lineNbr": 2909,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "Be sure to also point to the bug as well.\n\nActually, it occurs to me we haven\u0027t created a but to track your work.  Let\u0027s do that...",
      "range": {
        "startLine": 2909,
        "startChar": 13,
        "endLine": 2909,
        "endChar": 17
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b88674aa_2cad7625",
        "filename": "scripts/generate_entry_points.py",
        "patchSetId": 28
      },
      "lineNbr": 2909,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:04:53Z",
      "side": 1,
      "message": "Ok, let\u0027s make a bug for this. In this case, the comment should just be removed though, since we got windows working.",
      "parentUuid": "7c6f0ad4_f27ad1a0",
      "range": {
        "startLine": 2909,
        "startChar": 13,
        "endLine": 2909,
        "endChar": 17
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a8615c1_59bc4c52",
        "filename": "scripts/generate_entry_points.py",
        "patchSetId": 28
      },
      "lineNbr": 3180,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "Remove?",
      "range": {
        "startLine": 3177,
        "startChar": 0,
        "endLine": 3180,
        "endChar": 68
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d6bd70ca_43c1564c",
        "filename": "scripts/generate_entry_points.py",
        "patchSetId": 28
      },
      "lineNbr": 3180,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:33:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4a8615c1_59bc4c52",
      "range": {
        "startLine": 3177,
        "startChar": 0,
        "endLine": 3180,
        "endChar": 68
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b3ee419_3399b106",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 28
      },
      "lineNbr": 1873,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "We should be able to check a bit of state here and return the right enum.  Might need to add a new helper.",
      "range": {
        "startLine": 1871,
        "startChar": 0,
        "endLine": 1873,
        "endChar": 50
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "260dd0fc_2e809769",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 28
      },
      "lineNbr": 1873,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:04:53Z",
      "side": 1,
      "message": "Oops, sorry for all the commented out code. My thinking here is that we want it to be compatibility by default right now. We haven\u0027t zeroed in on any specific GL version/profile that we are aiming for yet, so I figured we just enable everything possible and go for the highest version possible, 4.6. Therefore we know where we stand with respect to compatibility if we decide we want to go in that direction.",
      "parentUuid": "6b3ee419_3399b106",
      "range": {
        "startLine": 1871,
        "startChar": 0,
        "endLine": 1873,
        "endChar": 50
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e93f6fa4_4ead8319",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 28
      },
      "lineNbr": 1873,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2022-07-27T23:32:57Z",
      "side": 1,
      "message": "This should just return `mState.getProfileMask()`, we\u0027re already parsing it from the context creation attributes.",
      "parentUuid": "260dd0fc_2e809769",
      "range": {
        "startLine": 1871,
        "startChar": 0,
        "endLine": 1873,
        "endChar": 50
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "394abdf1_8ce868cd",
        "filename": "src/tests/deqp_support/angle_deqp_gtest.cpp",
        "patchSetId": 28
      },
      "lineNbr": 61,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-07-27T18:48:40Z",
      "side": 1,
      "message": "Worth renaming this to `GLES_CTS_DIR` and make `GL_CTS_DIR` point to `external/openglcts/data/mustpass/gl`",
      "range": {
        "startLine": 61,
        "startChar": 8,
        "endLine": 61,
        "endChar": 22
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e275354_77d251d7",
        "filename": "src/tests/deqp_support/angle_deqp_gtest.cpp",
        "patchSetId": 28
      },
      "lineNbr": 61,
      "author": {
        "id": 1546684
      },
      "writtenOn": "2022-07-27T19:33:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "394abdf1_8ce868cd",
      "range": {
        "startLine": 61,
        "startChar": 8,
        "endLine": 61,
        "endChar": 22
      },
      "revId": "226bae687918dff05675e38dd8a3d8b2570448ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}