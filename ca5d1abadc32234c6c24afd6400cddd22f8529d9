{
  "comments": [
    {
      "key": {
        "uuid": "06a8cfda_f6427024",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1374244
      },
      "writtenOn": "2020-07-13T14:33:16Z",
      "side": 1,
      "message": "I saw that recent CLs added some pre-rotation code to shader via TranslatorVulkan, though they are unused by Metal side.\nThis CL attempts to disable those code if they are not required.\nPTAL.",
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10bf00f8_8d04ed58",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-07-13T14:41:53Z",
      "side": 1,
      "message": "Thank you for this change",
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abf72d77_a554ada1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-07-13T18:37:16Z",
      "side": 1,
      "message": "Hmm.  I am suddenly unable to run the EGLPreRotation* end2end tests on Android (I ran them a week or two ago).  If I wild-card the test filter (i.e. \"--gtest_filter\u003dEGLPr*Vulkan\"), none of them are run.\n\nThe main code changes LGTM, but I don\u0027t know about the test changes.  I think the change looks good, but I can\u0027t verify at the moment.  I\u0027ll try to figure that out soon.",
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59b476d5_93bbacda",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1374244
      },
      "writtenOn": "2020-07-14T10:16:09Z",
      "side": 1,
      "message": "I\u0027m not sure, but probably you should add asterisk to after Vulkan, something like \"--gtest_filter\u003dEGLPr*Vulkan*\". Since in this CL I added \"__PreRotationDisabled\"/\"__PreRotationEnabled\" suffix to the test variant\u0027s names.\n\nThis is one of them reported in the linux-angle-rel bot:\n\"EGLPreRotationLargeSurfaceTest.OrientedWindowWithFragCoordDraw/ES3_Vulkan_NoFixture__PreRotationEnabled\"",
      "parentUuid": "abf72d77_a554ada1",
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9918bff0_22874256",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-07-14T15:10:09Z",
      "side": 1,
      "message": "Thanks, the \"*\" at the end was good.\n\nHowever, the number of tests being run doubled on Android ... I\u0027m seeing both \"__PreRotationEnabled\" and \"__PreRotationDisabled\" tests run.  That doesn\u0027t seem right, as ANGLE has pre-rotation enabled.  I thought your CL would run \"__PreRotationEnabled\" tests on Android and \"__PreRotationDisabled\" tests elsewhere.",
      "parentUuid": "59b476d5_93bbacda",
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34560b6a_bfc0e870",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1374244
      },
      "writtenOn": "2020-07-14T16:42:40Z",
      "side": 1,
      "message": "Actually I override the feature \"enable_pre_rotation_surfaces\" when calling eglGetPlatformDisplay() based on second boolean parameter of the tests.\n- So when the boolean value is true, \"enable_pre_rotation_surfaces\" feature will be enabled (regardless of the platform is android or not).\n- Similarly, when the boolean parameter is false, \"enable_pre_rotation_surfaces\" will be disabled. Leading to shader\u0027s pre-rotation code being disabled.\nI wanted to test that the translated shaders can be executed correctly in both cases when pre-rotation is enabled and is disabled. Doesn\u0027t matter the tests run on android or other platforms.\nIs it good to do that? Or is it better to let the tests behave depending on platforms?",
      "parentUuid": "9918bff0_22874256",
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3df9c73_9d92d769",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-07-14T18:48:27Z",
      "side": 1,
      "message": "I like it.  As I explained early on, I didn\u0027t know about the test infrastructure that you were using.  However, I can see that pre-rotation is being enabled or disabled, based on the test.",
      "parentUuid": "34560b6a_bfc0e870",
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfa3a64f_a7980113",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-07-14T18:48:27Z",
      "side": 1,
      "message": "LGTM.  Please address Shabi\u0027s feedback.  Thanks for your change!",
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e58d905_b1133204",
        "filename": "src/compiler/translator/TranslatorVulkan.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1070,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-07-13T14:41:53Z",
      "side": 1,
      "message": "nit: `!\u003d 0` for consistency",
      "range": {
        "startLine": 1070,
        "startChar": 50,
        "endLine": 1070,
        "endChar": 51
      },
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e34e3d8_e0743c66",
        "filename": "src/libANGLE/renderer/metal/ContextMtl.mm",
        "patchSetId": 2
      },
      "lineNbr": 1712,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-07-13T14:41:53Z",
      "side": 1,
      "message": "Please initialize these to 0 in the constructor.",
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c4d92afe_debbc150",
        "filename": "src/tests/egl_tests/EGLPreRotationTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-07-13T14:41:53Z",
      "side": 1,
      "message": "nit: shouldn\u0027t need this ::.",
      "range": {
        "startLine": 31,
        "startChar": 4,
        "endLine": 31,
        "endChar": 6
      },
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a106894_637d0288",
        "filename": "src/tests/egl_tests/EGLPreRotationTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 54,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-07-13T18:37:16Z",
      "side": 1,
      "message": "I am unfamiliar with this class, and how you are using it, but it looks like Shabi is.",
      "range": {
        "startLine": 54,
        "startChar": 41,
        "endLine": 54,
        "endChar": 92
      },
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73fb379f_5b30dac5",
        "filename": "src/tests/egl_tests/EGLPreRotationTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 54,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2020-07-14T15:10:09Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0a106894_637d0288",
      "range": {
        "startLine": 54,
        "startChar": 41,
        "endLine": 54,
        "endChar": 92
      },
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1dbdee4d_81397d0c",
        "filename": "src/tests/egl_tests/EGLPreRotationTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1624,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-07-13T14:41:53Z",
      "side": 1,
      "message": "Can use `testing::Bool()` instead.",
      "range": {
        "startLine": 1624,
        "startChar": 33,
        "endLine": 1624,
        "endChar": 61
      },
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "874314de_4798b04d",
        "filename": "src/tests/egl_tests/EGLPreRotationTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1624,
      "author": {
        "id": 1374244
      },
      "writtenOn": "2020-07-14T10:16:09Z",
      "side": 1,
      "message": "For some reasons, I used testing::Bool() in patchset 1 and got this compilation errors in linux-clang-rel bot:\nhttps://logs.chromium.org/logs/angle/buildbucket/cr-buildbucket.appspot.com/8874888149127123904/+/steps/compile_with_ninja/0/stdout\n\nLooks like Bool is a macro in linux bot:\n\"#define Bool int\"",
      "parentUuid": "1dbdee4d_81397d0c",
      "range": {
        "startLine": 1624,
        "startChar": 33,
        "endLine": 1624,
        "endChar": 61
      },
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a7bffec_0d625c72",
        "filename": "src/tests/egl_tests/EGLPreRotationTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1624,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-07-14T14:55:04Z",
      "side": 1,
      "message": "See here: https://source.chromium.org/chromium/chromium/src/+/master:third_party/angle/src/tests/gl_tests/CopyTextureTest.cpp;l\u003d2347",
      "parentUuid": "874314de_4798b04d",
      "range": {
        "startLine": 1624,
        "startChar": 33,
        "endLine": 1624,
        "endChar": 61
      },
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "536827ea_aa07893d",
        "filename": "src/tests/egl_tests/EGLPreRotationTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1624,
      "author": {
        "id": 1374244
      },
      "writtenOn": "2020-07-15T10:03:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8a7bffec_0d625c72",
      "range": {
        "startLine": 1624,
        "startChar": 33,
        "endLine": 1624,
        "endChar": 61
      },
      "revId": "ca5d1abadc32234c6c24afd6400cddd22f8529d9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}