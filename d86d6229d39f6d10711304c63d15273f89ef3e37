{
  "comments": [
    {
      "key": {
        "uuid": "6bc8f375_5624f4d6",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 172,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-01-21T15:24:41Z",
      "side": 1,
      "message": "can insert an updateStorage() call here",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_7c0f65d8",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 172,
      "author": {
        "id": 1121969
      },
      "writtenOn": "2015-01-21T15:50:48Z",
      "side": 1,
      "message": "In patch 4, I used image-\u003emarkClean() instead of updateStorage(). The idea is to avoid unnecessarily copying the old image to the GPU before uploading the new data.\nI am not 100% sure that’s correct?",
      "parentUuid": "6bc8f375_5624f4d6",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bc27b57_947f6496",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 172,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-01-21T15:56:34Z",
      "side": 1,
      "message": "Yes, markClean is better. Good idea.",
      "parentUuid": "4bc24f1f_7c0f65d8",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc5ef5b_35cdb0c7",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 209,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-01-21T15:24:41Z",
      "side": 1,
      "message": "can insert an updateStorage() call here",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_1c1421e8",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 209,
      "author": {
        "id": 1121969
      },
      "writtenOn": "2015-01-21T15:50:48Z",
      "side": 1,
      "message": "I think that this need to be done at the very beginning of the function because the call to commitRegion below will only upload part of the image. See patch 4.",
      "parentUuid": "4bc5ef5b_35cdb0c7",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bc8f375_76a650c8",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 209,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-01-21T15:56:34Z",
      "side": 1,
      "message": "When we use setData we return immediately (see below). In the other case, we don\u0027t need to call updateStorage, since we\u0027re not using setData, and we use the images always for texture updates.",
      "parentUuid": "4bc24f1f_1c1421e8",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_5c338997",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 209,
      "author": {
        "id": 1121969
      },
      "writtenOn": "2015-01-21T16:01:16Z",
      "side": 1,
      "message": "My point is that if we don’t use setData, we still need to updateStorage otherwise we are going to upload only the subregion and forget about the rest of the dirty data in the image.",
      "parentUuid": "6bc8f375_76a650c8",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc5ef5b_75e008a2",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 209,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-01-21T16:44:44Z",
      "side": 1,
      "message": "Okay, I see your point. Can you come up with an example where this behaviour would become a bug? It\u0027s been our behaviour for a long time.",
      "parentUuid": "4bc24f1f_5c338997",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bc8f375_f6e2602d",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 306,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-01-21T15:24:41Z",
      "side": 1,
      "message": "and here",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b408f75_31acb8a6",
        "filename": "src/libANGLE/renderer/d3d/TextureD3D.cpp",
        "patchSetId": 3
      },
      "lineNbr": 306,
      "author": {
        "id": 1121969
      },
      "writtenOn": "2015-01-21T15:50:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6bc8f375_f6e2602d",
      "revId": "d86d6229d39f6d10711304c63d15273f89ef3e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}