{
  "comments": [
    {
      "key": {
        "uuid": "eadf1c13_959da50c",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 881,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-10-16T12:13:31Z",
      "side": 1,
      "message": "drive-by comment:\n\nyou should technically just need to call \u0027mapRangeImpl\u0027 and not need to call finish(). The mapRangeImpl call itself should know what to finish. Makes me think we might need an invalidate() call in mapRangeImpl as well.",
      "range": {
        "startLine": 881,
        "startChar": 34,
        "endLine": 881,
        "endChar": 37
      },
      "revId": "90253ef46d8ff58d42fdf61c93a8c5837a42af3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "428501eb_2edfe477",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 881,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-10-16T12:19:25Z",
      "side": 1,
      "message": "sorry, I was getting mixed up. I was thinking you would be calling map on the BufferVk itself, not the BufferHelper. You could consider working with the BufferVk if it makes the code cleaner, otherwise scratch that.",
      "parentUuid": "eadf1c13_959da50c",
      "range": {
        "startLine": 881,
        "startChar": 34,
        "endLine": 881,
        "endChar": 37
      },
      "revId": "90253ef46d8ff58d42fdf61c93a8c5837a42af3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5b9b532_3321a9ad",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 881,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2019-10-16T16:04:58Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "428501eb_2edfe477",
      "range": {
        "startLine": 881,
        "startChar": 34,
        "endLine": 881,
        "endChar": 37
      },
      "revId": "90253ef46d8ff58d42fdf61c93a8c5837a42af3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79c5dca4_9a92d90a",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 627,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-10-16T12:15:53Z",
      "side": 1,
      "message": "also I think you could structure this a bit differently. what happens if you change the if (bufferGL) statement to if (!isStreaming)",
      "range": {
        "startLine": 620,
        "startChar": 0,
        "endLine": 627,
        "endChar": 21
      },
      "revId": "90253ef46d8ff58d42fdf61c93a8c5837a42af3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19fed547_76897c37",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 627,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2019-10-16T16:04:58Z",
      "side": 1,
      "message": "Hmm, not sure that is saves anything. Would need a test for binding.getDivisor() \u003e renderer-\u003egetMaxVertexAttribDivisor() in the else clause and duplicate the assignment above if bufferGL is non-null.",
      "parentUuid": "79c5dca4_9a92d90a",
      "range": {
        "startLine": 620,
        "startChar": 0,
        "endLine": 627,
        "endChar": 21
      },
      "revId": "90253ef46d8ff58d42fdf61c93a8c5837a42af3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9da0f727_69b7810f",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 627,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-10-16T16:08:39Z",
      "side": 1,
      "message": "Don\u0027t think so. You\u0027re using the streaming buffers.",
      "parentUuid": "19fed547_76897c37",
      "range": {
        "startLine": 620,
        "startChar": 0,
        "endLine": 627,
        "endChar": 21
      },
      "revId": "90253ef46d8ff58d42fdf61c93a8c5837a42af3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13f9dc16_f7f4de77",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 627,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2019-10-16T16:26:27Z",
      "side": 1,
      "message": "I\u0027m sorry, I\u0027m not seeing it.\nYou are talking about changing the if at line 561, right?\nIf so, then we hit the else when either the divisor needs to be emulated OR there is no bufferGL.\nIf it\u0027s the divisor case, I need to check if there was a bufferGL and use that. Right?",
      "parentUuid": "9da0f727_69b7810f",
      "range": {
        "startLine": 620,
        "startChar": 0,
        "endLine": 627,
        "endChar": 21
      },
      "revId": "90253ef46d8ff58d42fdf61c93a8c5837a42af3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92213d05_8cb711ec",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 627,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-10-16T16:43:13Z",
      "side": 1,
      "message": "Sorry, don\u0027t quite follow what you\u0027re asking. You shouldn\u0027t need to set mCurrentArrayBuffers[attribIndex] if you\u0027re emulating the buffer. It will be overwritten later.",
      "parentUuid": "13f9dc16_f7f4de77",
      "range": {
        "startLine": 620,
        "startChar": 0,
        "endLine": 627,
        "endChar": 21
      },
      "revId": "90253ef46d8ff58d42fdf61c93a8c5837a42af3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "902f7704_7c429319",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 15
      },
      "lineNbr": 627,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2019-10-16T17:28:46Z",
      "side": 1,
      "message": "Ah okay, I couldn\u0027t see how we\u0027d leave mCurrentArrayBuffer* in the same state with the change you described but that\u0027s okay because it gets fixed up in updateStreamedAttribs.\nI\u0027ll give that a try.",
      "parentUuid": "92213d05_8cb711ec",
      "range": {
        "startLine": 620,
        "startChar": 0,
        "endLine": 627,
        "endChar": 21
      },
      "revId": "90253ef46d8ff58d42fdf61c93a8c5837a42af3c",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}