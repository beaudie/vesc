{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "99415565_39a33831",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2024-05-28T15:21:50Z",
      "side": 1,
      "message": "LGTM, thanks for contributing Antonio!",
      "revId": "16aac932f3ec4925901edae63c4f88ea206e9ac6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ef570a3_0a5409ce",
        "filename": "BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 1856,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2024-05-28T17:31:53Z",
      "side": 1,
      "message": "I think we need to guard this behind inclusion of the flag.  We should also move it up a bit.  Can you put this whole addition inside a `if (install_prefix !\u003d \"\")` block and move it above `group(\"angle\")`, see if that clears the bots.",
      "range": {
        "startLine": 1856,
        "startChar": 0,
        "endLine": 1856,
        "endChar": 28
      },
      "revId": "16aac932f3ec4925901edae63c4f88ea206e9ac6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91b5970e_cd9ca0ce",
        "filename": "BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 1856,
      "author": {
        "id": 3316531
      },
      "writtenOn": "2024-05-28T17:42:13Z",
      "side": 1,
      "message": "Ideally, the install actions should not run by default, meaning that I would expect to install only by explicitly running `ninja -C out install_angle`",
      "parentUuid": "5ef570a3_0a5409ce",
      "range": {
        "startLine": 1856,
        "startChar": 0,
        "endLine": 1856,
        "endChar": 28
      },
      "revId": "16aac932f3ec4925901edae63c4f88ea206e9ac6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4297c1c7_4b0b29ae",
        "filename": "BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 1856,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2024-05-28T17:54:22Z",
      "side": 1,
      "message": "I think what\u0027s happening is the bots are building *everything* possible.  You can recreate it by running ninja locally with no target:\n```\n$ autoninja -C out/AndroidFoo\nProxy started successfully.\nninja: Entering directory `out/AndroidFoo\u0027\n[29/4899] ACTION //:install_includes(//build/toolchain/linux:clang_x64)\nFAILED: gen/install_install_includes.stamp \npython3 ../../scripts/install_target.py --prefix  -I../../include\nusage: install_target.py [-h] [--name NAME] [--version VERSION]\n                         [--prefix PREFIX] [--libs LIBS [LIBS ...]]\n                         [-I INCLUDES [INCLUDES ...]]\ninstall_target.py: error: argument --prefix: expected one argument\n```\nI don\u0027t know if there are better ways in GN to hide targets.",
      "parentUuid": "91b5970e_cd9ca0ce",
      "range": {
        "startLine": 1856,
        "startChar": 0,
        "endLine": 1856,
        "endChar": 28
      },
      "revId": "16aac932f3ec4925901edae63c4f88ea206e9ac6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04aa2bdf_c6e7ea52",
        "filename": "BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 1856,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2024-05-29T17:35:06Z",
      "side": 1,
      "message": "Antonio, do you want to spend more time researching this, or okay guarding the target with the GN arg?  I\u0027ll land it if the latter.",
      "parentUuid": "4297c1c7_4b0b29ae",
      "range": {
        "startLine": 1856,
        "startChar": 0,
        "endLine": 1856,
        "endChar": 28
      },
      "revId": "16aac932f3ec4925901edae63c4f88ea206e9ac6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "176b57a9_53f858c2",
        "filename": "BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 1856,
      "author": {
        "id": 3316531
      },
      "writtenOn": "2024-05-30T09:58:36Z",
      "side": 1,
      "message": "I think we\u0027d need this: https://gn.googlesource.com/gn/+/main/docs/reference.md#the-all-and-default-rules\n\nMeaning, creating a \"default\" target in BUILD.gn, which needs to list all targets which are meant to build by default. So, if this list is well-known and not too big, it\u0027s maybe doable. Otherwise, I\u0027m fine with guarding the target.",
      "parentUuid": "4297c1c7_4b0b29ae",
      "range": {
        "startLine": 1856,
        "startChar": 0,
        "endLine": 1856,
        "endChar": 28
      },
      "revId": "16aac932f3ec4925901edae63c4f88ea206e9ac6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c6bd6f6b_4fb5db8e",
        "filename": "BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 1856,
      "author": {
        "id": 3316531
      },
      "writtenOn": "2024-05-31T07:42:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "176b57a9_53f858c2",
      "range": {
        "startLine": 1856,
        "startChar": 0,
        "endLine": 1856,
        "endChar": 28
      },
      "revId": "16aac932f3ec4925901edae63c4f88ea206e9ac6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f2230b8_f69b738f",
        "filename": "BUILD.gn",
        "patchSetId": 4
      },
      "lineNbr": 1856,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2024-05-31T14:55:19Z",
      "side": 1,
      "message": "I think it is okay to keep it as is.  We guard other targets, but typically with boolean.",
      "parentUuid": "176b57a9_53f858c2",
      "range": {
        "startLine": 1856,
        "startChar": 0,
        "endLine": 1856,
        "endChar": 28
      },
      "revId": "16aac932f3ec4925901edae63c4f88ea206e9ac6",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}