{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cff4eb9d_3190b94c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2021-01-15T01:49:09Z",
      "side": 1,
      "message": "PTAL",
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b76ea691_5abb5af4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-19T20:55:48Z",
      "side": 1,
      "message": "Looks like some legit Android failures.",
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25ffad8b_5bcd4a3c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2021-01-23T19:02:58Z",
      "side": 1,
      "message": "There is a subtle difference that was missed, it looks like on non-Android platforms there is a distinction between “GetGlobalContext” and “GetValidGlobalContext”.\nFrom the name it looks like it is just a validation check that is the difference between the 2 but they are in fact retrieving context from 2 different global objects.\n\nGetGlobalContext(…) gets it from the global thread object (gCurrentThread) while GetValidGlobalContext(…) gets it from the global context var (gCurrentValidContext).\nGiven that Android TLS based path doesn’t have this distinction there was in fact no gap that needed to be plugged (or put another way, we were accidentally fine)\n\nWe now have 2 paths –\n 1) just remove the part in Context.cpp where we reset Android TLS state to nullptr and land the change since the decoupling is beneficial\n\n 2) update just the comment in Context.cpp to say we are resetting just “gCurrentValidContext” and not the TLS (I am still unclear about the value add of setting gCurrentValidContext to nullptr)\n\nWDYT?",
      "parentUuid": "b76ea691_5abb5af4",
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4caff9c_59938a34",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-26T21:32:53Z",
      "side": 1,
      "message": "Either sounds fine ... there was no error?",
      "parentUuid": "25ffad8b_5bcd4a3c",
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "efa75356_deb79161",
        "filename": "src/common/android_tls.h",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-15T13:50:45Z",
      "side": 1,
      "message": "nit: having a function named Android inside an android namespace is redundant, you can eliminate either the extra naming or the namespace. suggestion: get rid of the namespace.",
      "range": {
        "startLine": 86,
        "startChar": 26,
        "endLine": 86,
        "endChar": 46
      },
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3482414_b9bae359",
        "filename": "src/common/android_tls.h",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2021-01-15T17:54:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "efa75356_deb79161",
      "range": {
        "startLine": 86,
        "startChar": 26,
        "endLine": 86,
        "endChar": 46
      },
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abd03053_bf3ad1fc",
        "filename": "src/common/android_tls.h",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-01-15T04:40:29Z",
      "side": 1,
      "message": "How about?\n\n    #else\n        UNREACHABLE();",
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8190c3b_e5abb83f",
        "filename": "src/common/android_tls.h",
        "patchSetId": 2
      },
      "lineNbr": 98,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2021-01-15T17:54:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "abd03053_bf3ad1fc",
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ecc8707_e602f859",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-01-15T13:50:45Z",
      "side": 1,
      "message": "nit: I don\u0027t think you need this.",
      "range": {
        "startLine": 41,
        "startChar": 19,
        "endLine": 41,
        "endChar": 25
      },
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d8d54b79_aa9d10e2",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2021-01-15T17:54:55Z",
      "side": 1,
      "message": "i need that for access to \"angle::gUseAndroidOpenGLTlsSlot\"",
      "parentUuid": "3ecc8707_e602f859",
      "range": {
        "startLine": 41,
        "startChar": 19,
        "endLine": 41,
        "endChar": 25
      },
      "revId": "3a458630702b1fdb25f8fd5c97b3b8f86a4e2410",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}