{
  "comments": [
    {
      "key": {
        "uuid": "36d38fdf_067eb122",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 10
      },
      "lineNbr": 4915,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2020-01-31T20:08:19Z",
      "side": 1,
      "message": "Does it cause any failures to just set the unclamped values always?  From your comment it sounds like D3D and GL will do the right thing when given unclamped values.\n\nIt\u0027s undesireable to set the GL state differently based on the extensions, querying these values would be inconstant.  I would prefer to never clamp here and then clamp in the backends when needed.  I guess there are no tests covering the querying.",
      "range": {
        "startLine": 4915,
        "startChar": 3,
        "endLine": 4915,
        "endChar": 50
      },
      "revId": "91fe1d501628f462eca1c7cf9dd506e4bc2ae9e3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d5c96a6_bed8cf49",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 10
      },
      "lineNbr": 4915,
      "author": {
        "id": 1184734
      },
      "writtenOn": "2020-02-04T20:29:11Z",
      "side": 1,
      "message": "Unfortunately, I believe that branching here is what\u0027s needed for the correct behavior in WebGL. (I\u0027ll ping Ken) WebGL needs to have this behavior:\n```\nglBlendColor(2.0f, 0, 0, 0);\nglEnableExtension(EXT_color_buffer_half_float)\nfloat cur[4];\nglGetFloatv(GL_BLEND_COLOR, \u0026cur);\nassert(cur[0] \u003d\u003d 1.0f);\nglBlendColor(2.0f, 0, 0, 0);\nglGetFloatv(GL_BLEND_COLOR, \u0026cur);\nassert(cur[0] \u003d\u003d 2.0f);\n```",
      "parentUuid": "36d38fdf_067eb122",
      "range": {
        "startLine": 4915,
        "startChar": 3,
        "endLine": 4915,
        "endChar": 50
      },
      "revId": "91fe1d501628f462eca1c7cf9dd506e4bc2ae9e3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec976966_94feb86a",
        "filename": "src/libANGLE/Context.cpp",
        "patchSetId": 10
      },
      "lineNbr": 4915,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2020-02-04T22:34:32Z",
      "side": 1,
      "message": "Hmm. Actually, testing that in Chrome today, WebGL lets the application set the blend color to (2.0, 0.0, 0.0, 0.0) and the query of getParameter(gl.BLEND_COLOR) reports [2.0, 0.0, 0.0, 0.0]. There probably aren\u0027t conformance / rendering tests covering this; let\u0027s file an issue on KhronosGroup/WebGL and write some. I think it would be fine to clamp in the backends as Geoff suggests.",
      "parentUuid": "1d5c96a6_bed8cf49",
      "range": {
        "startLine": 4915,
        "startChar": 3,
        "endLine": 4915,
        "endChar": 50
      },
      "revId": "91fe1d501628f462eca1c7cf9dd506e4bc2ae9e3",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}