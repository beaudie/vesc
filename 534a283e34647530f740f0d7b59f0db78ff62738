{
  "comments": [
    {
      "key": {
        "uuid": "5387382e_1922a753",
        "filename": "src/libANGLE/Program.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1794,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2020-03-16T22:48:01Z",
      "side": 1,
      "message": "nit: Could put this test outside the if.",
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac195a1f_5396b474",
        "filename": "src/libANGLE/Program.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1794,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-03-16T23:15:43Z",
      "side": 1,
      "message": "Will do.",
      "parentUuid": "5387382e_1922a753",
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5d7a544_efbe68df",
        "filename": "src/libANGLE/Program.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1794,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-03-16T23:32:57Z",
      "side": 1,
      "message": "This actually only called from program link time, so perf not that important. Instead of duplicate these lines, I just cached isCompute() to local const variable.",
      "parentUuid": "ac195a1f_5396b474",
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "441ac5d8_739b108a",
        "filename": "src/libANGLE/Program.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1794,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2020-03-16T23:56:15Z",
      "side": 1,
      "message": "I was thinking, outside the loop:\nShaderBitSet shaderBits(imageBinding.shaderBit);\nif (isCompute())\n   shaderBits \u003d ShaderBitSet.set(gl::ShaderType::Compute);\n\ninside the loop just have:\n...\n   mActiveImageDhaderBits[imageUnit] \u003d shaderBits;",
      "parentUuid": "e5d7a544_efbe68df",
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16276000_f84e2eb7",
        "filename": "src/libANGLE/Program.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1794,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-03-17T00:29:03Z",
      "side": 1,
      "message": "Thanks Courtney. Most usage case the inner for loop will be just loop once since single element uniform is far popular than array. If I do what you said, in single element case, it will be two assignment instead of one, which will be more expensive. But either way, I think this is minor thing here. Unless you have strong preference, I will leave this one as is.",
      "parentUuid": "441ac5d8_739b108a",
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2dc9e842_6355e847",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1250,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2020-03-16T22:48:01Z",
      "side": 1,
      "message": "It\u0027s not obvious to me what shaderBits[gl::ShaderType::Vertex] returns.\nWhat happens if the Vertex and Fragment bits are set? Will this be true here?\nIs that the right answer?",
      "range": {
        "startLine": 1250,
        "startChar": 16,
        "endLine": 1250,
        "endChar": 50
      },
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6757401_29509ecf",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1250,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-03-16T23:15:43Z",
      "side": 1,
      "message": "If multiple bits are set, it will barrier on the earliest bit.",
      "parentUuid": "2dc9e842_6355e847",
      "range": {
        "startLine": 1250,
        "startChar": 16,
        "endLine": 1250,
        "endChar": 50
      },
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf732566_c98b3e45",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1250,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-03-16T23:32:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e6757401_29509ecf",
      "range": {
        "startLine": 1250,
        "startChar": 16,
        "endLine": 1250,
        "endChar": 50
      },
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6345580a_028f8b6b",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1259,
      "author": {
        "id": 1263724
      },
      "writtenOn": "2020-03-16T22:48:01Z",
      "side": 1,
      "message": "If this is not an expected path, probably want UNREACHABLE();?\nIf is valid path, should this be vk::ImageLayout::AllGraphicsShadersReadOnly?",
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "342055ec_0d30a4ac",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1259,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-03-16T23:15:43Z",
      "side": 1,
      "message": "I thought it is unreachable, but the compute test was hitting the else path in the updateActiveImages(). I am fine with either way.",
      "parentUuid": "6345580a_028f8b6b",
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e3817b5_b7b90042",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 6
      },
      "lineNbr": 1259,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-03-16T23:32:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "342055ec_0d30a4ac",
      "revId": "534a283e34647530f740f0d7b59f0db78ff62738",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}