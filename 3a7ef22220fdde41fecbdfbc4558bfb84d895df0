{
  "comments": [
    {
      "key": {
        "uuid": "92240cc4_29621f66",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 2074,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2020-03-30T23:57:35Z",
      "side": 1,
      "message": "Here, if on android, then not using Recycler. Because when used with Android Native Fence, we need this VkFence to generate a FD and that requires the VkExportFenceCreateInfo at time VkFence is created. So Reset/Recycle and reuse is not compatible.",
      "revId": "3a7ef22220fdde41fecbdfbc4558bfb84d895df0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6197d8f9_28e50e7e",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 27,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2020-03-30T23:57:35Z",
      "side": 1,
      "message": "SyncHelperFence same as SyncHelper was before.",
      "revId": "3a7ef22220fdde41fecbdfbc4558bfb84d895df0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "315d39f0_2ccb06ac",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 224,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2020-03-30T23:57:35Z",
      "side": 1,
      "message": "Valid use case with EGL. But doesn\u0027t make sense with extension and Vulkan.",
      "revId": "3a7ef22220fdde41fecbdfbc4558bfb84d895df0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "719e133f_b23a0f4c",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 378,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2020-03-30T23:57:35Z",
      "side": 1,
      "message": "Depending on FD \u003d\u003d -1 or is valid FD determines if we use VkFence or VkSemaphore.",
      "revId": "3a7ef22220fdde41fecbdfbc4558bfb84d895df0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f62c768_8138bc44",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.h",
        "patchSetId": 5
      },
      "lineNbr": 26,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2020-03-30T23:57:35Z",
      "side": 1,
      "message": "I changed SyncHelper into SyncHelperImpl - a interface. So that I could have 2 implementations - one for Fences (glFenceSync, EGLSync(EGL_SYNC_FENCE) and EGLSync(EGL_SYNC_ANDROID_NATIVE_FENCE).\n\nThe old SyncHelp became SyncHelper Fence - and uses VkFence as before. Except when on Android. then we have the fence automatically generate a FD so that eglDupNativeFenceAndroid can export that dup()\u0027d FD.\n\nA new implementation SyncHelperSemaphore is just for the case where using Android Native Fence where a valid FD comes from another source. So here VkSemaphore is needed as a waitSemaphore to vkQueueSubmit(). So we need to import that FD as soon as the VkSemaphore is created.",
      "revId": "3a7ef22220fdde41fecbdfbc4558bfb84d895df0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb35c7ab_50505227",
        "filename": "src/libANGLE/renderer/vulkan/vk_wrapper.h",
        "patchSetId": 5
      },
      "lineNbr": 429,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2020-03-30T23:57:35Z",
      "side": 1,
      "message": "importFd() not required.",
      "revId": "3a7ef22220fdde41fecbdfbc4558bfb84d895df0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df50ef9e_707e79fb",
        "filename": "src/libANGLE/renderer/vulkan/vk_wrapper.h",
        "patchSetId": 5
      },
      "lineNbr": 585,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2020-03-30T23:57:35Z",
      "side": 1,
      "message": "getFd() not required.",
      "revId": "3a7ef22220fdde41fecbdfbc4558bfb84d895df0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75d0015b_26173917",
        "filename": "src/tests/egl_tests/EGLSyncTest.cpp",
        "patchSetId": 5
      },
      "lineNbr": 253,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2020-03-30T23:57:35Z",
      "side": 1,
      "message": "Simulate passing FDs across processes by passing across contexts.",
      "revId": "3a7ef22220fdde41fecbdfbc4558bfb84d895df0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}