{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c89bf2d1_8e4b5380",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 19
      },
      "lineNbr": 0,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2022-08-23T21:16:55Z",
      "side": 1,
      "message": "Thanks for this change!  Sorry to take so long to review it!\n\nA few minor things.  Please respond before landing.",
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da6ea8a1_fff596f1",
        "filename": "extensions/EGL_ANGLE_timestamp_surface_attribute.txt",
        "patchSetId": 19
      },
      "lineNbr": 42,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2022-08-23T21:16:55Z",
      "side": 1,
      "message": "Please explain how it\u0027s narrowed.",
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77f596b1_e7b6b4d4",
        "filename": "extensions/EGL_ANGLE_timestamp_surface_attribute.txt",
        "patchSetId": 19
      },
      "lineNbr": 42,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2022-08-23T21:24:01Z",
      "side": 1,
      "message": "the following sentence provides how the narrowing is done -\n\n and only allows for toggling the EGL_TIMESTAMPS_ANDROID attribute of a surface.\n \nis there other verbiage you would prefer? or would it be better to say -\n\n by only allowing for toggling the EGL_TIMESTAMPS_ANDROID attribute of a surface.",
      "parentUuid": "da6ea8a1_fff596f1",
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5f80abc_bb22a345",
        "filename": "extensions/EGL_ANGLE_timestamp_surface_attribute.txt",
        "patchSetId": 19
      },
      "lineNbr": 42,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2022-08-23T21:51:39Z",
      "side": 1,
      "message": "Perhaps I\u0027m missing something, but I\u0027m wondering if we need this sentence.  In fact, do we need the extension (as opposed to just the feature flag)?  I\u0027ll explain.\n\nI\u0027ve looked at the EGL spec, the `EGL_ANDROID_get_frame_timestamps` spec, and the code.  The `EGL_ANDROID_get_frame_timestamps` spec defines that `EGL_TIMESTAMPS_ANDROID` is for `eglSurfaceAttrib`.  This CL doesn\u0027t do anything new to restrict the use of `EGL_TIMESTAMPS_ANDROID`.  This CL definitely fixes the problem w.r.t. recreating the swapchain.  However, I don\u0027t see any restriction of the ``",
      "parentUuid": "77f596b1_e7b6b4d4",
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7361feab_fd423992",
        "filename": "extensions/EGL_ANGLE_timestamp_surface_attribute.txt",
        "patchSetId": 19
      },
      "lineNbr": 42,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2022-08-23T21:57:27Z",
      "side": 1,
      "message": "without the new extension the validation code in `validationEGL.cpp` errors out on all platforms that do not support `EGL_ANDROID_get_frame_timestamps`\n\nInitially i had a kludgy way of using just feature, see PS1 here -\u003e https://chromium-review.googlesource.com/c/angle/angle/+/3753396/1/src/libANGLE/validationEGL.cpp\n\nbut shabi suggested it would be cleaner to create an extension and check for that instead of checking for feature in validation code",
      "parentUuid": "d5f80abc_bb22a345",
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf1f43c2_cbf08e04",
        "filename": "extensions/EGL_ANGLE_timestamp_surface_attribute.txt",
        "patchSetId": 19
      },
      "lineNbr": 42,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2022-08-23T22:01:50Z",
      "side": 1,
      "message": "also, note that `EGL_ANDROID_get_frame_timestamps` allows for much more than just toggling `EGL_TIMESTAMPS_ANDROID` state, it adds new functions like -\n     eglGetNextFrameIdANDROID\n     eglGetCompositorTimingANDROID\n     eglGetFrameTimestampsANDROID\n     eglGetFrameTimestampSupportedANDROID\n     \nthe new extension doesn\u0027t need any of this since the AOSP libEGL wrapper handles all of those. The only thing we need is caching `EGL_TIMESTAMPS_ANDROID` state which is what the new extension allows / defines",
      "parentUuid": "7361feab_fd423992",
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a354bc7_76aa4f31",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 19
      },
      "lineNbr": 1407,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2022-08-23T21:16:55Z",
      "side": 1,
      "message": "nit: Since `vkGetPastPresentationTimingGOOGLE` returns a VkResult, this should be within the `ANGLE_VK_TRY` macro.",
      "range": {
        "startLine": 1407,
        "startChar": 8,
        "endLine": 1407,
        "endChar": 41
      },
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7081de5d_6fcfbce7",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 19
      },
      "lineNbr": 1407,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2022-08-23T22:05:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a354bc7_76aa4f31",
      "range": {
        "startLine": 1407,
        "startChar": 8,
        "endLine": 1407,
        "endChar": 41
      },
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26f65bc0_6747fb92",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.h",
        "patchSetId": 19
      },
      "lineNbr": 304,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2022-08-23T21:16:55Z",
      "side": 1,
      "message": "I don\u0027t think this is used.  It also doesn\u0027t do anything.  Can we delete it?",
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49d11543_35db7353",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.h",
        "patchSetId": 19
      },
      "lineNbr": 304,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2022-08-23T21:24:01Z",
      "side": 1,
      "message": "without this i we get an error due to `SurfaceImpl::setTimestampsEnabled`",
      "parentUuid": "26f65bc0_6747fb92",
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48b6fc4b_6d09c7a5",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.h",
        "patchSetId": 19
      },
      "lineNbr": 304,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2022-08-23T21:51:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "49d11543_35db7353",
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6712081_06cf637f",
        "filename": "src/tests/egl_tests/EGLSurfaceTest.cpp",
        "patchSetId": 19
      },
      "lineNbr": 1662,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2022-08-23T21:16:55Z",
      "side": 1,
      "message": "Is this a logical-OR, or should it be a logical-AND?",
      "range": {
        "startLine": 1662,
        "startChar": 83,
        "endLine": 1662,
        "endChar": 85
      },
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b89d3326_30ae9e0d",
        "filename": "src/tests/egl_tests/EGLSurfaceTest.cpp",
        "patchSetId": 19
      },
      "lineNbr": 1662,
      "author": {
        "id": 1340649
      },
      "writtenOn": "2022-08-23T21:24:01Z",
      "side": 1,
      "message": "intended to be `||`. The test can run if either of the following condition is true -\n1. `EGL_ANDROID_get_frame_timestamps` is supported (on Android with GLES backend)\n2. `EGL_ANGLE_timestamp_surface_attribute` is supported (on Android with Vulkan backend)",
      "parentUuid": "d6712081_06cf637f",
      "range": {
        "startLine": 1662,
        "startChar": 83,
        "endLine": 1662,
        "endChar": 85
      },
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09795d93_000fea5f",
        "filename": "src/tests/egl_tests/EGLSurfaceTest.cpp",
        "patchSetId": 19
      },
      "lineNbr": 1662,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2022-08-23T21:51:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b89d3326_30ae9e0d",
      "range": {
        "startLine": 1662,
        "startChar": 83,
        "endLine": 1662,
        "endChar": 85
      },
      "revId": "b603b599b059fb272ba44cfa8258aea6167d3983",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}