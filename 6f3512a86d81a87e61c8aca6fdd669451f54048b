{
  "comments": [
    {
      "key": {
        "uuid": "925a113d_ea14cf46",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1117350
      },
      "writtenOn": "2020-09-24T17:05:04Z",
      "side": 1,
      "message": "Ping. Geoff or Jonah, can you take a look?",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d32076b4_aebe65c8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2020-09-24T22:53:04Z",
      "side": 1,
      "message": "Thanks, the helper functions make the code easier to read. Still LGTM\n",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c82b0de_1addfcea",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2020-09-25T13:25:37Z",
      "side": 1,
      "message": "I think it\u0027s likely you will hit this case: https://source.chromium.org/chromium/chromium/src/+/master:third_party/angle/src/libANGLE/Context.cpp;l\u003d3208;drc\u003d68a5baeb5ba08575c2a3a6e31a0bd8eb4b39d4de and the extension will be disabled on iOS because colorBufferFloat is not present.",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5d949fa8_e4399829",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1117350
      },
      "writtenOn": "2020-09-25T20:31:28Z",
      "side": 1,
      "message": "Thanks for the pointer! It sounds like this is a workaround for a bug in dEQP, is that right? In that case I can disable it for WebGL contexts. Let me know if that sounds like the right thing.\n\nDoesn\u0027t this make colorBufferHalfFloat mostly redundant for ES3 contexts though?",
      "parentUuid": "0c82b0de_1addfcea",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6394c0a6_dbf8e40e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2020-09-25T20:37:20Z",
      "side": 1,
      "message": "I didn\u0027t know about the blitting functionality that EXT_color_buffer_float supplies but EXT_color_buffer_half_float doesn\u0027t.\n\nWhy does this make EXT_color_buffer_half_float redundant for ES3 contexts though? Without some analogue of it, there\u0027s no way to render to FP16 targets in ES3 contexts that support EXT_color_buffer_half_float but not EXT_color_buffer_float.",
      "parentUuid": "5d949fa8_e4399829",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ea22448_c80ea82b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1117350
      },
      "writtenOn": "2020-09-25T20:40:54Z",
      "side": 1,
      "message": "The code in question is forbidding an ES3 context from supporting EXT_color_buffer_half_float if it doesn\u0027t also support EXT_color_buffer_float.",
      "parentUuid": "6394c0a6_dbf8e40e",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a098bf4_2430b4b3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1105344
      },
      "writtenOn": "2020-09-25T20:47:33Z",
      "side": 1,
      "message": "Understood. That restriction would have to be relaxed for ES3 contexts in WebGL compatibility mode.\n\nDid this patch when deployed on the iOS Simulator in WebKit pass the EXT_color_buffer_half_float rendering tests?",
      "parentUuid": "7ea22448_c80ea82b",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d88c08ae_ff8408eb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1117350
      },
      "writtenOn": "2020-09-25T22:31:23Z",
      "side": 1,
      "message": "It passes the conformance test I wrote on their bots but that doesn\u0027t prove that the extension is available. WebKit doesn\u0027t have extension availability tests, unfortunately. I\u0027ll modify the test to fail if the extension isn\u0027t exposed and run that through their bots; that will check both the simulator and real iOS devices.",
      "parentUuid": "8a098bf4_2430b4b3",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0a74c49_a001ae32",
        "filename": "src/libANGLE/formatutils.cpp",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2020-09-25T13:25:37Z",
      "side": 1,
      "message": "Could you add comments to some of these new validation cases? Especially if they are WebGL specific, it will be hard to remember why we allow certain formats.",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95309ac2_7fb11887",
        "filename": "src/libANGLE/formatutils.cpp",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1117350
      },
      "writtenOn": "2020-09-25T20:31:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a0a74c49_a001ae32",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e407e84e_cd7d8c7f",
        "filename": "src/libANGLE/validationES2.cpp",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2020-09-25T13:25:37Z",
      "side": 1,
      "message": "Do you remember why you needed to modify this file? It should only be called when validating ES2 contexts. Missing WebGL1 validation?",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "002ddc32_ad12334b",
        "filename": "src/libANGLE/validationES2.cpp",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1117350
      },
      "writtenOn": "2020-09-25T20:31:28Z",
      "side": 1,
      "message": "Yes, the extension is available in WebGL 1 as well and it doesn\u0027t work without these changes.",
      "parentUuid": "e407e84e_cd7d8c7f",
      "revId": "6f3512a86d81a87e61c8aca6fdd669451f54048b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}