{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9b2e55a7_556efc9b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-30T18:19:30Z",
      "side": 1,
      "message": "Thanks. We\u0027re back to what ANGLE had in the past. I figured using the fence would make the logic simpler between with and without maint1, but the code looks actually simpler now.",
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "512804e4_22276bcc",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2099,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-30T18:19:30Z",
      "side": 1,
      "message": "```suggestion\n        // Associate swapSerial of this present with the previous present of the same imageIndex.\n```",
      "range": {
        "startLine": 2099,
        "startChar": 66,
        "endLine": 2099,
        "endChar": 72
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1b7ebeb_32945ee2",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2099,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-05-31T11:03:01Z",
      "side": 1,
      "message": "Thanks!",
      "parentUuid": "512804e4_22276bcc",
      "range": {
        "startLine": 2099,
        "startChar": 66,
        "endLine": 2099,
        "endChar": 72
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fad784d1_7de394c5",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2099,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-05-31T13:54:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e1b7ebeb_32945ee2",
      "range": {
        "startLine": 2099,
        "startChar": 66,
        "endLine": 2099,
        "endChar": 72
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7438ee92_361ab56a",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2102,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-05-30T20:59:17Z",
      "side": 1,
      "message": "These two sentence is a bit odd/confusing to read, maybe want to consider reword (or delete it).",
      "range": {
        "startLine": 2100,
        "startChar": 83,
        "endLine": 2102,
        "endChar": 61
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7e6e91b_e2c79c3f",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2102,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-05-31T11:03:01Z",
      "side": 1,
      "message": "I will try.",
      "parentUuid": "7438ee92_361ab56a",
      "range": {
        "startLine": 2100,
        "startChar": 83,
        "endLine": 2102,
        "endChar": 61
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b10de180_1af4d1de",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2102,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-05-31T13:54:00Z",
      "side": 1,
      "message": "Added reference to the document, instead of repetition.",
      "parentUuid": "c7e6e91b_e2c79c3f",
      "range": {
        "startLine": 2100,
        "startChar": 83,
        "endLine": 2102,
        "endChar": 61
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3a8369b_75ba49c2",
        "filename": "src/libANGLE/renderer/vulkan/doc/PresentSemaphores.md",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-30T18:19:30Z",
      "side": 1,
      "message": "```suggestion\nANI fence can be used instead of QueueSerial with dependency on ANI semaphore,\nhowever bugs have been observed on some implementations with Shared Present Mode\nwhere the ANI semaphore/fence are always signaled.\n```",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72731393_661b7f07",
        "filename": "src/libANGLE/renderer/vulkan/doc/PresentSemaphores.md",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-05-31T11:03:01Z",
      "side": 1,
      "message": "Suggested comment changes the meaning. Original comment used semicolon (;) to list problems.\n\nThere two different problems:\n1. bugs with ANI Fences regardless of the present mode.\n2. and using ANI Fence will not work in Shared Present Mode. And it is not a bug, because ANI is not even required in SPM, so the fact that ANI semaphore is signaled if we do call ANI - is expected.\n\nMy previous CL fixed second problem using Virtual Image Index: https://chromium-review.googlesource.com/c/angle/angle/+/4481252?usp\u003ddashboard\nWith this CL separate fix for SPM problem is not required. It is a happy bonus from not using ANI Fences)",
      "parentUuid": "e3a8369b_75ba49c2",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c25af5c9_8230c268",
        "filename": "src/libANGLE/renderer/vulkan/doc/PresentSemaphores.md",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-31T13:16:34Z",
      "side": 1,
      "message": "Ok thanks, the clarification is useful in the text:\n\n```suggestion\nANI fence cannot always be used instead of QueueSerial with dependency on ANI\nsemaphore. This is because with Shared Present mode, the fence and semaphore are\nexpected to be already signaled on the second and later ANI calls.\n```\n\nWe don\u0027t really need to mention driver bugs in the high level documentation IMO, ANI fences already don\u0027t work because of SPM",
      "parentUuid": "72731393_661b7f07",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d04f7ab_5b9c4fe0",
        "filename": "src/libANGLE/renderer/vulkan/doc/PresentSemaphores.md",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-05-31T13:24:56Z",
      "side": 1,
      "message": "I understand. Will update the documentation.\n\nIt just for me the motivation to remove ANI Fence was bugs and not and SPM. Fix of SPM was a surprise, as well as a simpler overall implementation at the end).",
      "parentUuid": "c25af5c9_8230c268",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f971427f_eced98dc",
        "filename": "src/libANGLE/renderer/vulkan/doc/PresentSemaphores.md",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-05-31T13:27:22Z",
      "side": 1,
      "message": "Happy coincidences all around ðŸ˜Š",
      "parentUuid": "5d04f7ab_5b9c4fe0",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "258cda0d_2ab66c43",
        "filename": "src/libANGLE/renderer/vulkan/doc/PresentSemaphores.md",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-05-31T13:54:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f971427f_eced98dc",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "79b1411152eb5d1a0803813ab8d30765068a3063",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}