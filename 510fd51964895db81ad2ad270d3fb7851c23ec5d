{
  "comments": [
    {
      "key": {
        "uuid": "eca7d583_1346cf35",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 683,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-06-13T03:41:25Z",
      "side": 1,
      "message": "I suggest doing this for all these #ifndefs:\n\n    #if !ANGLE_USE_CUSTOM_VULKAN_CMD_BUFFERS\n\nThe ! makes it clearer that this is negated, as opposed to the n in the middle of the preprocessor directive.  What\u0027s more, we expect\n\n    #define ANGLE_USE_CUSTOM_VULKAN_CMD_BUFFERS 0\n\nto have the same effect as not #defining the symbol, in which case #ifndef would be incorrect.",
      "range": {
        "startLine": 683,
        "startChar": 0,
        "endLine": 683,
        "endChar": 43
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ae7c697_8d1b3e28",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 683,
      "author": {
        "id": 1351342
      },
      "writtenOn": "2019-06-13T16:29:26Z",
      "side": 1,
      "message": "Thank you for the suggestion. Yeah, `#if !`  makes it more clearly and also good to know about our `#define` rules",
      "parentUuid": "eca7d583_1346cf35",
      "range": {
        "startLine": 683,
        "startChar": 0,
        "endLine": 683,
        "endChar": 43
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6639bf39_2c968119",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 711,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-06-13T03:41:25Z",
      "side": 1,
      "message": "\"... Vulkan-native secondary command buffers are used.\"\n\nThe command buffer is not stored on the GPU (but rather the driver)",
      "range": {
        "startLine": 711,
        "startChar": 38,
        "endLine": 711,
        "endChar": 84
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e4a0a87_c984c11a",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 711,
      "author": {
        "id": 1351342
      },
      "writtenOn": "2019-06-13T16:29:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6639bf39_2c968119",
      "range": {
        "startLine": 711,
        "startChar": 38,
        "endLine": 711,
        "endChar": 84
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "00798d4a_60fbd2ad",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 2133,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-06-13T19:12:05Z",
      "side": 1,
      "message": "rather than ifdef here maybe you can check if the command pool is valid? I\u0027d like to minimize our use of compile time flags.",
      "range": {
        "startLine": 2130,
        "startChar": 0,
        "endLine": 2133,
        "endChar": 6
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85302c23_99fe4803",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 7,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-06-13T03:41:25Z",
      "side": 1,
      "message": "Same here",
      "range": {
        "startLine": 7,
        "startChar": 39,
        "endLine": 7,
        "endChar": 60
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58aa62c6_6cdb209e",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 7,
      "author": {
        "id": 1351342
      },
      "writtenOn": "2019-06-13T16:29:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "85302c23_99fe4803",
      "range": {
        "startLine": 7,
        "startChar": 39,
        "endLine": 7,
        "endChar": 60
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e66927b0_82c70dad",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 37,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-06-13T03:41:25Z",
      "side": 1,
      "message": "You can say `return allocateCommandBuffers...` here and avoid `ANGLE_TRY` followed by `return Continue`",
      "range": {
        "startLine": 37,
        "startChar": 4,
        "endLine": 37,
        "endChar": 14
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a057e1c1_ab2539b3",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 37,
      "author": {
        "id": 1351342
      },
      "writtenOn": "2019-06-13T16:29:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e66927b0_82c70dad",
      "range": {
        "startLine": 37,
        "startChar": 4,
        "endLine": 37,
        "endChar": 14
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9b4ab96_a066f38c",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 37,
      "author": {
        "id": 1351342
      },
      "writtenOn": "2019-06-13T16:29:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e66927b0_82c70dad",
      "range": {
        "startLine": 37,
        "startChar": 4,
        "endLine": 37,
        "endChar": 14
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "983736c4_0b7c2f1f",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 53,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-06-13T03:41:25Z",
      "side": 1,
      "message": "`cmdBuf.destroy(device, mCommandPool)` should do the trick.",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 53,
        "endChar": 31
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02cd9b01_381d0aba",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 53,
      "author": {
        "id": 1351342
      },
      "writtenOn": "2019-06-13T16:29:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "983736c4_0b7c2f1f",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 53,
        "endChar": 31
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16675c56_c7d137eb",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 53,
      "author": {
        "id": 1351342
      },
      "writtenOn": "2019-06-13T16:29:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "983736c4_0b7c2f1f",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 53,
        "endChar": 31
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7624da3a_e4b6c591",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 109,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-06-13T03:41:25Z",
      "side": 1,
      "message": "Some of our tests may be hitting such a limit, if they flush like crazy. I would be ok with an ASSERT like this for temporary verification that everything is ok, but generally such a thing is not needed.\n\nWe previously had such an ASSERT with the size of in-flight batches as stored in ContextVk. That limit kept growing until we realized the ASSERT doesn\u0027t make sense.",
      "range": {
        "startLine": 109,
        "startChar": 35,
        "endLine": 109,
        "endChar": 37
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9af464e_56567e7b",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.cpp",
        "patchSetId": 11
      },
      "lineNbr": 109,
      "author": {
        "id": 1351342
      },
      "writtenOn": "2019-06-13T16:29:26Z",
      "side": 1,
      "message": "Thank you for the information! I will remove it.",
      "parentUuid": "7624da3a_e4b6c591",
      "range": {
        "startLine": 109,
        "startChar": 35,
        "endLine": 109,
        "endChar": 37
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "193c3b50_58d6f6eb",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.h",
        "patchSetId": 11
      },
      "lineNbr": 7,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-06-13T03:41:25Z",
      "side": 1,
      "message": "No longer there",
      "range": {
        "startLine": 7,
        "startChar": 38,
        "endLine": 7,
        "endChar": 61
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5627f51_6d2ffb91",
        "filename": "src/libANGLE/renderer/vulkan/PersistentCommandPool.h",
        "patchSetId": 11
      },
      "lineNbr": 7,
      "author": {
        "id": 1351342
      },
      "writtenOn": "2019-06-13T16:29:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "193c3b50_58d6f6eb",
      "range": {
        "startLine": 7,
        "startChar": 38,
        "endLine": 7,
        "endChar": 61
      },
      "revId": "510fd51964895db81ad2ad270d3fb7851c23ec5d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}