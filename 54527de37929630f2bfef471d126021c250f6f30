{
  "comments": [
    {
      "key": {
        "uuid": "88c87293_0ef57d1a",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 681,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-06T18:26:16Z",
      "side": 1,
      "message": "I looked around at this flag, we shouldn\u0027t need it.\n\nhttps://stackoverflow.com/questions/18040810/what-is-the-purpose-of-using-stdios-basetrunc-flag-with-stdios-baseout/18040902\n\n\"The point of std::ios_base::trunc is when std::ios_base::in and std::ios_base::out are used the same time.\"",
      "range": {
        "startLine": 681,
        "startChar": 42,
        "endLine": 681,
        "endChar": 57
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45234c36_363d8f44",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 681,
      "author": {
        "id": 1423953
      },
      "writtenOn": "2020-07-06T20:13:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "88c87293_0ef57d1a",
      "range": {
        "startLine": 681,
        "startChar": 42,
        "endLine": 681,
        "endChar": 57
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d9275dd_5eaf6b4c",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 854,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-06T18:26:16Z",
      "side": 1,
      "message": "you can omit this now.",
      "range": {
        "startLine": 854,
        "startChar": 32,
        "endLine": 854,
        "endChar": 56
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5306e744_179f4b6f",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 854,
      "author": {
        "id": 1423953
      },
      "writtenOn": "2020-07-06T20:13:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d9275dd_5eaf6b4c",
      "range": {
        "startLine": 854,
        "startChar": 32,
        "endLine": 854,
        "endChar": 56
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f8290de_fdbc619d",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 3989,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-06T18:26:16Z",
      "side": 1,
      "message": "can we get rid of this as well?",
      "range": {
        "startLine": 3989,
        "startChar": 12,
        "endLine": 3989,
        "endChar": 24
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c46d24af_fefd7095",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 3989,
      "author": {
        "id": 1423953
      },
      "writtenOn": "2020-07-06T20:13:56Z",
      "side": 1,
      "message": "I think I need this to set mFrameStart to the very first frame recorded. Maybe I dont need to do that?",
      "parentUuid": "0f8290de_fdbc619d",
      "range": {
        "startLine": 3989,
        "startChar": 12,
        "endLine": 3989,
        "endChar": 24
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea37d86a_63477c1e",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 3989,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-07T18:57:04Z",
      "side": 1,
      "message": "Try removing it and see if you run into issues?",
      "parentUuid": "c46d24af_fefd7095",
      "range": {
        "startLine": 3989,
        "startChar": 12,
        "endLine": 3989,
        "endChar": 24
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ee11c55_4829751a",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 3989,
      "author": {
        "id": 1423953
      },
      "writtenOn": "2020-07-07T19:32:52Z",
      "side": 1,
      "message": "Yeah I think the issue is that certain tests might swapBuffer before recording anything, so the first frame recorded is actually frame1. If I dont have that check to make sure the first frame is frame1, then the setupReplay method definition will not be written and compiler will complain about missing definition.",
      "parentUuid": "ea37d86a_63477c1e",
      "range": {
        "startLine": 3989,
        "startChar": 12,
        "endLine": 3989,
        "endChar": 24
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a0c58e7_c6f0d677",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 3989,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-07T20:50:49Z",
      "side": 1,
      "message": "I see. Do we not get a swapbuffers onEndFrame call after this first swap or something? Do you know why not?",
      "parentUuid": "1ee11c55_4829751a",
      "range": {
        "startLine": 3989,
        "startChar": 12,
        "endLine": 3989,
        "endChar": 24
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65fb0697_09ad61df",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 3989,
      "author": {
        "id": 1423953
      },
      "writtenOn": "2020-07-07T21:18:18Z",
      "side": 1,
      "message": "https://source.chromium.org/chromium/chromium/src/+/master:third_party/angle/src/libANGLE/FrameCapture.cpp;l\u003d833;drc\u003d5ba77dad98cf94506cf3700f9e12fcdc65fadfb6?q\u003dFrameCapture\u0026ss\u003dchromium\u0026originalUrl\u003dhttps:%2F%2Fcs.chromium.org%2F\n\nWe still get swapBuffers onEndFrame after the first swap. The problem is that frame0 is not recorded because say its empty. So the code inside the \"if\" I link will not execute, and we wont have a setupContext call definition in our trace files. That\u0027s why I set frameStart \u003d first_frame_recorded, so that setupContext call will always be written.",
      "parentUuid": "1a0c58e7_c6f0d677",
      "range": {
        "startLine": 3989,
        "startChar": 12,
        "endLine": 3989,
        "endChar": 24
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7e62b9f_81f54a33",
        "filename": "src/libANGLE/FrameCapture.cpp",
        "patchSetId": 4
      },
      "lineNbr": 3989,
      "author": {
        "id": 1423953
      },
      "writtenOn": "2020-07-09T17:32:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "65fb0697_09ad61df",
      "range": {
        "startLine": 3989,
        "startChar": 12,
        "endLine": 3989,
        "endChar": 24
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8c46dbb_1a796f2e",
        "filename": "src/libANGLE/frame_capture_utils.h",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-06T18:26:16Z",
      "side": 1,
      "message": "offline chat - this is a bit fragile as it\u0027s serializing state after some tear down. suggested to manh that we don\u0027t serialize stuff between the last swap and destroy. \n\nmaybe add a new method FrameCapture::onDestroyContext that simply writes stuff out instead of calling onEndFrame from Context::onDestroy",
      "range": {
        "startLine": 35,
        "startChar": 29,
        "endLine": 35,
        "endChar": 56
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2ab8782_a1e5ec55",
        "filename": "src/libANGLE/frame_capture_utils.h",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1423953
      },
      "writtenOn": "2020-07-06T20:13:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c8c46dbb_1a796f2e",
      "range": {
        "startLine": 35,
        "startChar": 29,
        "endLine": 35,
        "endChar": 56
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9f4bc13_e6ed758a",
        "filename": "src/tests/capture_replay_tests.py",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-06T18:26:16Z",
      "side": 1,
      "message": "I don\u0027t quite follow why you\u0027re special casing context1 here?",
      "range": {
        "startLine": 172,
        "startChar": 7,
        "endLine": 174,
        "endChar": 48
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9ec65e3_a5776f35",
        "filename": "src/tests/capture_replay_tests.py",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1423953
      },
      "writtenOn": "2020-07-06T20:13:56Z",
      "side": 1,
      "message": "Because we only care about tests with 1 context and that is angle_capture_context1. The build file also only builds context1 by default. Do you think I should make it more robust to handle any context as long as it is a lone context?",
      "parentUuid": "d9f4bc13_e6ed758a",
      "range": {
        "startLine": 172,
        "startChar": 7,
        "endLine": 174,
        "endChar": 48
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c53055e_8fa69d84",
        "filename": "src/tests/capture_replay_tests.py",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-07-07T18:57:04Z",
      "side": 1,
      "message": "Ah, no, this is fine. We can always update this later. Marking as resolved.",
      "parentUuid": "f9ec65e3_a5776f35",
      "range": {
        "startLine": 172,
        "startChar": 7,
        "endLine": 174,
        "endChar": 48
      },
      "revId": "54527de37929630f2bfef471d126021c250f6f30",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}