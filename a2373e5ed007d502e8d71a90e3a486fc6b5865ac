{
  "comments": [
    {
      "key": {
        "uuid": "92f8f55b_64f0a0d8",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1422,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-08-16T14:14:20Z",
      "side": 1,
      "message": "space after .",
      "range": {
        "startLine": 1422,
        "startChar": 14,
        "endLine": 1422,
        "endChar": 15
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4cc8287d_fa0ad480",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1422,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-08-16T14:31:16Z",
      "side": 1,
      "message": "nit: guaranteed",
      "range": {
        "startLine": 1422,
        "startChar": 38,
        "endLine": 1422,
        "endChar": 48
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "737c449a_2c265099",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1422,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-08-16T14:31:16Z",
      "side": 1,
      "message": "nit: add space",
      "range": {
        "startLine": 1422,
        "startChar": 15,
        "endLine": 1422,
        "endChar": 17
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb93da88_cff14ede",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1422,
      "author": {
        "id": 1357791
      },
      "writtenOn": "2019-08-19T23:25:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "737c449a_2c265099",
      "range": {
        "startLine": 1422,
        "startChar": 15,
        "endLine": 1422,
        "endChar": 17
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28e5aabf_8a9008d4",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1422,
      "author": {
        "id": 1357791
      },
      "writtenOn": "2019-08-19T23:25:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "92f8f55b_64f0a0d8",
      "range": {
        "startLine": 1422,
        "startChar": 14,
        "endLine": 1422,
        "endChar": 15
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c5f0656_22edfa11",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1422,
      "author": {
        "id": 1357791
      },
      "writtenOn": "2019-08-19T23:25:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4cc8287d_fa0ad480",
      "range": {
        "startLine": 1422,
        "startChar": 38,
        "endLine": 1422,
        "endChar": 48
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a4ae079_a302f1f9",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1423,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-08-16T14:14:20Z",
      "side": 1,
      "message": "bindings",
      "range": {
        "startLine": 1423,
        "startChar": 70,
        "endLine": 1423,
        "endChar": 77
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8a4bb66_63220632",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1423,
      "author": {
        "id": 1357791
      },
      "writtenOn": "2019-08-19T23:25:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a4ae079_a302f1f9",
      "range": {
        "startLine": 1423,
        "startChar": 70,
        "endLine": 1423,
        "endChar": 77
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae9d668a_96c7cd3a",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1424,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-08-16T14:31:16Z",
      "side": 1,
      "message": "if I understand the code correctly, you could change this to\n\nif (!hasXFB())\n{\n   return;\n}\nelse if (glState.isTransformFeedbackActive())\n{\n   // do your init here.\n}\n\nAnd move the special case XFB code out of allocateDescriptorSetAndGetInfo. If possible I think it would be cleaner.",
      "range": {
        "startLine": 1424,
        "startChar": 8,
        "endLine": 1424,
        "endChar": 14
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ee8a279_18fb9a3d",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1424,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-08-16T14:32:00Z",
      "side": 1,
      "message": "Sorry, that should read \"!glState.isXFBActive\"",
      "parentUuid": "ae9d668a_96c7cd3a",
      "range": {
        "startLine": 1424,
        "startChar": 8,
        "endLine": 1424,
        "endChar": 14
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da186185_fec2516a",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1424,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-08-16T15:33:13Z",
      "side": 1,
      "message": "If you do the \"init\" here, you would be potentially initing the desc set multiple times for no reason. Though if it makes the code cleaner, I don\u0027t mind. Just the `if` should say `!Active` and be followed by a return.",
      "parentUuid": "5ee8a279_18fb9a3d",
      "range": {
        "startLine": 1424,
        "startChar": 8,
        "endLine": 1424,
        "endChar": 14
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6806cc7c_6f1a2b27",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1424,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-08-16T15:38:05Z",
      "side": 1,
      "message": "I\u0027m actually not sure. I think we only call updateTransformFeedbackDescriptorSetImpl after allocateDescriptorSet. Which would hit the above allocateDescriptorSetAndGetInfo code path anyway.",
      "parentUuid": "da186185_fec2516a",
      "range": {
        "startLine": 1424,
        "startChar": 8,
        "endLine": 1424,
        "endChar": 14
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "696de7f0_d0cab70f",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1424,
      "author": {
        "id": 1357791
      },
      "writtenOn": "2019-08-19T23:25:15Z",
      "side": 1,
      "message": "@jamie, I understand what you are saying. It\u0027ll make code cleaner. But let\u0027s think about function name, updateTransformFeedbackDescriptorSet. It can be called anywhere to update xfb descriptroSet. Later, someone may try to update again after updating it. So I would suggest keeping the code as it is. I think it is better from the point of view of code reliability.",
      "parentUuid": "6806cc7c_6f1a2b27",
      "range": {
        "startLine": 1424,
        "startChar": 8,
        "endLine": 1424,
        "endChar": 14
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "196c1759_8a44c40c",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1424,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-08-19T23:46:34Z",
      "side": 1,
      "message": "Hm, I\u0027m not sure I agree. I think we should prefer code quality. We have regression testing to prevent accidental incorrect future usage.",
      "parentUuid": "696de7f0_d0cab70f",
      "range": {
        "startLine": 1424,
        "startChar": 8,
        "endLine": 1424,
        "endChar": 14
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2a7c2db_02382346",
        "filename": "src/libANGLE/renderer/vulkan/ProgramVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 1424,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-08-20T02:04:08Z",
      "side": 1,
      "message": "I\u0027m inclined to agree with Jamie, the `Impl` suffix implies that this function is internal to this class, so it\u0027s usage is very controlled.\n\nChanging the name of the function to reflect its limitations would be better for readability in my opinion than trying to make the body support usages the function was never intended for. Such a name change could be part of a much bigger cleanup in the backend though, as this pattern is used quite often.",
      "parentUuid": "196c1759_8a44c40c",
      "range": {
        "startLine": 1424,
        "startChar": 8,
        "endLine": 1424,
        "endChar": 14
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15be65fc_3e9063f8",
        "filename": "src/libANGLE/renderer/vulkan/TransformFeedbackVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-08-16T14:31:16Z",
      "side": 1,
      "message": "instead of passing the ProgramState here and below, can you just pass the buffer count?",
      "range": {
        "startLine": 137,
        "startChar": 44,
        "endLine": 137,
        "endChar": 79
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "062e8379_4715e17f",
        "filename": "src/libANGLE/renderer/vulkan/TransformFeedbackVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1357791
      },
      "writtenOn": "2019-08-19T23:25:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "15be65fc_3e9063f8",
      "range": {
        "startLine": 137,
        "startChar": 44,
        "endLine": 137,
        "endChar": 79
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea6912e7_9abbf5c0",
        "filename": "src/libANGLE/renderer/vulkan/TransformFeedbackVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-08-16T14:14:20Z",
      "side": 1,
      "message": "You don\u0027t need to update this serial, the program\u0027s mEmptyBuffer\u0027s serial is not expected to be used anywhere.",
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a80841fb_9a7fb08c",
        "filename": "src/libANGLE/renderer/vulkan/TransformFeedbackVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1357791
      },
      "writtenOn": "2019-08-19T23:25:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea6912e7_9abbf5c0",
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a53eef9a_bd18904c",
        "filename": "src/libANGLE/renderer/vulkan/TransformFeedbackVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 216,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2019-08-16T14:31:16Z",
      "side": 1,
      "message": "can you make this into a shared helper?",
      "range": {
        "startLine": 203,
        "startChar": 0,
        "endLine": 216,
        "endChar": 72
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecabed05_1091d58f",
        "filename": "src/libANGLE/renderer/vulkan/TransformFeedbackVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 216,
      "author": {
        "id": 1357791
      },
      "writtenOn": "2019-08-19T23:25:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a53eef9a_bd18904c",
      "range": {
        "startLine": 203,
        "startChar": 0,
        "endLine": 216,
        "endChar": 72
      },
      "revId": "a2373e5ed007d502e8d71a90e3a486fc6b5865ac",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}