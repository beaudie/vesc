Name

    ANGLE_surface_orientation

Name Strings

    EGL_ANGLE_surface_orientation

Contributors

    Geoff Lang, Google

Contacts

    Geoff Lang, Google (geofflang 'at' google 'dot' com)

Status

    Draft

Version

    Version 1, 2015-12-15

Number

    EGL Extension XXX

Extension Type

    EGL display extension

Dependencies

    Written based on the wording of the EGL 1.5 Specification
    (August 7 2014).

Overview

    This extension provides a mechanism for querying the most optimial
    orientation of a window surface and creating window sufraces with
    non-default orientations for the most performant rendering.

New Types

    None

New Procedures and Functions

    None

New Tokens

    New EGLConfig bitmask attribute name:

        EGL_OPTIMIAL_SURFACE_ORIENTATION_ANGLE 0xXXXX

    Accepted as an attribute name in the <attrib_list> argument of
    eglCreateWindowSurface:

        EGL_SURFACE_ORIENTATION_ANGLE 0xXXXX

    Valid bitfields in the EGL_OPTIMIAL_SURFACE_ORIENTATION_ANGLE bitmask
    attribute of EGLConfig and EGL_SURFACE_ORIENTATION_ANGLE bitmask attribute
    of eglCreateWindowSurface:

        EGL_SURFACE_ORIENTATION_FLIP_X_ANGLE 0xXXXX
        EGL_SURFACE_ORIENTATION_FLIP_Y_ANGLE 0xXXXX

Additions to the EGL Specification

    Additions to Chapter 3 of the EGL 1.5 Specification (EGL Functions and Errors)

    Add to table 3.1 (EGLConfig Attributes)

    Attribute                               Type     Notes
    --------------------------------------  -------  ----------------------
    EGL_OPTIMIAL_SURFACE_ORIENTATION_ANGLE  bitmask  Optimal window surface
                                                     orientation.


    Add a paragraph to section 3.4, section Other EGLConfig Attribute
    Descriptions.

    "EGL_OPTIMIAL_SURFACE_ORIENTATION_ANGLE is a mask indicating which
    window surface orientation will provide the best performance."

    Add to table 3.4 (Default values and match criteria for EGLConfig
    attributes):

    Attribute                               Default  Selection  Sort     Sort
                                                     Criteria   Order    Priority
    -------------------------               -------  ---------  -------  --------
    EGL_OPTIMIAL_SURFACE_ORIENTATION_ANGLE  0        Mask       None



New Behavior

    To request a display created with a X11 visual ID, the value of
    EGL_ANGLE_X11_VISUAL_ID should be set to a valid X11 visual ID. If
    present, this ID will be used during display creation to make a
    display that is more compatible and potentially more performant when
    used with EGLsurfaces created from native types with this ID. If the
    visual ID passed isn't a valid visual ID, eglGetPlatformDisplay will
    return EGL_NO_DISPLAY and generate an EGL_NOT_INITIALIZED error.

Issues

    1) When the hint is present, should EGLsurface creation functions
       only accept native types with the hint's visual ID?

       RESOLVED: Yes, generate an error when the visual of the native
       surface doesn't match. This will avoid having hidden performance
       or compatibility losses when using this extension.

Revision History

    Version 1, 2015-11-13 (Corentin Wallez)
      - Initial draft

