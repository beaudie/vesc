Name

    ANGLE_device_creation_d3d11

Name Strings

    EGL_ANGLE_device_creation_d3d11

Contributors

    Austin Kinross  (aukinros 'at' microsoft.com)

Contact

    Austin Kinross  (aukinros 'at' microsoft.com)

Status

    Draft

Version

    Version 1, Nov 02, 2015

Number

    EGL Extension #XXX

Extension Type

    EGL client extension

Dependencies

    Requires EGL_ANGLE_device_d3d and EGL_ANGLE_device_creation.

    Written against the wording of EGL 1.5 as modified by EGL_ANGLE_device_d3d
    and EGL_ANGLE_device_creation.

Overview

    ANGLE has the ability to run GPU commands on a native D3D device. This
    extension defines a way to create a EGL device which maps to an inputted
    Direct3D 11 device.

    This extension is intended to be used with EGL_EXT_platform_device to
    initialize a display using an existing Direct3D 11 device, but this
    extension is not required.

IP Status

    No known claims.

New Types

    None.

New Procedures and Functions

    None.

New Tokens

    None.

Changes to section 3.2 (Devices)

    Modify the language in section 3.2 (Devices) describing valid attribute
    names passed into eglCreateDeviceANGLE via <attrib_list>:

    "This specification defines one valid attribute name for inclusion in
    <attrib_list>: EGL_D3D11_DEVICE_ANGLE. The desired value for this attribute
    must correspond to valid a valid Direct3D 11 device."

    Append the following to the end of section 3.2 (Devices):
    
    "If <attrib_list> is empty or an invalid attribute name is specified then an
    EGL_BAD_ATTRIBUTE error is generated. If <attrib_list> contains more than
    one EGL_D3D11_DEVICE_ANGLE entry then a EGL_BAD_ATTRIBUTE error is
    generated.

    If a Direct3D 11 device used to create a device experiences a "lost device"
    then all resulting behavior of the device (and any dependent EGL objects) is
    undefined. It is the caller's responsibility to monitor for "lost device"
    and to create a new device (and dependent EGL objects) as appropriate. For
    more information on "lost device", see the Direct3D documentation."

Issues

    1) Should this extension also enable creation of an EGL device which
       corresponds to a Direct3D 9 device?

       RESOLVED: No. Implementations such as ANGLE typically require a Direct3D
       9 device (which implements IDirect3DDevice9) and a Direct3D 9 object
       (which implements IDirect3D9 or IDirect3D9Ex) to successfully initialize
       a Display. The EGL_ANGLE_device_d3d extension provides a mapping between
       EGL devices and Direct3D 9 devices, but there is no such mapping for
       Direct3D 9[Ex] objects. The specification of such a mapping is beyond the
       scope of this extension, but it could be specified in an additional
       extension.

Revision History

    Version 1, Nov 2, 2015 (Austin Kinross)
        - Initial Draft
