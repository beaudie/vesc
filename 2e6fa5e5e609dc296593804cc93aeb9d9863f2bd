{
  "comments": [
    {
      "key": {
        "uuid": "aa20719c_4a237127",
        "filename": "src/libANGLE/validationES2.cpp",
        "patchSetId": 6
      },
      "lineNbr": 832,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2017-09-08T20:31:21Z",
      "side": 1,
      "message": "I don\u0027t think this is the right approach, we should attempt to share as much validation as possible between the webgl and non-webgl code.  The best solution would be to take the extensions that add new texture formats in this list (https://cs.chromium.org/chromium/src/third_party/angle/src/libANGLE/Caps.cpp?q\u003dcaps.cpp\u0026dr\u0026l\u003d621) and make them enableable so that they arn\u0027t on by default in WebGL contexts and the validation returns errors for those cases.\n\nThese extensions will need to be enabled always within Chrome, but I can take care of that once we have an ANGLE CL.",
      "range": {
        "startLine": 832,
        "startChar": 5,
        "endLine": 832,
        "endChar": 30
      },
      "revId": "2e6fa5e5e609dc296593804cc93aeb9d9863f2bd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dba68e5d_dd1aff04",
        "filename": "src/libANGLE/validationES2.cpp",
        "patchSetId": 6
      },
      "lineNbr": 832,
      "author": {
        "id": 1166724
      },
      "writtenOn": "2017-09-08T22:04:21Z",
      "side": 1,
      "message": "Wouldn\u0027t that make the extension \"enableable\" for either WebGL or ES context? Several ES tests expect these extensions to be on by default and would require treatment to maintain equal test coverage. I\u0027m a bit more cautious about making such a change there, please confirm if this is correct.",
      "parentUuid": "aa20719c_4a237127",
      "range": {
        "startLine": 832,
        "startChar": 5,
        "endLine": 832,
        "endChar": 30
      },
      "revId": "2e6fa5e5e609dc296593804cc93aeb9d9863f2bd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fce2db8_6e894ef2",
        "filename": "src/libANGLE/validationES2.cpp",
        "patchSetId": 6
      },
      "lineNbr": 832,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2017-09-08T22:53:59Z",
      "side": 1,
      "message": "We only disable the extensions by default for webgl contexts (https://cs.chromium.org/chromium/src/third_party/angle/src/libANGLE/Context.cpp?type\u003dcs\u0026sq\u003dpackage:chromium\u0026l\u003d2639).  If you make an extension enableable, please add a small test in the webgl compatibility tests that verifies the format doesn\u0027t work, enables the extension and then verifies that it does work (there are a bunch already: https://cs.chromium.org/chromium/src/third_party/angle/src/tests/gl_tests/WebGLCompatibilityTest.cpp?q\u003dWebGLCompatibilityTest.cpp\u0026dr\u003dC\u0026l\u003d312)\n\nChrome emulates the availability of a bunch of these extensions for WebGL so we will either end up failing some tests there or lose coverage but we can fix it by always enabling them in Chrome.",
      "parentUuid": "dba68e5d_dd1aff04",
      "range": {
        "startLine": 832,
        "startChar": 5,
        "endLine": 832,
        "endChar": 30
      },
      "revId": "2e6fa5e5e609dc296593804cc93aeb9d9863f2bd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}