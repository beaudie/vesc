{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3c8ef905_1ee374af",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 21
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-12-29T15:46:51Z",
      "side": 1,
      "message": "Nice cleanup by the way",
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03085daa_eeef8c38",
        "filename": "src/libANGLE/renderer/vulkan/BufferVk.h",
        "patchSetId": 21
      },
      "lineNbr": 218,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-12-29T15:46:31Z",
      "side": 1,
      "message": "typo: has",
      "range": {
        "startLine": 218,
        "startChar": 37,
        "endLine": 218,
        "endChar": 39
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a415b875_55983cc7",
        "filename": "src/libANGLE/renderer/vulkan/BufferVk.h",
        "patchSetId": 21
      },
      "lineNbr": 218,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-12-30T20:23:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "03085daa_eeef8c38",
      "range": {
        "startLine": 218,
        "startChar": 37,
        "endLine": 218,
        "endChar": 39
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "02be6883_0754fc43",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 1475,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-29T15:11:18Z",
      "side": 1,
      "message": "what happens if this is zero? is that a fatal error? should this instead be a CHECK?",
      "range": {
        "startLine": 1473,
        "startChar": 8,
        "endLine": 1475,
        "endChar": 5
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "21b8f5aa_81b0df88",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 1475,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-12-30T20:23:50Z",
      "side": 1,
      "message": "This really wont happen. I added this solely for the reason of making this whole code block nicely indented. Changed it to VK_CHECK.",
      "parentUuid": "02be6883_0754fc43",
      "range": {
        "startLine": 1473,
        "startChar": 8,
        "endLine": 1475,
        "endChar": 5
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2a97b8c_1bc4909b",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 1503,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-12-29T15:46:31Z",
      "side": 1,
      "message": "What if mCoherentStagingBufferMemoryTypeIndex \u003d\u003d mNonCoherentStagingBufferMemoryTypeIndex? Wouldn\u0027t it be more (memory-)efficient to have only one staging buffer?\n\nI\u0027m asking because IIRC that\u0027s the case on Android (and presumably Fuchsia) which is where we are more memory constrained.",
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1586cece_4223df0c",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 1503,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-12-30T20:23:50Z",
      "side": 1,
      "message": "There are benefit to use coherent or non-coherent for different usage patterns. See https://developer.arm.com/documentation/101897/0200/cpu-overheads/vulkan-cpu-memory-mapping for ARM\u0027s summary.",
      "parentUuid": "d2a97b8c_1bc4909b",
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a7f784c_25ef6620",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 1503,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-03T16:11:16Z",
      "side": 1,
      "message": "From what I understand from that document, it\u0027s cached vs non-cached (not coherent vs non-coherent) that makes the significant difference. On newer hardware, ARM seems to recommend coherent always:\n\n\u003e Cached, coherent memory is preferred over the Cached, incoherent memory type when available.\n\nShouldn\u0027t these pools be \"non-cached + coherent\" and \"cached + preferably coherent if possible\" instead?",
      "parentUuid": "1586cece_4223df0c",
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a99fa405_9d50660b",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 1503,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2022-01-04T18:34:38Z",
      "side": 1,
      "message": "This CL intentionally does not change the type of memory we allocate. Feel free to open a new bug to continue performance investigation on the choice of memory we made. I believe the memory type we picked right now mostly based on Mohan\u0027s contribution, so likely not tuned for ARM.",
      "parentUuid": "0a7f784c_25ef6620",
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9b6c68a7_66086440",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.cpp",
        "patchSetId": 21
      },
      "lineNbr": 1503,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-04T18:51:04Z",
      "side": 1,
      "message": "Ack.\n\nanglebug.com/6866",
      "parentUuid": "a99fa405_9d50660b",
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b71c2e01_e29afec5",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.h",
        "patchSetId": 21
      },
      "lineNbr": 611,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-29T15:11:18Z",
      "side": 1,
      "message": "nit: ensure zero-init.",
      "range": {
        "startLine": 607,
        "startChar": 0,
        "endLine": 611,
        "endChar": 0
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "233167d3_93b1a51c",
        "filename": "src/libANGLE/renderer/vulkan/RendererVk.h",
        "patchSetId": 21
      },
      "lineNbr": 611,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-12-30T20:23:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b71c2e01_e29afec5",
      "range": {
        "startLine": 607,
        "startChar": 0,
        "endLine": 611,
        "endChar": 0
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72434ca9_6549c61a",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 21
      },
      "lineNbr": 3809,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-29T15:11:18Z",
      "side": 1,
      "message": "nit: please keep zero-init here even if it\u0027s a dupe - it\u0027s fairly inexpensive and it will be a safety thing to have the variables always initialized to valid mem.",
      "range": {
        "startLine": 3809,
        "startChar": 14,
        "endLine": 3809,
        "endChar": 26
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06064b61_c0daa359",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 21
      },
      "lineNbr": 3809,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-12-30T20:23:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "72434ca9_6549c61a",
      "range": {
        "startLine": 3809,
        "startChar": 14,
        "endLine": 3809,
        "endChar": 26
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2981e056_7a0abda0",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 21
      },
      "lineNbr": 3931,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-12-29T15:46:31Z",
      "side": 1,
      "message": "nit: redundant with \"again\"",
      "range": {
        "startLine": 3931,
        "startChar": 7,
        "endLine": 3931,
        "endChar": 10
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "da84f98c_4533f64b",
        "filename": "src/libANGLE/renderer/vulkan/vk_helpers.cpp",
        "patchSetId": 21
      },
      "lineNbr": 3931,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2021-12-30T20:23:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2981e056_7a0abda0",
      "range": {
        "startLine": 3931,
        "startChar": 7,
        "endLine": 3931,
        "endChar": 10
      },
      "revId": "8dd125148d32ef753ee7515c0b830348c73a6a23",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}