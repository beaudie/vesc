{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3f5bbd41_59f035d6",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4904,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2022-07-14T23:42:06Z",
      "side": 1,
      "message": "Why \"don\u0027t use samplerExternal2DY2YEXT\" but at line 5015 uses isSamplerExternalY2Y? Because this sampler information is baked into the cache, and this function is calculating cache key, isn\u0027t this will generate incorrect cache keys by forcing isSamplerExternalY2Y to false?",
      "range": {
        "startLine": 4904,
        "startChar": 50,
        "endLine": 4904,
        "endChar": 55
      },
      "revId": "acb26b7ab1a04168b027a0c7ecc755478682753a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f8b9db4_339e271b",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4904,
      "author": {
        "id": 1175714
      },
      "writtenOn": "2022-07-18T22:56:59Z",
      "side": 1,
      "message": "Yeah, I originally tried to pass in the std::vector\u003cSamplerBinding\u003e from the ProgramExecutableVk, but it looks like it hits an invalid index. Going to investigate that now.",
      "parentUuid": "3f5bbd41_59f035d6",
      "range": {
        "startLine": 4904,
        "startChar": 50,
        "endLine": 4904,
        "endChar": 55
      },
      "revId": "acb26b7ab1a04168b027a0c7ecc755478682753a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56ef5924_0119ae64",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4904,
      "author": {
        "id": 1175714
      },
      "writtenOn": "2022-07-18T23:16:16Z",
      "side": 1,
      "message": "Never mind, got it working (uploading fix in next patch set)",
      "parentUuid": "1f8b9db4_339e271b",
      "range": {
        "startLine": 4904,
        "startChar": 50,
        "endLine": 4904,
        "endChar": 55
      },
      "revId": "acb26b7ab1a04168b027a0c7ecc755478682753a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7fc23d11_c74af47a",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4904,
      "author": {
        "id": 1175714
      },
      "writtenOn": "2022-07-18T23:23:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "56ef5924_0119ae64",
      "range": {
        "startLine": 4904,
        "startChar": 50,
        "endLine": 4904,
        "endChar": 55
      },
      "revId": "acb26b7ab1a04168b027a0c7ecc755478682753a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66834e90_e39b763e",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4904,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2022-07-19T00:47:02Z",
      "side": 1,
      "message": "Unresolve this. I am not seeing isSamplerExternalY2Y is used here to compute desc. Isn\u0027t that two different descriptorSet (one with isSamplerExternalY2Y true and the other false) will end up having the same desc, which means cache look up could possibly get the wrong descriptorSet?\n\n(My understanding) the existing code works because texture only have one sampler. So whatever you put in desc, you are going to retrieve the same descriptorSet, or have a cache miss and created  the same descriptorSet (a potentially perf issue but not correctness issue). But with your CL, texture have two samplers, depends on bound sampler. This means if we did not build desc with correct isSamplerExternalY2Y information, you will get wrong descriptorSet, that is a correctness bug.",
      "parentUuid": "7fc23d11_c74af47a",
      "range": {
        "startLine": 4904,
        "startChar": 50,
        "endLine": 4904,
        "endChar": 55
      },
      "revId": "acb26b7ab1a04168b027a0c7ecc755478682753a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6bbc7323_8477cf0d",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4904,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-19T02:43:23Z",
      "side": 1,
      "message": "Charlie, could you please help Frank device a regression test?",
      "parentUuid": "66834e90_e39b763e",
      "range": {
        "startLine": 4904,
        "startChar": 50,
        "endLine": 4904,
        "endChar": 55
      },
      "revId": "acb26b7ab1a04168b027a0c7ecc755478682753a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d79f563b_f22f631c",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 4
      },
      "lineNbr": 4904,
      "author": {
        "id": 1175714
      },
      "writtenOn": "2022-07-19T18:34:01Z",
      "side": 1,
      "message": "Sorry about that, forgot to propagate the isSamplerExternalY2Y here.",
      "parentUuid": "6bbc7323_8477cf0d",
      "range": {
        "startLine": 4904,
        "startChar": 50,
        "endLine": 4904,
        "endChar": 55
      },
      "revId": "acb26b7ab1a04168b027a0c7ecc755478682753a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}