{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fa2d6a79_1fa3d6bb",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 88,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-19T21:38:22Z",
      "side": 1,
      "message": "I suspect the code would shake out cleaner if you didn\u0027t modify Stream, and instead called \"memset\" in the code that invokes it. Instead you can modify the parameters to Stream so the code here won\u0027t overflow the source buffer.",
      "range": {
        "startLine": 88,
        "startChar": 14,
        "endLine": 88,
        "endChar": 45
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df1b30ca_755563b5",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 88,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-19T22:26:14Z",
      "side": 1,
      "message": "I considered that but note that this function also allocates the buffer.\nBefore this change: buffer size matches the loop termination condition, both are `bytesToAllocate`.\nAfter this change: this is no longer true as now we have `bytesToAllocate` buffer and `clampedSize` in the loop.\nHence I can\u0027t do this without modifications to Stream.\n\nWDYT?",
      "parentUuid": "fa2d6a79_1fa3d6bb",
      "range": {
        "startLine": 88,
        "startChar": 14,
        "endLine": 88,
        "endChar": 45
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d09241c_d11ec145",
        "filename": "src/libANGLE/renderer/vulkan/VertexArrayVk.cpp",
        "patchSetId": 2
      },
      "lineNbr": 88,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-20T20:53:41Z",
      "side": 1,
      "message": "Ack, figures I was missing something.",
      "parentUuid": "df1b30ca_755563b5",
      "range": {
        "startLine": 88,
        "startChar": 14,
        "endLine": 88,
        "endChar": 45
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "043adf12_f3e8a16f",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 589,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-19T21:38:22Z",
      "side": 1,
      "message": "nit: please comment before each newly added test",
      "range": {
        "startLine": 589,
        "startChar": 0,
        "endLine": 589,
        "endChar": 6
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1c4f667d_0a93945c",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 589,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-19T22:26:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "043adf12_f3e8a16f",
      "range": {
        "startLine": 589,
        "startChar": 0,
        "endLine": 589,
        "endChar": 6
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b177a140_7def8466",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 620,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-19T21:38:22Z",
      "side": 1,
      "message": "same as below",
      "range": {
        "startLine": 620,
        "startChar": 4,
        "endLine": 620,
        "endChar": 10
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf94ab51_b38662c7",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 620,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-19T22:26:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b177a140_7def8466",
      "range": {
        "startLine": 620,
        "startChar": 4,
        "endLine": 620,
        "endChar": 10
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "293767e0_040753ab",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 629,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-19T21:38:22Z",
      "side": 1,
      "message": "GL error is a valid test result. See the extension doc for robust buffer access - there\u0027s several valid outcomes.",
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f07e7e56_77c6abb2",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 629,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-19T22:26:14Z",
      "side": 1,
      "message": "Right, you mentioned this earlier and I forgot, sorry. Let me see what I can find.",
      "parentUuid": "293767e0_040753ab",
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97436202_b550d66a",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 629,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-24T19:34:04Z",
      "side": 1,
      "message": "So the OpenGL ES section about OOB says that \"When such an attempt is detected, a GL error is generated\", but it also says that not all operations are required to do that.\n\nCould you recommend what would be a reasonable assertion here? I saw that some other examples validate output pixels which sounds like it could be an option here as well but it wouldn\u0027t be easy for me to do because I don\u0027t understand this setup and shaders well enough.",
      "parentUuid": "f07e7e56_77c6abb2",
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a413194_ba9197f7",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 629,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-24T19:49:56Z",
      "side": 1,
      "message": "I\u0027d just remove these error lines. The full fix would be either you get an error, or the draw completes successfully and the buffer values are:\n\n      * Values from anywhere within the buffer object.\n      * Zero values, or (0,0,0,x) vectors for vector reads where x is a\n        valid value represented in the type of the vector components and may\n        be any of\n\n        + 0, 1, or the maximum representable positive integer value, for\n          signed or unsigned integer components\n        + 0.0 or 1.0, for floating-point components",
      "parentUuid": "97436202_b550d66a",
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e9cb52e1_6f18aef8",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 629,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-24T19:56:16Z",
      "side": 1,
      "message": "Ah, that\u0027s what you were referring to as \"outcomes\". Yeah that\u0027s quite a bit of checking. I dropped the asserts and just added comments that no crash is expected.",
      "parentUuid": "3a413194_ba9197f7",
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9781014e_e022990f",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 662,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-19T21:38:22Z",
      "side": 1,
      "message": "nit: can be constexpr GLuint kDivisor \u003d 4096;",
      "range": {
        "startLine": 662,
        "startChar": 4,
        "endLine": 662,
        "endChar": 10
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5afe4173_be88be0e",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 662,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-19T22:26:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9781014e_e022990f",
      "range": {
        "startLine": 662,
        "startChar": 4,
        "endLine": 662,
        "endChar": 10
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a796ae8b_ce50f9d6",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 673,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-01-19T21:38:22Z",
      "side": 1,
      "message": "same comment here",
      "range": {
        "startLine": 673,
        "startChar": 4,
        "endLine": 673,
        "endChar": 22
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d219a98b_388c92e6",
        "filename": "src/tests/gl_tests/RobustBufferAccessBehaviorTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 673,
      "author": {
        "id": 1531247
      },
      "writtenOn": "2022-01-24T19:56:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a796ae8b_ce50f9d6",
      "range": {
        "startLine": 673,
        "startChar": 4,
        "endLine": 673,
        "endChar": 22
      },
      "revId": "761114e27415154aebf17b23bde56a3ab9a64e37",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}