{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "765506aa_882aada1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-04-06T19:20:29Z",
      "side": 1,
      "message": "LGTM with a minor comment.",
      "revId": "a18dd59888b184b60db2de15e823cf45c7ad5d5e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "75fb798c_499a9323",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 287,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-04-06T19:20:29Z",
      "side": 1,
      "message": "Nice fix. I also noticed this when I working on queue serial stuff, but never get time to this.",
      "range": {
        "startLine": 287,
        "startChar": 0,
        "endLine": 287,
        "endChar": 66
      },
      "revId": "a18dd59888b184b60db2de15e823cf45c7ad5d5e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a33a27c9_8b8fc394",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-04-06T19:20:29Z",
      "side": 1,
      "message": "Because now mUse is valid, this will be dead code, isn\u0027t it? Can we maybe remove line 381 to 385 and rely entirely on SyncWaitFd() here?",
      "range": {
        "startLine": 387,
        "startChar": 3,
        "endLine": 388,
        "endChar": 52
      },
      "revId": "a18dd59888b184b60db2de15e823cf45c7ad5d5e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8311e89e_ddc26992",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-04-07T12:36:43Z",
      "side": 1,
      "message": "It is not a dead code. `SyncHelperNativeFence` may be initialized with external FD.\n\nLines 238, 239\n```\n    // If valid FD provided by application - import it to fence.\n    if (inFd \u003e kInvalidFenceFd)\n```\n\nIn that case nothing is submitted.",
      "parentUuid": "a33a27c9_8b8fc394",
      "range": {
        "startLine": 387,
        "startChar": 3,
        "endLine": 388,
        "endChar": 52
      },
      "revId": "a18dd59888b184b60db2de15e823cf45c7ad5d5e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ecdf602_a0931d80",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-04-07T16:59:10Z",
      "side": 1,
      "message": "Then in this case mUse will be empty and an empty mUse will appears as finished. All you need to do here is remove line 382 and this entire function is simply call getStatusFromUse(). What do you think? ResourceUse.valid() method should eventually be removed. It does not make sense to have a valid method. I kept there simply because there are a few places still using it. And this will one inch closer to remove it.",
      "parentUuid": "8311e89e_ddc26992",
      "range": {
        "startLine": 387,
        "startChar": 3,
        "endLine": 388,
        "endChar": 52
      },
      "revId": "a18dd59888b184b60db2de15e823cf45c7ad5d5e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4abccda8_217beab4",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-04-07T17:09:37Z",
      "side": 1,
      "message": "\u003e Then in this case mUse will be empty and an empty mUse will appears as finished. All you need to do here is remove line 382 and this entire function is simply call getStatusFromUse(). What do you think? \n\nProvided FD may be not signaled. `SyncHelperNativeFence::getStatus()` should check provided FD instead of mUse when there was no submit (`mUse` is invalid).\nChecking not valid/empty/finished `mUse` is incorrect.\n\n\u003e ResourceUse.valid() method should eventually be removed. It does not make sense to have a valid method. I kept there simply because there are a few places still using it. And this will one inch closer to remove it.\n\nThis removes `mUse` completely: https://chromium-review.googlesource.com/c/angle/angle/+/4392880\nSo also make it close to remove `valid()` method.",
      "parentUuid": "5ecdf602_a0931d80",
      "range": {
        "startLine": 387,
        "startChar": 3,
        "endLine": 388,
        "endChar": 52
      },
      "revId": "a18dd59888b184b60db2de15e823cf45c7ad5d5e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}