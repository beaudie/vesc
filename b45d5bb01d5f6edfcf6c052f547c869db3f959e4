{
  "comments": [
    {
      "key": {
        "uuid": "6397c7c3_6e27be0c",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 594,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2019-02-25T15:18:41Z",
      "side": 1,
      "message": "maybe you could change this now. I think you can use mState.getType(). Then you can remove the TODO.",
      "range": {
        "startLine": 594,
        "startChar": 0,
        "endLine": 594,
        "endChar": 43
      },
      "revId": "b45d5bb01d5f6edfcf6c052f547c869db3f959e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62846148_3b18d129",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 594,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-02-25T16:56:11Z",
      "side": 1,
      "message": "This needs to know if the **source** image is a cubemap. With `copy[Sub]Texture`, the type can be recovered, but with `copy[Sub]Image`, all we have is a framebuffer/render target. I didn\u0027t notice a way to get the type of the underlying texture.\n\nI briefly experimented with storing the type at ImageHelper initialization time, but that didn\u0027t go all too well.",
      "parentUuid": "6397c7c3_6e27be0c",
      "range": {
        "startLine": 594,
        "startChar": 0,
        "endLine": 594,
        "endChar": 43
      },
      "revId": "b45d5bb01d5f6edfcf6c052f547c869db3f959e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a6490666_4b7d1879",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 612,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-02-22T20:41:52Z",
      "side": 1,
      "message": "I\u0027m not really happy with the way this turned out. A while back I made a distinction between Draw views and Read views, and it would be possible to turn that into Draw, Sample and Fetch views. That would overcome this issue, with the side effect of every texture now having 3 views instead of 2 (though non cube map textures don\u0027t really need to allocate the third view and can use the second for both).\n\nWhile that would be cleaner, I\u0027m not sure the rare \"copy from a cube map\" use case would justify the additional view on every cube map texture.\n\n---\n\nNow that I write this down, having the third view lazily allocated might not be too bad either.\n\nWhat do you think?",
      "range": {
        "startLine": 593,
        "startChar": 0,
        "endLine": 612,
        "endChar": 5
      },
      "revId": "b45d5bb01d5f6edfcf6c052f547c869db3f959e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1cbd43c_fa950cff",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 612,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2019-02-25T15:18:41Z",
      "side": 1,
      "message": "Lazily allocated might be fine if we make it work just for cube maps. It would really just be a pointer. SGTM either way.",
      "parentUuid": "a6490666_4b7d1879",
      "range": {
        "startLine": 593,
        "startChar": 0,
        "endLine": 612,
        "endChar": 5
      },
      "revId": "b45d5bb01d5f6edfcf6c052f547c869db3f959e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f67684f1_2c37d5c5",
        "filename": "src/libANGLE/renderer/vulkan/TextureVk.cpp",
        "patchSetId": 1
      },
      "lineNbr": 612,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-02-25T16:56:11Z",
      "side": 1,
      "message": "Ok, I\u0027ll think about it more (also see if Yuly has a preference).\n\nWhat really bugs me is the fact that `texelFetch` is not defined for cubemaps. That\u0027s the real nonsense here.",
      "parentUuid": "c1cbd43c_fa950cff",
      "range": {
        "startLine": 593,
        "startChar": 0,
        "endLine": 612,
        "endChar": 5
      },
      "revId": "b45d5bb01d5f6edfcf6c052f547c869db3f959e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "717142a8_4d4b5c9b",
        "filename": "src/tests/gl_tests/CopyTexImageTest.cpp",
        "patchSetId": 1
      },
      "lineNbr": 457,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2019-02-25T15:18:41Z",
      "side": 1,
      "message": "thanks for the detailed tests.",
      "range": {
        "startLine": 457,
        "startChar": 16,
        "endLine": 457,
        "endChar": 21
      },
      "revId": "b45d5bb01d5f6edfcf6c052f547c869db3f959e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e93b8cbc_375f153a",
        "filename": "src/tests/gl_tests/CopyTexImageTest.cpp",
        "patchSetId": 1
      },
      "lineNbr": 457,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2019-02-25T16:56:11Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "717142a8_4d4b5c9b",
      "range": {
        "startLine": 457,
        "startChar": 16,
        "endLine": 457,
        "endChar": 21
      },
      "revId": "b45d5bb01d5f6edfcf6c052f547c869db3f959e4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}