{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "09491c72_a2f01df9",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 138,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-06-28T18:54:42Z",
      "side": 0,
      "message": "This looks like a bug. In this scenario:\n\n- Context/Thread 1 draws to X\n- Context/Thread 1 inserts fence -\u003e this is deferred to avoid breaking the render pass\n- Context/Thread 2 does server wait -\u003e this should flush the work of context 1\n- Context/Thread 2 samples from X\n\nWith `submitSyncIfDeferred` removed, context 2 samples from X before context 1 flushes the draw.\n\nCould you please add a test for this? There are similar tests in MultithreadingTest.cpp that do upload/draw or sample/sample with glWaitSync in between, but I see draw/sample is missing.",
      "revId": "0c1b3609d78f7766ce738c6f99b07bd139f00da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff56d2cb_bf91ebf1",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 138,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-06-28T19:24:58Z",
      "side": 0,
      "message": "getStatus calls submitSyncIfDeferred.",
      "parentUuid": "09491c72_a2f01df9",
      "revId": "0c1b3609d78f7766ce738c6f99b07bd139f00da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ecd10241_3c85f5d5",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 138,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-06-28T19:29:39Z",
      "side": 0,
      "message": "Acknowledged. Would still be good to have that extra coverage if you can get around to it,",
      "parentUuid": "ff56d2cb_bf91ebf1",
      "revId": "0c1b3609d78f7766ce738c6f99b07bd139f00da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e61f9ba9_ae58b899",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 138,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2023-06-28T19:35:49Z",
      "side": 0,
      "message": "MultithreadingTest.cpp has the test coverage you mentioned. Also asphalt_9 will render incorrect if we has the bug.",
      "parentUuid": "ecd10241_3c85f5d5",
      "revId": "0c1b3609d78f7766ce738c6f99b07bd139f00da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7d4337d_72ab4354",
        "filename": "src/libANGLE/renderer/vulkan/SyncVk.cpp",
        "patchSetId": 5
      },
      "lineNbr": 138,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-06-28T19:36:57Z",
      "side": 0,
      "message": "üëç",
      "parentUuid": "e61f9ba9_ae58b899",
      "revId": "0c1b3609d78f7766ce738c6f99b07bd139f00da5",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}