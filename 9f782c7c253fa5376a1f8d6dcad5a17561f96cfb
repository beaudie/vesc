{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3dd24ae8_13682014",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2022-02-11T16:51:15Z",
      "side": 1,
      "message": "LGTM! Please take a look at the prior patch, I think it had some errors.",
      "revId": "9f782c7c253fa5376a1f8d6dcad5a17561f96cfb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "97b278ea_633d4be3",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1908,
      "author": {
        "id": 1533513
      },
      "writtenOn": "2022-02-11T16:57:27Z",
      "side": 1,
      "message": "Note: I\u0027m not sure whether we can invalidate MS color and DS images unconditionally, so I\u0027ll leave figuring this out to someone that understands this invalidation speed hack better.",
      "revId": "9f782c7c253fa5376a1f8d6dcad5a17561f96cfb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70be9162_5037c017",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1908,
      "author": {
        "id": 1290487
      },
      "writtenOn": "2022-02-11T17:19:04Z",
      "side": 1,
      "message": "Should you add a comment and/or possibly file a bug?",
      "parentUuid": "97b278ea_633d4be3",
      "revId": "9f782c7c253fa5376a1f8d6dcad5a17561f96cfb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "379710dc_f5144266",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1908,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-02-11T17:36:55Z",
      "side": 1,
      "message": "My understanding is that you should invalidate depth/stencil unconditionally, but colorMS should be done at the same time as color. The buffer age spec says (emphasis mine):\n\n\u003e Querying EGL_BUFFER_AGE_EXT returns the age of the **color** contents of the current back-buffer as the number of frames elapsed since it was most recently defined.\n\nSo it returns the age of the _color_ contents. The spec says nothing about depth/stencil. Regarding colorMS, it\u0027s an implementation detail that an MS swapchain is emulated as such. As far as the application is concerned, the swapchain\u0027s color image is the multisampled one (when multisampled).",
      "parentUuid": "70be9162_5037c017",
      "revId": "9f782c7c253fa5376a1f8d6dcad5a17561f96cfb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "563ebc5b_0305fa09",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1908,
      "author": {
        "id": 1533513
      },
      "writtenOn": "2022-02-11T17:48:42Z",
      "side": 1,
      "message": "Prior to this change, the MS color image would be unconditionally invalidated, regardless of swap behavior (although I figure this might be related to the fact that preserved behavior is simply not implemented), but given what you\u0027re saying, it shouldn\u0027t have been?",
      "parentUuid": "379710dc_f5144266",
      "revId": "9f782c7c253fa5376a1f8d6dcad5a17561f96cfb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ef7149b_6ea9efc8",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1908,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-02-11T17:52:38Z",
      "side": 1,
      "message": "Yes that\u0027s right, it shouldn\u0027t have been invalidated if !EGL_BUFFER_DESTROYED\n\n(and that makes me realize that today we can expose behavior other than DESTROYED for MSAA swapchains without any additional effort)",
      "parentUuid": "563ebc5b_0305fa09",
      "revId": "9f782c7c253fa5376a1f8d6dcad5a17561f96cfb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "194cdff9_ed69a4aa",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1908,
      "author": {
        "id": 1533513
      },
      "writtenOn": "2022-02-11T18:29:20Z",
      "side": 1,
      "message": "I changed it so that MS color image is invalid iff color image is.",
      "parentUuid": "0ef7149b_6ea9efc8",
      "revId": "9f782c7c253fa5376a1f8d6dcad5a17561f96cfb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d59ff0f0_a8e487d5",
        "filename": "src/libANGLE/renderer/vulkan/SurfaceVk.cpp",
        "patchSetId": 11
      },
      "lineNbr": 1908,
      "author": {
        "id": 1533513
      },
      "writtenOn": "2022-02-11T18:30:21Z",
      "side": 1,
      "message": "Oops, s/invalid/invalidated/",
      "parentUuid": "194cdff9_ed69a4aa",
      "revId": "9f782c7c253fa5376a1f8d6dcad5a17561f96cfb",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}