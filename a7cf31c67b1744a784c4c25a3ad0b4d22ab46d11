{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "dbf80fba_a1d506c7",
        "filename": "src/libANGLE/renderer/vulkan/UtilsVk.h",
        "patchSetId": 4
      },
      "lineNbr": 650,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-07-13T19:33:46Z",
      "side": 1,
      "message": "nit: please use `angle::HashMap` instead.",
      "range": {
        "startLine": 650,
        "startChar": 9,
        "endLine": 650,
        "endChar": 22
      },
      "revId": "a7cf31c67b1744a784c4c25a3ad0b4d22ab46d11",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "66525c71_db921fa0",
        "filename": "src/libANGLE/renderer/vulkan/UtilsVk.h",
        "patchSetId": 4
      },
      "lineNbr": 650,
      "author": {
        "id": 1550632
      },
      "writtenOn": "2023-07-14T01:23:46Z",
      "side": 1,
      "message": "Not possible, this results in a compiler error at `UtilsVk.cpp:3243`:\n\n```\nIn file included from ../../src/libANGLE/renderer/vulkan/UtilsVk.cpp:10:\nIn file included from ../../src/libANGLE/renderer/vulkan/UtilsVk.h:31:\nIn file included from ../../src/libANGLE/renderer/vulkan/vk_cache_utils.h:15:\nIn file included from ../../src/common/FixedVector.h:13:\nIn file included from ../../src/common/debug.h:16:\nIn file included from ../../buildtools/third_party/libc++/trunk/include/iomanip:47:\nIn file included from ../../buildtools/third_party/libc++/trunk/include/istream:170:\nIn file included from ../../buildtools/third_party/libc++/trunk/include/ostream:170:\nIn file included from ../../buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:22:\nIn file included from ../../buildtools/third_party/libc++/trunk/include/__memory/allocation_guard.h:14:\n../../buildtools/third_party/libc++/trunk/include/__memory/allocator_traits.h:304:9: error: no matching function for call to \u0027construct_at\u0027\n  304 |         _VSTD::construct_at(__p, _VSTD::forward\u003c_Args\u003e(__args)...);\n      |         ^~~~~~~~~~~~~~~~~~~\n../../buildtools/third_party/libc++/trunk/include/__config:687:17: note: expanded from macro \u0027_VSTD\u0027\n  687 | #  define _VSTD std\n      |                 ^\n../../third_party/abseil-cpp/absl/container/internal/container_memory.h:440:42: note: in instantiation of function template specialization \u0027std::allocator_traits\u003cstd::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u003e::construct\u003cstd::pair\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e, std::pair\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e, void, void\u003e\u0027 requested here\n  440 |       absl::allocator_traits\u003cAllocator\u003e::construct(\n      |                                          ^\n../../third_party/abseil-cpp/absl/container/flat_hash_map.h:580:18: note: in instantiation of function template specialization \u0027absl::container_internal::map_slot_policy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e::transfer\u003cstd::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u003e\u0027 requested here\n  580 |     slot_policy::transfer(alloc, new_slot, old_slot);\n      |                  ^\n../../third_party/abseil-cpp/absl/container/internal/common_policy_traits.h:100:8: note: in instantiation of function template specialization \u0027absl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e::transfer\u003cstd::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u003e\u0027 requested here\n  100 |     P::transfer(alloc, new_slot, old_slot);\n      |        ^\n../../third_party/abseil-cpp/absl/container/internal/common_policy_traits.h:66:5: note: in instantiation of function template specialization \u0027absl::container_internal::common_policy_traits\u003cabsl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e::transfer_impl\u003cstd::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e, absl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u0027 requested here\n   66 |     transfer_impl(alloc, new_slot, old_slot, Rank0{});\n      |     ^\n../../third_party/abseil-cpp/absl/container/internal/raw_hash_set.h:2466:23: note: in instantiation of function template specialization \u0027absl::container_internal::common_policy_traits\u003cabsl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e::transfer\u003cstd::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u003e\u0027 requested here\n 2466 |         PolicyTraits::transfer(\u0026alloc_ref(), new_slots + new_i, old_slots + i);\n      |                       ^\n../../third_party/abseil-cpp/absl/container/internal/raw_hash_set.h:2611:7: note: (skipping 1 context in backtrace; use -ftemplate-backtrace-limit\u003d0 to see all)\n 2611 |       resize(growth_left() \u003e 0 ? cap : NextCapacity(cap));\n      |       ^\n../../third_party/abseil-cpp/absl/container/internal/raw_hash_set.h:2598:13: note: in instantiation of member function \u0027absl::container_internal::raw_hash_set\u003cabsl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e, absl::hash_internal::Hash\u003crx::vk::SamplerDesc\u003e, std::equal_to\u003crx::vk::SamplerDesc\u003e, std::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u003e::prepare_insert\u0027 requested here\n 2598 |     return {prepare_insert(hash), true};\n      |             ^\n../../third_party/abseil-cpp/absl/container/internal/raw_hash_map.h:202:22: note: in instantiation of function template specialization \u0027absl::container_internal::raw_hash_set\u003cabsl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e, absl::hash_internal::Hash\u003crx::vk::SamplerDesc\u003e, std::equal_to\u003crx::vk::SamplerDesc\u003e, std::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u003e::find_or_prepare_insert\u003crx::vk::SamplerDesc\u003e\u0027 requested here\n  202 |     auto res \u003d this-\u003efind_or_prepare_insert(k);\n      |                      ^\n../../third_party/abseil-cpp/absl/container/internal/raw_hash_map.h:139:12: note: in instantiation of function template specialization \u0027absl::container_internal::raw_hash_map\u003cabsl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e, absl::hash_internal::Hash\u003crx::vk::SamplerDesc\u003e, std::equal_to\u003crx::vk::SamplerDesc\u003e, std::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u003e::try_emplace_impl\u003cconst rx::vk::SamplerDesc \u0026\u003e\u0027 requested here\n  139 |     return try_emplace_impl(k, std::forward\u003cArgs\u003e(args)...);\n      |            ^\n../../third_party/abseil-cpp/absl/container/internal/raw_hash_map.h:184:28: note: in instantiation of function template specialization \u0027absl::container_internal::raw_hash_map\u003cabsl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e, absl::hash_internal::Hash\u003crx::vk::SamplerDesc\u003e, std::equal_to\u003crx::vk::SamplerDesc\u003e, std::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u003e::try_emplace\u003crx::vk::SamplerDesc, 0\u003e\u0027 requested here\n  184 |     return Policy::value(\u0026*try_emplace(key).first);\n      |                            ^\n../../src/libANGLE/renderer/vulkan/UtilsVk.cpp:3245:27: note: in instantiation of function template specialization \u0027absl::container_internal::raw_hash_map\u003cabsl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e, absl::hash_internal::Hash\u003crx::vk::SamplerDesc\u003e, std::equal_to\u003crx::vk::SamplerDesc\u003e, std::allocator\u003cstd::pair\u003cconst rx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u003e::operator[]\u003crx::vk::SamplerDesc, absl::container_internal::FlatHashMapPolicy\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e\u0027 requested here\n 3245 |         \u0026mImageCopy[flags][samplerDesc], \u0026pipelineDesc, descriptorSet, \u0026shaderParams,\n      |                           ^\n../../buildtools/third_party/libc++/trunk/include/__memory/construct_at.h:36:38: note: candidate template ignored: substitution failure [with _Tp \u003d std::pair\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e, _Args \u003d \u003cstd::pair\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u003e]: call to implicitly-deleted copy constructor of \u0027std::pair\u003crx::vk::SamplerDesc, rx::UtilsVk::GraphicsShaderProgramAndPipelines\u003e\u0027\n   35 | template \u003cclass _Tp, class... _Args, class \u003d decltype(::new(std::declval\u003cvoid*\u003e()) _Tp(std::declval\u003c_Args\u003e()...))\u003e\n      |                                                                                    ~~~\n   36 | _LIBCPP_HIDE_FROM_ABI constexpr _Tp* construct_at(_Tp* __location, _Args\u0026\u0026... __args) {\n      |                                      ^\n```",
      "parentUuid": "dbf80fba_a1d506c7",
      "range": {
        "startLine": 650,
        "startChar": 9,
        "endLine": 650,
        "endChar": 22
      },
      "revId": "a7cf31c67b1744a784c4c25a3ad0b4d22ab46d11",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}