{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e4a9fd0a_51ecb085",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-12-04T15:40:43Z",
      "side": 1,
      "message": "Again, good for review even though test suppressions due to driver bugs may end up being necessary.",
      "revId": "58c03c1037d0e2b4dccb36d7f7af0f6c3512f85e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7af7ec79_ef06efeb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-12-04T22:50:43Z",
      "side": 1,
      "message": "Looks reasonable to me with one comment",
      "revId": "58c03c1037d0e2b4dccb36d7f7af0f6c3512f85e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b21920e3_69aa62c1",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 320,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-12-04T22:50:43Z",
      "side": 1,
      "message": "Could it possible to restructure flushCommandsAndEndRenderPass() a bit so that flushCommandsAndEndRenderPass does not need to call pauseRenderPassQueriesIfActive? If not, then maybe just call pauseRenderPassQueriesIfActive from DIRTY_BIT_DRAW_FRAMEBUFFER_BINDING code is simpler, IMO.",
      "range": {
        "startLine": 320,
        "startChar": 29,
        "endLine": 320,
        "endChar": 49
      },
      "revId": "58c03c1037d0e2b4dccb36d7f7af0f6c3512f85e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "611d59c5_baad6bb4",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 320,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-12-05T03:11:59Z",
      "side": 1,
      "message": "There are many instances where flushCommandsAndEndRenderPass() needs to pause queries. In fact, every instance of flushCommandsAndEndRenderPass() should also pause queries. flushCommandsAndEndRenderPass() calls onRenderPassFinished() so this change is a noop from that perspective.\n\nThe only ugliness comes from DIRTY_BIT_DRAW_FRAMEBUFFER_BINDING which calls onRenderPassFinished() before the render pass is closed. This change is basically adding pauseRenderPassQueriesIfActive() for that particular case, but the code is refactored to prevent errors in the future.\n\n---\n\nWhy on earth does DIRTY_BIT_DRAW_FRAMEBUFFER_BINDING not call flushCommandsAndEndRenderPass() directly is unknown to me. Some optimization?",
      "parentUuid": "b21920e3_69aa62c1",
      "range": {
        "startLine": 320,
        "startChar": 29,
        "endLine": 320,
        "endChar": 49
      },
      "revId": "58c03c1037d0e2b4dccb36d7f7af0f6c3512f85e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8e57b0b_3942b4c1",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 320,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2020-12-07T17:04:24Z",
      "side": 1,
      "message": "We rely on FramebufferVk::syncState() to do that for us if necessary.   We don\u0027t always want to do it when the draw framebuffer changes though.   For example, the MSAA optimization to convert a \u0027blit to resolve\u0027 to using resolve attachments relies on *not* calling flushCommandsAndEndRenderPass().",
      "parentUuid": "611d59c5_baad6bb4",
      "range": {
        "startLine": 320,
        "startChar": 29,
        "endLine": 320,
        "endChar": 49
      },
      "revId": "58c03c1037d0e2b4dccb36d7f7af0f6c3512f85e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e6d6089a_a12ed776",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 320,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-12-07T20:15:43Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a8e57b0b_3942b4c1",
      "range": {
        "startLine": 320,
        "startChar": 29,
        "endLine": 320,
        "endChar": 49
      },
      "revId": "58c03c1037d0e2b4dccb36d7f7af0f6c3512f85e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}