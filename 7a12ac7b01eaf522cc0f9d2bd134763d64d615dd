{
  "comments": [
    {
      "key": {
        "uuid": "06f0efa0_c91564ce",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2088,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2017-03-20T14:29:19Z",
      "side": 1,
      "message": "I think we still need to call this with the proper parameters.  This function will correctly handle translating GL_UNSIGNED_BYTE index buffers (which D3D doesn\u0027t support)  and working around a few issues related to primitive restart.",
      "range": {
        "startLine": 2084,
        "startChar": 4,
        "endLine": 2088,
        "endChar": 74
      },
      "revId": "7a12ac7b01eaf522cc0f9d2bd134763d64d615dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "575df3af_9f8536d5",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2088,
      "author": {
        "id": 1165541
      },
      "writtenOn": "2017-03-21T13:19:28Z",
      "side": 1,
      "message": "Yes, I missed to consider those cases. There are two main issues: One is workaround related to primitive restart, other is index data which need to dynamic translate. These two situations both need to call with proper parameters not zero.  I have added conditions type !\u003d GL_UNSIGNED_SHORT \u0026\u0026 indexBuffer-\u003esupportsDirectBinding() to check.",
      "parentUuid": "06f0efa0_c91564ce",
      "range": {
        "startLine": 2084,
        "startChar": 4,
        "endLine": 2088,
        "endChar": 74
      },
      "revId": "7a12ac7b01eaf522cc0f9d2bd134763d64d615dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae667c45_165ed81c",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2114,
      "author": {
        "id": 1144534
      },
      "writtenOn": "2017-03-17T05:15:34Z",
      "side": 1,
      "message": "nit: Why not static_cast\u003cuint8_t *\u003e(firstIndex * typeInfo.bytes); ?",
      "revId": "7a12ac7b01eaf522cc0f9d2bd134763d64d615dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c34b639b_8e1d5155",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2114,
      "author": {
        "id": 1165541
      },
      "writtenOn": "2017-03-17T08:18:57Z",
      "side": 1,
      "message": "If you use uint8_t *indices \u003d static_cast\u003cuint8_t *\u003e( firstIndex * typeInfo.bytes), it will have the below error:\nc:\\workspace\\jiajia\\angle\\src\\libangle\\renderer\\d3d\\d3d11\\renderer11.cpp(2115): error C2440: \u0027static_cast\u0027: cannot convert from \u0027GLuint\u0027 to \u0027uint8_t *\u0027\nc:\\workspace\\jiajia\\angle\\src\\libangle\\renderer\\d3d\\d3d11\\renderer11.cpp(2115): note: Conversion from integral type to pointer type requires reinterpret_cast, C-style cast or function-style cast\n\nIf you use uint8_t *indices \u003d reinterpret_cast\u003cuint8_t *\u003e( firstIndex * typeInfo.bytes), it will have the below error:\nc:\\workspace\\jiajia\\angle\\src\\libangle\\renderer\\d3d\\d3d11\\renderer11.cpp(2115): error C2220: warning treated as error - no \u0027object\u0027 file generated\nc:\\workspace\\jiajia\\angle\\src\\libangle\\renderer\\d3d\\d3d11\\renderer11.cpp(2115): warning C4312: \u0027reinterpret_cast\u0027: conversion from \u0027GLuint\u0027 to \u0027uint8_t *\u0027 of greater size",
      "parentUuid": "ae667c45_165ed81c",
      "revId": "7a12ac7b01eaf522cc0f9d2bd134763d64d615dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47cf5914_3fe167e6",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2120,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2017-03-20T14:29:19Z",
      "side": 1,
      "message": "If you call applyIndexBuffer with the correct parameters you can just use applyIndexBuffer.indexRange instead.",
      "range": {
        "startLine": 2116,
        "startChar": 4,
        "endLine": 2120,
        "endChar": 99
      },
      "revId": "7a12ac7b01eaf522cc0f9d2bd134763d64d615dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d232dd8d_341ac2fc",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 2
      },
      "lineNbr": 2120,
      "author": {
        "id": 1165541
      },
      "writtenOn": "2017-03-21T13:19:28Z",
      "side": 1,
      "message": "I think that correct parameters is based on getIndexRange. Only call getIndexRange, then I can get the right indexRange.  At last, apply index buffer.  See the latest patch set.",
      "parentUuid": "47cf5914_3fe167e6",
      "range": {
        "startLine": 2116,
        "startChar": 4,
        "endLine": 2120,
        "endChar": 99
      },
      "revId": "7a12ac7b01eaf522cc0f9d2bd134763d64d615dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}