{
  "comments": [
    {
      "key": {
        "uuid": "a91fbbeb_f0b97a1d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-09-10T01:25:04Z",
      "side": 1,
      "message": "The change LGTM now. Jamie\u0027s back tomorrow, and I have a feeling he might have some feedback. I suggest giving him a chance to take a look at the change too.",
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90075ce3_8fa12264",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-09-10T13:18:28Z",
      "side": 1,
      "message": "Thanks! Looking now.",
      "parentUuid": "a91fbbeb_f0b97a1d",
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11d569a4_8414d2aa",
        "filename": "src/libANGLE/renderer/vulkan/FramebufferVk.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1677,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-09-10T13:43:52Z",
      "side": 1,
      "message": "nit: this case is getting a bit indented - can you move this into a helper member?",
      "range": {
        "startLine": 1677,
        "startChar": 12,
        "endLine": 1677,
        "endChar": 57
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebdf08ed_725a1743",
        "filename": "src/libANGLE/renderer/vulkan/FramebufferVk.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1677,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-09-10T19:25:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "11d569a4_8414d2aa",
      "range": {
        "startLine": 1677,
        "startChar": 12,
        "endLine": 1677,
        "endChar": 57
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1b696d18_d6f4155e",
        "filename": "src/libANGLE/renderer/vulkan/FramebufferVk.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1687,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-09-10T13:43:52Z",
      "side": 1,
      "message": "Not sure if any other reviewer has asked this- \n\nWhat if we just ignore the draw buffers mask when making the FramebufferDesc and always pull the (possibly zero) ImageViewSubresourceSerial? We\u0027d use the color mask combined with the draw buffers mask to disable writes to certain images. This could simplify the code here and potentially increase consistency. I predict there would be no performance penalty to this approach.",
      "range": {
        "startLine": 1687,
        "startChar": 23,
        "endLine": 1687,
        "endChar": 71
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04130210_fcd53cfe",
        "filename": "src/libANGLE/renderer/vulkan/FramebufferVk.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1687,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2020-09-10T16:12:38Z",
      "side": 1,
      "message": "I suggested the same earlier. Charlie\u0027s preference was to do that in a follow up.",
      "parentUuid": "1b696d18_d6f4155e",
      "range": {
        "startLine": 1687,
        "startChar": 23,
        "endLine": 1687,
        "endChar": 71
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a01dc3a_63cdfad4",
        "filename": "src/libANGLE/renderer/vulkan/FramebufferVk.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1687,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-09-10T16:24:13Z",
      "side": 1,
      "message": "Seeing as we\u0027re in concordance here I suggest we do it in this CL.",
      "parentUuid": "04130210_fcd53cfe",
      "range": {
        "startLine": 1687,
        "startChar": 23,
        "endLine": 1687,
        "endChar": 71
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a49530e_9cb00502",
        "filename": "src/libANGLE/renderer/vulkan/FramebufferVk.cpp",
        "patchSetId": 8
      },
      "lineNbr": 1687,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-09-10T19:25:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4a01dc3a_63cdfad4",
      "range": {
        "startLine": 1687,
        "startChar": 23,
        "endLine": 1687,
        "endChar": 71
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf533aa8_a039ed48",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 8
      },
      "lineNbr": 1007,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-09-10T13:43:52Z",
      "side": 1,
      "message": "As far as I can see you aren\u0027t using this new mask to initialize the VkFramebuffer. We can get the same VkFramebuffer for different color buffer masks. Therefore we\u0027re getting duplicate cache values for multiple mask keys.\n\nWe should move this mask out of FramebufferDesc and into FramebufferVk as a member variable. You should still be able to interact with it exactly the same way.\n\nLong-long term we could look at adding ASSERTs that verify our caches have no duplicate *values*.",
      "range": {
        "startLine": 1005,
        "startChar": 0,
        "endLine": 1007,
        "endChar": 40
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80b8ffe4_24e42cda",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.h",
        "patchSetId": 8
      },
      "lineNbr": 1007,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-09-10T19:25:25Z",
      "side": 1,
      "message": "This is used to create VkFramebuffer (and Renderpass). See FramebufferVk.cpp line 1893.",
      "parentUuid": "cf533aa8_a039ed48",
      "range": {
        "startLine": 1005,
        "startChar": 0,
        "endLine": 1007,
        "endChar": 40
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d13e352b_5a78ecad",
        "filename": "src/tests/gl_tests/DrawBuffersTest.cpp",
        "patchSetId": 8
      },
      "lineNbr": 896,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-09-10T13:43:52Z",
      "side": 1,
      "message": "nit: Please leave a comment before every new test. Also reviewers, don\u0027t forget to request this for new ANGLE tests. One of those very small consistency issues.\n\nAlso, thanks for writing all the tests!",
      "range": {
        "startLine": 896,
        "startChar": 0,
        "endLine": 896,
        "endChar": 6
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d37f9fbc_9c66e9d2",
        "filename": "src/tests/gl_tests/DrawBuffersTest.cpp",
        "patchSetId": 8
      },
      "lineNbr": 896,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-09-10T19:25:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d13e352b_5a78ecad",
      "range": {
        "startLine": 896,
        "startChar": 0,
        "endLine": 896,
        "endChar": 6
      },
      "revId": "43cdbac5a43cbd6f8f3615d482cfdb5d010e53ed",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}