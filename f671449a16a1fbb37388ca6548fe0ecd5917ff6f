{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fa6f5faf_1e36fcb1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2021-12-28T19:11:48Z",
      "side": 1,
      "message": "Tim, it looks like this launch trace includes a permissions prompt?  Would it make sense to collect one that didn\u0027t have that, and would get straight to loading assets?",
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4bd26830_481e6c45",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2021-12-28T19:29:18Z",
      "side": 1,
      "message": "I\u0027m clearing the package cache so it builds everything from scratch (adb shell pm clear $PACKAGE_NAME), which also requires granting permissions each time.",
      "parentUuid": "fa6f5faf_1e36fcb1",
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "93ab2ce5_fcea86f9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2021-12-28T20:47:51Z",
      "side": 1,
      "message": "I checked the trace and there aren\u0027t very many frames of the permission prompt (maybe just one).  There are lots of identical frames though (500+) showing a loading screen, apparently waiting for network things to happen.\n\nI think generally this isn\u0027t a great trace for measuring launch time, but I\u0027m okay landing it now as a starting point.",
      "parentUuid": "4bd26830_481e6c45",
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "964c8143_bed2c7c3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-29T20:15:45Z",
      "side": 1,
      "message": "Sorry for the delay - I\u0027m putting a hold on these until we can verify the reset stuff with ASAN or other san stuff. I\u0027m a bit worried about leaks.",
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4672ff6_5debf457",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2021-12-30T18:05:07Z",
      "side": 1,
      "message": "When are you planning on that being finished up?",
      "parentUuid": "964c8143_bed2c7c3",
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bca7483_14477353",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-30T18:08:19Z",
      "side": 1,
      "message": "Can you help, it would be something that you might find easy. Build with ASAN, then run the tests both in normal and native over several iterations. Ensure there\u0027s no memory/object growth (not sure the best way to do this, maybe manual prints) or ASAN errors. Basically ensure the Reset function is resetting all the objects.\n\nLooking in the Reset function, we don\u0027t handle many object types including Renderbuffers, Framebuffers, VAOs, etc, so I can almost guarantee the trace is behaving badly.",
      "parentUuid": "d4672ff6_5debf457",
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd1f09c9_e60e1bf6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1256237
      },
      "writtenOn": "2022-01-06T17:40:22Z",
      "side": 1,
      "message": "One thing that can easily detect if we aren\u0027t handling reset of an object type is if the value of returned handles from the underlying driver grow unbounded.  If we delete them properly, the number range will be stable.\n\nGetting Reset right for all the object types is a big task.  We can add that to our plan for 2022.  I don\u0027t think we should hold up all new traces in the meantime though, they provide too much value.  Maybe there are select traces to hold back if we suspect Reset is a problem?",
      "parentUuid": "5bca7483_14477353",
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2df48c9_e3bba495",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2022-01-07T02:10:33Z",
      "side": 1,
      "message": "Here\u0027s the CL to reset FBOs, RBOs, and VAOs:\n3371881: Capture/Replay: Reset FBOs, RBOs, VAOs | https://chromium-review.googlesource.com/c/angle/angle/+/3371881\n\nThese are the glGen calls made by Angry Birds 2 and PUBG Mobile:\n    glGenVertexArrays(1, reinterpret_cast\u003cGLuint *\u003e(gReadBuffer));\n    glGenBuffers(1, reinterpret_cast\u003cGLuint *\u003e(gReadBuffer));\n    glGenTextures(1, reinterpret_cast\u003cGLuint *\u003e(gReadBuffer));\n    glGenRenderbuffers(1, reinterpret_cast\u003cGLuint *\u003e(gReadBuffer));\n    glGenFramebuffers(1, reinterpret_cast\u003cGLuint *\u003e(gReadBuffer));\n    \nSo those additions should cover everything now.",
      "parentUuid": "bd1f09c9_e60e1bf6",
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a0e55a2b_443e5ec7",
        "filename": "src/tests/restricted_traces/restricted_traces.json",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-12-29T18:08:47Z",
      "side": 1,
      "message": "6? did you already hit 1/2/3/4/5?",
      "range": {
        "startLine": 14,
        "startChar": 2,
        "endLine": 14,
        "endChar": 29
      },
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f61e5d03_4ba4b6d9",
        "filename": "src/tests/restricted_traces/restricted_traces.json",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1297197
      },
      "writtenOn": "2021-12-30T18:05:07Z",
      "side": 1,
      "message": "Yes.",
      "parentUuid": "a0e55a2b_443e5ec7",
      "range": {
        "startLine": 14,
        "startChar": 2,
        "endLine": 14,
        "endChar": 29
      },
      "revId": "f671449a16a1fbb37388ca6548fe0ecd5917ff6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}