{
  "comments": [
    {
      "key": {
        "uuid": "558caab9_f152f0da",
        "filename": "src/libGLESv2/Framebuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 618,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2014-11-07T16:53:26Z",
      "side": 1,
      "message": "Instead of creating a new dummy attachment for stencil, which allocates memory and might invoke backend commands, wouldn\u0027t it be more efficient to just check for pointer equality in all three branches (depth, stencil, depth+stencil)?",
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba0a3312_5b14b7e4",
        "filename": "src/libGLESv2/Framebuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 618,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2014-11-10T16:08:52Z",
      "side": 1,
      "message": "Do you mean storing mDepthbuffer and mStencilbuffer as the same pointer? Just watch out for deleting the object twice.. maybe you were meaning to reorganize the code so this wouldn\u0027t be an issue.",
      "parentUuid": "558caab9_f152f0da",
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5af85738_c34d8a08",
        "filename": "src/libGLESv2/Framebuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 618,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2014-11-10T16:29:39Z",
      "side": 1,
      "message": "Yes, that\u0027s what I meant, checking the pointers equality avoiding a double free.",
      "parentUuid": "ba0a3312_5b14b7e4",
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "558caab9_7147c015",
        "filename": "src/libGLESv2/Framebuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 622,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2014-11-07T16:53:26Z",
      "side": 1,
      "message": "That condition should have been checked in libGLESv2.cpp instead, or we should return an error without deleting the previous attachments.",
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "558caab9_ecf693a2",
        "filename": "src/libGLESv2/Framebuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 622,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2014-11-07T19:18:13Z",
      "side": 1,
      "message": "Agreed, I\u0027ll take a look and add a patch after this.",
      "parentUuid": "558caab9_7147c015",
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "558caab9_91444c11",
        "filename": "src/libGLESv2/Framebuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 634,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2014-11-07T16:53:26Z",
      "side": 1,
      "message": "This could alo be a NULL attachment.",
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9558e21b_f589f003",
        "filename": "src/libGLESv2/Framebuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 634,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2014-11-07T19:18:13Z",
      "side": 1,
      "message": "This should be covered by the if-statement above.",
      "parentUuid": "558caab9_91444c11",
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9558e21b_75442010",
        "filename": "src/libGLESv2/Framebuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 634,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2014-11-07T19:31:14Z",
      "side": 1,
      "message": "I was referring to a call to setNULLAttachment(GL_DEPTH_STENCIL_ATTACHMENT) but now I realize that it is covered in the first condition of line 623",
      "parentUuid": "9558e21b_f589f003",
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3acf2349_acd843a4",
        "filename": "src/libGLESv2/Framebuffer.cpp",
        "patchSetId": 2
      },
      "lineNbr": 641,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2014-11-11T16:27:15Z",
      "side": 1,
      "message": "nit: Nicolas once suggested to me we use the style\n\n  }\n  else UNREACHABLE();",
      "range": {
        "startLine": 641,
        "startChar": 4,
        "endLine": 641,
        "endChar": 5
      },
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9558e21b_d2ffa20c",
        "filename": "src/libGLESv2/libGLESv2.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1584,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2014-11-07T16:53:26Z",
      "side": 1,
      "message": "The first part of this validation is already in ValidateFramebufferRenderbufferParameters and there is almost the second part too (although it only checks framebufferHandle \u003d\u003d 0).",
      "revId": "cd6bcd1502291763c5366eb214efa4d4067e2a24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}