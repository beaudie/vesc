{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "92c7a6a5_c26301e9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-02-11T15:35:39Z",
      "side": 1,
      "message": "wow I totally misread the units here! Ignore for now. The change still makes sense IMO given swiftshader\u0027s nature, but I couldn\u0027t repro the issue like I thought I did.",
      "range": {
        "startLine": 24,
        "startChar": 89,
        "endLine": 24,
        "endChar": 91
      },
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4feab30c_375bdf12",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-02-11T04:51:07Z",
      "side": 1,
      "message": "Could potentially also spy on --use-angle. As is, after this lands I should also modify chromium to actually use this flag.\n\nHopefully that would put an end to the flaky timeouts. If not, we could also throttle the test runner so it doesn\u0027t spawn N processes all at the same time, so whatever warmup is done on the first test has a little room to complete before a competing process starts.",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5e9d174b_6540997c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-02-11T16:55:01Z",
      "side": 1,
      "message": "Shabi: is this with experimenting on a workstation with a ton of physical cores? Can you check on the bots how they perform with this limit in place? I wonder if we should instead just limit the number of max processes we spawn to 8 or something. Trying to think of a way to get the same result without maintaining a new flag.",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e3b73982_11e57c43",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-02-11T17:23:29Z",
      "side": 1,
      "message": "No, on my personal computer with 16 threads (Ryzen). Not sure if you saw the other message (I wrote it while in WIP). I misread the units in my sleepy haze, so I don\u0027t actually have a repro for this. It\u0027s not about 16 vs 8. It\u0027s about leaving some room for swiftshader\u0027s threads to work. On a 4 thread CPU, bot mode could use 2 for example. When not running no swiftshader, there\u0027s no point in not utilizing the cpu to the max.\n\nAn alternative is to parse --use-angle, but that wouldn\u0027t work if swiftshader is enabled in some other way.",
      "parentUuid": "5e9d174b_6540997c",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "68649c65_1d13549f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-02-11T17:29:00Z",
      "side": 1,
      "message": "Can you check on the infra and see if this change reduces machine minutes on the SwS configs?",
      "parentUuid": "e3b73982_11e57c43",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "88e5305d_eb53c4c3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2021-02-11T17:32:30Z",
      "side": 1,
      "message": "Before 49m 58s machine time https://luci-milo.appspot.com/ui/p/chromium/builders/ci/win-swangle-x86/22085/steps?succeeded\u003dtrue\u0026debug\u003dtrue\nAfter 47m 44s machine time https://ci.chromium.org/ui/p/chromium/builders/try/win-swangle-try-tot-angle-x86/7509/steps?succeeded\u003dtrue\u0026debug\u003dfalse",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6fdec1b7_00da6d32",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2021-02-11T17:34:22Z",
      "side": 1,
      "message": "Ooops, this is just variance.\nThe flag isn\u0027t on yet ðŸ˜ž",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "59d4e98a_5a8b11ad",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2021-02-11T17:36:38Z",
      "side": 1,
      "message": "To actually test this, you can upload a Chromium CL setting the flag, and in the same CL set Chromium\u0027s DEPS to ANGLE\u0027s refs/changes/41/2690141/1 instead of the current git hash.",
      "parentUuid": "6fdec1b7_00da6d32",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24b6b30a_c87ba5fc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001921
      },
      "writtenOn": "2021-02-11T17:36:38Z",
      "side": 1,
      "message": "To test, add the flag in ",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f87aab6e_877c032b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-02-11T18:05:14Z",
      "side": 1,
      "message": "In progress: https://chromium-review.googlesource.com/c/chromium/src/+/2690263\n\nAlso running on my laptop (8 threads). With half threads, usage hovers around 80%, so I wouldn\u0027t be surprised if there\u0027s a slowdown. We could potentially also use 75% of cpus for example if it matters.",
      "parentUuid": "59d4e98a_5a8b11ad",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "23f30380_533282e3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-02-11T18:09:33Z",
      "side": 1,
      "message": "Local run was 30% slower, so half is definitely too few.",
      "parentUuid": "f87aab6e_877c032b",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa5bc6d2_9be9fe87",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-02-11T18:28:09Z",
      "side": 1,
      "message": "13% slower with 75% of CPUs.",
      "parentUuid": "23f30380_533282e3",
      "revId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Owners",
        "description": {
          "value": "User with the code owner override approved the change"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:enabled_code-owners"
          }
        },
        "submittabilityExpression": {
          "expressionString": "has:approval_code-owners"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Owners-Override\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:enabled_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:enabled_code-owners"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:approval_code-owners"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:approval_code-owners"],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Owners-Override=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Owners-Override=+1"]}
      },
      "patchSetCommitId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "Submit requirement for the \u0027Code-Review\u0027 label"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX,user=non_uploader","label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforced_gerrit"]}
      },
      "submittabilityExpressionResult": {},
      "overrideExpressionResult": {},
      "patchSetCommitId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "Submit requirement for the \u0027Verified\u0027 label"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:false"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:true"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:false"]}
      },
      "submittabilityExpressionResult": {},
      "overrideExpressionResult": {},
      "patchSetCommitId": "68849e168a53661a7f46289316d4dcf707c8128a",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}