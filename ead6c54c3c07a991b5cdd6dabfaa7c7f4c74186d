{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c8bb03b5_0debab6a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2022-12-01T15:57:38Z",
      "side": 1,
      "message": "Change GBM config to format used by Weston compositor",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01ea9ce7_f6a5c345",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2022-12-01T16:46:30Z",
      "side": 1,
      "message": "Background:\nSungyong noted that Weston looks for this format first BGRX, and then looks for BGRA. This caused some extra effort. So we are switching out for its default.",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d43246bd_a06ae64a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1433074
      },
      "writtenOn": "2022-12-01T22:37:19Z",
      "side": 1,
      "message": "Thank you for the change üëç",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9222f54b_f236cd69",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2022-12-06T15:12:27Z",
      "side": 1,
      "message": "Unless someone wants a GL_BGRA8 added - for a alpha config, then this is ready.",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cb06456e_be96e78d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2022-12-06T17:05:12Z",
      "side": 1,
      "message": "Ready to land",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0544e6ff_2792a1a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2022-12-07T00:49:14Z",
      "side": 1,
      "message": "@sywow.choi@samsung.com - Mohan pointed out that if we use a RGBX, that ANGLE will fill/copy the \"X\" channel with \"1\", because vulkan uses RGBA, and alpha needs to be \"1\" for any blit.\nSo we need to look at this cost verses the cost of using GL_BGRA8 and Wayland retrying config selection.",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3dcf1ce1_0b81c84d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1433074
      },
      "writtenOn": "2022-12-07T01:09:53Z",
      "side": 1,
      "message": "Actually I couldn\u0027t fully understand. \nDo you mean that the {Write|Read}Color\u003cR8G8B8X8, GLfloat\u003e function is different from {Write|Read}Color\u003cR8B8G8A8, GLfloat\u003e function ?\n\n```c\nvoid B8G8R8A8::readColor(gl::ColorUI *dst, const B8G8R8A8 *src)\n{\n    dst-\u003ered   \u003d src-\u003eR;\n    dst-\u003egreen \u003d src-\u003eG;\n    dst-\u003eblue  \u003d src-\u003eB;\n    dst-\u003ealpha \u003d src-\u003eA;\n}\n```\n\n```c\nvoid B8G8R8X8::writeColor(B8G8R8X8 *dst, const gl::ColorF *src)\n{\n    dst-\u003eR \u003d gl::floatToNormalized\u003cuint8_t\u003e(src-\u003ered);\n    dst-\u003eG \u003d gl::floatToNormalized\u003cuint8_t\u003e(src-\u003egreen);\n    dst-\u003eB \u003d gl::floatToNormalized\u003cuint8_t\u003e(src-\u003eblue);\n    dst-\u003eX \u003d 255;\n}\n```",
      "parentUuid": "0544e6ff_2792a1a2",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5bae202c_d22fa0d8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-12-07T02:52:38Z",
      "side": 1,
      "message": "It\u0027s not just that. There are all sorts of copies, clears, data uploads etc where we have to take care to keep the emulated alpha channel as 1.0. A lot of that doesn\u0027t apply to the swapchain image though, as access to those images is very limited in GL.\n\nIf Wayland supports RGBA, you might as well use it, but to be honest, I doubt you\u0027d pay any real costs with RGBX either; most likely the difference would be the first render pass using the swapchain image having LOAD_OP_CLEAR instead of LOAD_OP_DONT_CARE, which is entirely free on some hardware, and is typically very cheap on others due to framebuffer compression.\n\nDo measure before going through hoops!",
      "parentUuid": "3dcf1ce1_0b81c84d",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3bb7b35e_d159a967",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1433074
      },
      "writtenOn": "2022-12-08T01:41:25Z",
      "side": 1,
      "message": "Thank you for the information. I should have to study and be more careful before writing comment and uploading the patches. I will heed your advice.\nBut I still can\u0027t catch up your comment.\n1. Regardless of this patch, Wayland will use BGRA.\n2. What is the `difference` here ?",
      "parentUuid": "5bae202c_d22fa0d8",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04ecc330_a781e966",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1433074
      },
      "writtenOn": "2022-12-08T08:51:44Z",
      "side": 1,
      "message": "Never mind my second question. Thank you.",
      "parentUuid": "3bb7b35e_d159a967",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6bd0704f_ac695a88",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2022-12-08T15:27:52Z",
      "side": 1,
      "message": "I\u0027m just sharing the information given me. We just need to decide if there is extra work with BGRX or extra work with BGRA, and go with the best one.",
      "parentUuid": "04ecc330_a781e966",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee10f0aa_ea387058",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2022-12-20T20:53:23Z",
      "side": 1,
      "message": "Weston code where config is selected:\nhttps://github.com/wayland-project/weston/blob/main/libweston/renderer-gl/egl-glue.c#L393\nhttps://github.com/wayland-project/weston/blob/main/libweston/renderer-gl/egl-glue.c#L280\nhttps://github.com/wayland-project/weston/blob/main/libweston/renderer-gl/egl-glue.c#L325\nMatches up with log Sungyong captured. Doesn\u0027t look like much code to fall back from XRGB8888 to ARGB8888",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1c306efa_f49b14ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1359249
      },
      "writtenOn": "2023-01-19T16:45:17Z",
      "side": 1,
      "message": "I think we will probably abandon this patch. Leave as BGRA8, since we believe that has the least overhead for ANGLE.\nThe Samsung solution for our project already has a local patch with added formats.",
      "revId": "ead6c54c3c07a991b5cdd6dabfaa7c7f4c74186d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}