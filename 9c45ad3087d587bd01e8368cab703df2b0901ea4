{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7d6ea296_5f27cd1f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-10-06T19:21:17Z",
      "side": 1,
      "message": "Sunny, here\u0027s the other part of optimizing blend state setting. Could you please confirm that this actually improves the driver overhead benchmark (and by how much)? Thanks!",
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "911479d6_7d0d7c56",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1323708
      },
      "writtenOn": "2021-10-07T09:09:08Z",
      "side": 1,
      "message": "I can see improvement on driver overhead 2, but only 1%",
      "parentUuid": "7d6ea296_5f27cd1f",
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b588604_8a3507fe",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-10-07T14:20:07Z",
      "side": 1,
      "message": "Thanks for checking Sunny!",
      "parentUuid": "911479d6_7d0d7c56",
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b2dcfa9_37de0ae8",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.h",
        "patchSetId": 3
      },
      "lineNbr": 1129,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-10-07T14:23:53Z",
      "side": 1,
      "message": "Looks like this is duplicating with something existing, can you remove it?",
      "range": {
        "startLine": 1129,
        "startChar": 23,
        "endLine": 1129,
        "endChar": 58
      },
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "814c5132_25186843",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.h",
        "patchSetId": 3
      },
      "lineNbr": 1129,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-10-07T14:33:27Z",
      "side": 1,
      "message": "Didn\u0027t find any. Originally I used to take this out of `mDrawFramebuffer`, but that caused crashes when running tests back-to-back because `mDrawFramebuffer` can get stale (i.e. it\u0027s not nullptr, but points to deleted object). ContextVk::syncState on DIRTY_BIT_DRAW_FRAMEBUFFER_BINDING is the one updating it, which is when this value is needed, but mDrawFramebuffer at that point is unreliable.\n\nAny suggestions?",
      "parentUuid": "1b2dcfa9_37de0ae8",
      "range": {
        "startLine": 1129,
        "startChar": 23,
        "endLine": 1129,
        "endChar": 58
      },
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82cb160c_ff6d8a65",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.h",
        "patchSetId": 3
      },
      "lineNbr": 1129,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-10-07T15:04:12Z",
      "side": 1,
      "message": "FramebufferVk *framebufferVk        \u003d vk::GetImpl(mState.getDrawFramebuffer());\n    mDrawFramebufferColorAttachmentMask \u003d framebufferVk-\u003egetState().getEnabledDrawBuffers();\n    \nThis code.",
      "parentUuid": "814c5132_25186843",
      "range": {
        "startLine": 1129,
        "startChar": 23,
        "endLine": 1129,
        "endChar": 58
      },
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "632f93e9_de3ea8e8",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.h",
        "patchSetId": 3
      },
      "lineNbr": 1129,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-10-07T15:19:39Z",
      "side": 1,
      "message": "That\u0027s updating this cached value when the framebuffer\u0027s draw buffers have changed (instead of a new one being bound).\n\nWe can talk about it in GVC if you prefer",
      "parentUuid": "82cb160c_ff6d8a65",
      "range": {
        "startLine": 1129,
        "startChar": 23,
        "endLine": 1129,
        "endChar": 58
      },
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d06d255c_beb0a887",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.h",
        "patchSetId": 3
      },
      "lineNbr": 1129,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-10-07T18:49:59Z",
      "side": 1,
      "message": "OK I get it now.\n\nnit: call mCurrent or mCached... to clarify it\u0027s the previous value not the current one.",
      "parentUuid": "632f93e9_de3ea8e8",
      "range": {
        "startLine": 1129,
        "startChar": 23,
        "endLine": 1129,
        "endChar": 58
      },
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4bf1d12e_57c29f68",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.h",
        "patchSetId": 3
      },
      "lineNbr": 1129,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-10-19T15:35:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d06d255c_beb0a887",
      "range": {
        "startLine": 1129,
        "startChar": 23,
        "endLine": 1129,
        "endChar": 58
      },
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ca99171_8ffe21fd",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2336,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2021-10-07T18:49:59Z",
      "side": 1,
      "message": "nit: explicit",
      "range": {
        "startLine": 2336,
        "startChar": 92,
        "endLine": 2336,
        "endChar": 93
      },
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "616ccf3d_574d69ec",
        "filename": "src/libANGLE/renderer/vulkan/vk_cache_utils.cpp",
        "patchSetId": 3
      },
      "lineNbr": 2336,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2021-10-19T15:35:13Z",
      "side": 1,
      "message": "Number of bits in a byte? We don\u0027t do that anywhere else (including other functions in this file). I changed `kSize` to `kSizeBits` to make it clearer though.",
      "parentUuid": "7ca99171_8ffe21fd",
      "range": {
        "startLine": 2336,
        "startChar": 92,
        "endLine": 2336,
        "endChar": 93
      },
      "revId": "9c45ad3087d587bd01e8368cab703df2b0901ea4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}