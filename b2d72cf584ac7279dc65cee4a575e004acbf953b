{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "962c13a7_59c7b8ab",
        "filename": "src/common/FastVector.h",
        "patchSetId": 4
      },
      "lineNbr": 216,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-02-15T00:49:07Z",
      "side": 1,
      "message": "Doing `new` on reset is probably not a good idea, the default constructor could still make allocations etc.\n\nI think we should just call the destructor here. Later on resize(), `new` should be called if necessary (and a lot of times it\u0027s not necessary)",
      "revId": "b2d72cf584ac7279dc65cee4a575e004acbf953b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31199546_df634a24",
        "filename": "src/common/FastVector.h",
        "patchSetId": 4
      },
      "lineNbr": 216,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-02-15T01:01:20Z",
      "side": 1,
      "message": "Yes...\n\nI was thinking about that. However if only call destructor we will end up with some element destroyed and some valid. This is a problem. Because destructors will be called automatically for all elements - so double destruction.\n\nI this patch I wanted to keep changes to minimum. Need to rewrite entire class to explicit construction/destruction. This should not be hard. Should I do this?",
      "parentUuid": "962c13a7_59c7b8ab",
      "revId": "b2d72cf584ac7279dc65cee4a575e004acbf953b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2302476_142e01c9",
        "filename": "src/common/FastVector.h",
        "patchSetId": 4
      },
      "lineNbr": 216,
      "author": {
        "id": 1564492
      },
      "writtenOn": "2023-02-15T01:29:08Z",
      "side": 1,
      "message": "\u003e Need to rewrite entire class to explicit construction/destruction. This should not be hard. \n\nNeed to remove `class Storage \u003d std::array\u003cT, N\u003e` parameter for such rewrite.",
      "parentUuid": "31199546_df634a24",
      "revId": "b2d72cf584ac7279dc65cee4a575e004acbf953b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f4dd7f7_f8b8b314",
        "filename": "src/common/FastVector.h",
        "patchSetId": 4
      },
      "lineNbr": 216,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2023-02-15T03:17:09Z",
      "side": 1,
      "message": "Ah right I see your point. Let me think it over. It\u0027ll be a lot of error-prone work to switch to using raw memory and placement new/delete.\n\nSo I guess first question is, is this a theoretical fix or are we getting hurt anywhere without the destructor calls? If there is no evidence of this mattering anywhere, I\u0027d say just leave the class be.\n\nOtherwise, the current CL is probably a good compromise as-is.",
      "parentUuid": "d2302476_142e01c9",
      "revId": "b2d72cf584ac7279dc65cee4a575e004acbf953b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}