{
  "comments": [
    {
      "key": {
        "uuid": "f4533225_896b1dee",
        "filename": "src/compiler/translator/Compiler.cpp",
        "patchSetId": 5
      },
      "lineNbr": 261,
      "author": {
        "id": 1160819
      },
      "writtenOn": "2016-08-02T15:02:38Z",
      "side": 1,
      "message": "Actually, I wonder whether this should be moved somewhere else - i.e. in Program or ProgramGL.\nAccording to the spec (ES 4.4.1), it is a link time error not to have the local group size specified.\n\nIf so, then in Shader.cpp I should retrieve from the compiler what\u0027s the local size. Since the input variable does not get stored in the AST, we cannot retrieve it with ShGetAttributes. I would somehow have to retrieve it from TCompiler.\nThere\u0027s a static function GetCompilerFromHandle in ShaderLang.cpp which I can use, but I guess it would be a bad idea to expose it. Should I add a function, i.e. ShIsComputeInputDeclared() ? I guess that wouldn\u0027t be a good idea as well.\n\nEventually, I could save it into the AST and retrieve it with ShGetAttributes.\n\nWhat do you think? Is there a better way?",
      "range": {
        "startLine": 256,
        "startChar": 4,
        "endLine": 261,
        "endChar": 5
      },
      "revId": "a46407237262f1712269d9a7a3587472e1be6bf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d4ef0ec1_6d4cb5cf",
        "filename": "src/compiler/translator/Compiler.cpp",
        "patchSetId": 5
      },
      "lineNbr": 261,
      "author": {
        "id": 1142464
      },
      "writtenOn": "2016-08-03T12:46:17Z",
      "side": 1,
      "message": "Yep, I think a new entry point in ShaderLang.h is needed. I suppose it\u0027s an error to have local work group size 0, so maybe you could add an entry point that returns the size and use zero to indicate that the size is not specified. Getting the size from the shader translator is required either way since it can be queried through the API.\n\nShGetAttributes is definitely a wrong entry point to use for this, \"attributes\" in that context means vertex shader inputs, that used to be called attributes in ESSL 1.00.",
      "parentUuid": "f4533225_896b1dee",
      "range": {
        "startLine": 256,
        "startChar": 4,
        "endLine": 261,
        "endChar": 5
      },
      "revId": "a46407237262f1712269d9a7a3587472e1be6bf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "94be7635_8304de6f",
        "filename": "src/compiler/translator/Compiler.cpp",
        "patchSetId": 5
      },
      "lineNbr": 261,
      "author": {
        "id": 1160819
      },
      "writtenOn": "2016-08-04T11:55:49Z",
      "side": 1,
      "message": "Added the new entry point. It returns an array\u003cint,3\u003e containing the local size values.\n-1 would be undeclared.",
      "parentUuid": "d4ef0ec1_6d4cb5cf",
      "range": {
        "startLine": 256,
        "startChar": 4,
        "endLine": 261,
        "endChar": 5
      },
      "revId": "a46407237262f1712269d9a7a3587472e1be6bf8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}