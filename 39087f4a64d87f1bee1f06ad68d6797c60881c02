{
  "comments": [
    {
      "key": {
        "uuid": "0ac638b2_f9f2e2b6",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 888,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-02-24T17:54:35Z",
      "side": 0,
      "message": "why\u0027d you remove this check? shouldn\u0027t we keep the conversion if the index buffer is not dirty?",
      "range": {
        "startLine": 887,
        "startChar": 59,
        "endLine": 888,
        "endChar": 54
      },
      "revId": "39087f4a64d87f1bee1f06ad68d6797c60881c02",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b80161a_ccc2a856",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 888,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-02-24T20:14:13Z",
      "side": 0,
      "message": "I still have it, but have split it out to its own if statement in line 903. The reason is that for CPU convert I am only converting what needed, which means  if indexCount changes, I still have to reconvert again, and I do not have code tracking indexCount change. So for CPU path, I basically is falling back to non-elementBuffer code path that always does the conversion. Like I said, for the usage I am seeing this actually not bad at all. Convert 4 indices form UB to US is cheap enough to acceptable (and is some other native drivers do as well). I can do another effort try to do whole buffer conversion at once and able to use the dirty bit check as well, I will put on my todo list as lower priority once all the big perf hurdles go away.",
      "parentUuid": "0ac638b2_f9f2e2b6",
      "range": {
        "startLine": 887,
        "startChar": 59,
        "endLine": 888,
        "endChar": 54
      },
      "revId": "39087f4a64d87f1bee1f06ad68d6797c60881c02",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2dfd3ac0_19c668e6",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 888,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-02-24T20:34:43Z",
      "side": 0,
      "message": "Ah I see. Maybe we can switch to convert the whole buffer instead. Is that OK with you?",
      "parentUuid": "3b80161a_ccc2a856",
      "range": {
        "startLine": 887,
        "startChar": 59,
        "endLine": 888,
        "endChar": 54
      },
      "revId": "39087f4a64d87f1bee1f06ad68d6797c60881c02",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22b41a2d_35ae6d98",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 888,
      "author": {
        "id": 1329751
      },
      "writtenOn": "2020-02-24T20:35:10Z",
      "side": 0,
      "message": "Or I should say, does that keep the same speed?",
      "parentUuid": "2dfd3ac0_19c668e6",
      "range": {
        "startLine": 887,
        "startChar": 59,
        "endLine": 888,
        "endChar": 54
      },
      "revId": "39087f4a64d87f1bee1f06ad68d6797c60881c02",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0977d9a_9a53d136",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 4
      },
      "lineNbr": 888,
      "author": {
        "id": 1392020
      },
      "writtenOn": "2020-02-24T21:29:16Z",
      "side": 0,
      "message": "I am not seeing any speed difference since they only draw a quad (which is typically the reason people use unsigned byte). I have some test failures with converting whole buffer (the previous patch that uses conversions), that is why I opt for this simpler change instead, at least for now.",
      "parentUuid": "22b41a2d_35ae6d98",
      "range": {
        "startLine": 887,
        "startChar": 59,
        "endLine": 888,
        "endChar": 54
      },
      "revId": "39087f4a64d87f1bee1f06ad68d6797c60881c02",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}