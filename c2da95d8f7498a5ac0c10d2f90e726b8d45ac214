{
  "comments": [
    {
      "key": {
        "uuid": "135425e3_2ad953eb",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 491,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-07-07T20:33:22Z",
      "side": 1,
      "message": "nit: no \u0027 \u0027",
      "range": {
        "startLine": 491,
        "startChar": 15,
        "endLine": 491,
        "endChar": 16
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "534a1d43_4fc0621f",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 491,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2015-07-08T18:52:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "135425e3_2ad953eb",
      "range": {
        "startLine": 491,
        "startChar": 15,
        "endLine": 491,
        "endChar": 16
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "135425e3_aaeb8374",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 494,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-07-07T20:33:22Z",
      "side": 1,
      "message": "make this a local constant at the top, kRunDiscardFrequency",
      "range": {
        "startLine": 494,
        "startChar": 22,
        "endLine": 494,
        "endChar": 24
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f356b1ec_31c9c39d",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 494,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2015-07-08T18:52:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "135425e3_aaeb8374",
      "range": {
        "startLine": 494,
        "startChar": 22,
        "endLine": 494,
        "endChar": 24
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "135425e3_eb9d8a42",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 508,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2015-07-08T15:00:03Z",
      "side": 1,
      "message": "Why iterate backwards here? The loop always covers the same range.",
      "range": {
        "startLine": 508,
        "startChar": 4,
        "endLine": 508,
        "endChar": 54
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "534a1d43_8fb40abc",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 508,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2015-07-08T18:52:28Z",
      "side": 1,
      "message": "The goal is to find GPU allocated storage in priority, I reordered the BufferUsage enum so that the CPU allocated storages are 0 and 1. I am not sure how to efficiently static_assert on that though.\nReordered to put CPU storage at the end of the enum (so that we can go from 0 to BUFFER_USAGE_COUNT - 1) and added a comment both here and next to the enum.",
      "parentUuid": "135425e3_eb9d8a42",
      "range": {
        "startLine": 508,
        "startChar": 4,
        "endLine": 508,
        "endChar": 54
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f356b1ec_bee02510",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 523,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-07-07T20:33:22Z",
      "side": 1,
      "message": "put this at the top with kDiscardFrequency, kDiscardUsageLimit",
      "range": {
        "startLine": 523,
        "startChar": 4,
        "endLine": 523,
        "endChar": 39
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "534a1d43_4fd6a2ba",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 523,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2015-07-08T18:52:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f356b1ec_bee02510",
      "range": {
        "startLine": 523,
        "startChar": 4,
        "endLine": 523,
        "endChar": 39
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "534a1d43_e64b062e",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.h",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-07-07T20:33:22Z",
      "side": 1,
      "message": "this isn\u0027t really garbage collection so much as discadable memory. I would say discardStaleBuffers would be more accurate.",
      "range": {
        "startLine": 66,
        "startChar": 9,
        "endLine": 66,
        "endChar": 14
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "736d61b3_e73db398",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Buffer11.h",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2015-07-08T18:52:28Z",
      "side": 1,
      "message": "Went with discardStaleCopies\nDone",
      "parentUuid": "534a1d43_e64b062e",
      "range": {
        "startLine": 66,
        "startChar": 9,
        "endLine": 66,
        "endChar": 14
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f356b1ec_fe154d77",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 3842,
      "author": {
        "id": 1105324
      },
      "writtenOn": "2015-07-07T20:33:22Z",
      "side": 1,
      "message": "this seems pretty messy, with all the hard-coded constants and magical values. is this solely to clean up buffers that are sitting in the background not being used? It seems like your \"GC\" in Buffer11 should clean up all buffers that are being used for rendering.",
      "range": {
        "startLine": 3823,
        "startChar": 0,
        "endLine": 3842,
        "endChar": 1
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "135425e3_abb462bb",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 3842,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2015-07-08T15:00:03Z",
      "side": 1,
      "message": "We do want to be able to clean up buffers that aren\u0027t being used anymore.  Unreferenced buffers would keep any extra copies of their data forever otherwise.\n\nAgreed that this needs to be cleaned up, the constants should have names and descriptions.",
      "parentUuid": "f356b1ec_fe154d77",
      "range": {
        "startLine": 3823,
        "startChar": 0,
        "endLine": 3842,
        "endChar": 1
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f80dae2c_63cead28",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.cpp",
        "patchSetId": 5
      },
      "lineNbr": 3842,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2015-07-08T18:52:28Z",
      "side": 1,
      "message": "Prettified the code a little bit.",
      "parentUuid": "135425e3_abb462bb",
      "range": {
        "startLine": 3823,
        "startChar": 0,
        "endLine": 3842,
        "endChar": 1
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "135425e3_cb7fe65d",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.h",
        "patchSetId": 5
      },
      "lineNbr": 273,
      "author": {
        "id": 1105284
      },
      "writtenOn": "2015-07-08T15:00:03Z",
      "side": 1,
      "message": "It looks like this is not called from anywhere.",
      "range": {
        "startLine": 273,
        "startChar": 4,
        "endLine": 273,
        "endChar": 49
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "534a1d43_cff0d25f",
        "filename": "src/libANGLE/renderer/d3d/d3d11/Renderer11.h",
        "patchSetId": 5
      },
      "lineNbr": 273,
      "author": {
        "id": 1119849
      },
      "writtenOn": "2015-07-08T18:52:28Z",
      "side": 1,
      "message": "Added a call in Buffer11::~Buffer11\nDone",
      "parentUuid": "135425e3_cb7fe65d",
      "range": {
        "startLine": 273,
        "startChar": 4,
        "endLine": 273,
        "endChar": 49
      },
      "revId": "c2da95d8f7498a5ac0c10d2f90e726b8d45ac214",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}