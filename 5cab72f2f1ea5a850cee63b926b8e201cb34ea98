{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "31297a64_7dc34d28",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1228974
      },
      "writtenOn": "2022-01-03T13:05:29Z",
      "side": 1,
      "message": "Shahbaz Youssefi, you mentioned we need the following tests -\n\nThe drawing tests are all over the place, any would do. Can use the essl1_shaders::fs::Checkered() shader to make sure flip is working.\nThe blit/resolve stuff can be found in BlitFramebufferANGLETest.cpp\nThe copy tex image stuff can be found in CopyTexImageTest.cpp",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5f16e541_5976efa6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-03T20:19:19Z",
      "side": 1,
      "message": "Thanks for adding tests, I know I\u0027m asking for many, but they are much needed and very much appreciated :)",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1734a7ea_54416bc4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1228974
      },
      "writtenOn": "2022-01-05T11:00:41Z",
      "side": 1,
      "message": "Thank you. I understand the need of these tests. I\u0027ll let you know once the tests are complete.",
      "parentUuid": "5f16e541_5976efa6",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78bc7130_f10f6b83",
        "filename": "src/tests/gl_tests/BlitFramebufferANGLETest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 523,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-03T20:19:19Z",
      "side": 1,
      "message": "See comment in FramebufferTest.cpp. If you make a standalone basic flipped-draw test, this section of the test becomes unnecessary (since it\u0027s not testing flipped blits)",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41c01e93_af4c4f1f",
        "filename": "src/tests/gl_tests/BlitFramebufferANGLETest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 523,
      "author": {
        "id": 1228974
      },
      "writtenOn": "2022-01-07T14:29:46Z",
      "side": 1,
      "message": "Ok. removed. Please check",
      "parentUuid": "78bc7130_f10f6b83",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a18f3f0c_f122befe",
        "filename": "src/tests/gl_tests/BlitFramebufferANGLETest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 523,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-07T21:41:00Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "41c01e93_af4c4f1f",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "355ad583_2a328919",
        "filename": "src/tests/gl_tests/BlitFramebufferANGLETest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 552,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-03T20:19:19Z",
      "side": 1,
      "message": "Suggestions:\n\n- Please add three variants; src is flipped, dst is flipped and both are flipped,\n- Make the fbos have different sizes,\n- And do partial blits (see comment in FramebufferTest.cpp)",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a72fa4b5_251f783f",
        "filename": "src/tests/gl_tests/BlitFramebufferANGLETest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 552,
      "author": {
        "id": 1228974
      },
      "writtenOn": "2022-01-07T14:29:46Z",
      "side": 1,
      "message": "I think I have added those based on your comments in FrameBufferTest. If not, please tell me which one are still missing :) thanks.",
      "parentUuid": "355ad583_2a328919",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1fa1968b_1ad2e12d",
        "filename": "src/tests/gl_tests/BlitFramebufferANGLETest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 552,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-07T21:41:00Z",
      "side": 1,
      "message": "The tests in FramebufferTest are good, but they _resolve_. It\u0027s glBlitFramebuffer, but that function does two things based on whether source is MSAA or not!\n\nThe tests here would instead _blit_ which may take a different path in the implementation. Feel free to also move the resolve tests to this file.",
      "parentUuid": "a72fa4b5_251f783f",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e86e7716_29958668",
        "filename": "src/tests/gl_tests/BlitFramebufferANGLETest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 552,
      "author": {
        "id": 1228974
      },
      "writtenOn": "2022-01-10T15:19:28Z",
      "side": 1,
      "message": "I realized they are basically the same as BlitColorWithMesaYFlipSrc, BlitColorWithMesaYFlipDst, BlitColorWithMesaYFlipSrcDst. Those should cover all the suggestions including flipped src, dst, src/dst, different bfo size and also partial blits. I removed some tests from FramebufferTest.",
      "parentUuid": "1fa1968b_1ad2e12d",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6fdf123_2a0f51b3",
        "filename": "src/tests/gl_tests/FramebufferTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1935,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-03T20:19:19Z",
      "side": 1,
      "message": "I suggest making a test just up to this part; i.e. basic test drawing to flipped fbo.",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c427c519_46152955",
        "filename": "src/tests/gl_tests/FramebufferTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1935,
      "author": {
        "id": 1228974
      },
      "writtenOn": "2022-01-07T14:29:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b6fdf123_2a0f51b3",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b068e28_1bf4fdc3",
        "filename": "src/tests/gl_tests/FramebufferTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1948,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-03T20:19:19Z",
      "side": 1,
      "message": "For this test, I suggest four variants:\n\n- Draw flipped, resolve with read fbo flipped\n- Draw non-flipped, resolve with read fbo flipped\n- Draw non-flipped, resolve with draw fbo flipped\n- Draw non-flipped, resolve with both read and draw fbos flipped\n\nThe first one could exercise a resolve-through-subpass optimization in Vulkan (so it\u0027s a special and different test from the others). The others make sure resolve works with either src or dst flipped.\n\n---\n\nAlso, could you please make sure the blits are not full-size? That makes sure any CPU-side math handles the y-flip correctly when calculating the y offsets.",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8e6f167_b0b54b65",
        "filename": "src/tests/gl_tests/FramebufferTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1948,
      "author": {
        "id": 1228974
      },
      "writtenOn": "2022-01-07T14:29:46Z",
      "side": 1,
      "message": "I added new tests.\n\n\u003e Also, could you please make sure the blits are not full-size? That makes sure any CPU-side math handles the y-flip correctly when calculating the y offsets.\n\nI tried to do that. Though, I\u0027m not sure how to calculate pixel expectations in this case. I used the values I got after running the tests with not-full-size blits. Can you please check? Thanks!\n\n\u003e The first one could exercise a resolve-through-subpass optimization in Vulkan (so it\u0027s a special and different test from the others).\n\nI\u0027m not sure I understand this. What\u0027s required for that? The basic test is called BasicDrawToFBOFlipped now. Is that what you meant? Sorry for stupid questions.",
      "parentUuid": "6b068e28_1bf4fdc3",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f521e5b9_012c3573",
        "filename": "src/tests/gl_tests/FramebufferTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1948,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-07T21:41:00Z",
      "side": 1,
      "message": "Re: pixel values. Really doesn\u0027t matter as long as they are more or less what\u0027s expected (based on your knowledge of what\u0027s flipped and not). The error threshold should make sure we don\u0027t have to find the exact value.\n\n\u003e \u003e The first one could exercise a resolve-through-subpass optimization in Vulkan (so it\u0027s a special and different test from the others).\n\n\u003e I\u0027m not sure I understand this. What\u0027s required for that? The basic test is called BasicDrawToFBOFlipped now. Is that what you meant? Sorry for stupid questions.\n\nI was maybe being overly explicative. I was trying to make it clear that the first case `Draw flipped, resolve with read fbo flipped` is importantly different from the second (`Draw non-flipped, resolve with read fbo flipped`) even if the main part (resolve) seems to be the same 😊",
      "parentUuid": "c8e6f167_b0b54b65",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81b7757c_044c3093",
        "filename": "src/tests/gl_tests/FramebufferTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1948,
      "author": {
        "id": 1228974
      },
      "writtenOn": "2022-01-10T15:19:28Z",
      "side": 1,
      "message": "Is it sufficient to have BlitColorWithMesaYFlipSrc, BlitColorWithMesaYFlipDst, BlitColorWithMesaYFlipSrcDst? Or do you also want to have blit/resolve with msaa + y-flip? I removed these tests, but I can restore them if needed.",
      "parentUuid": "f521e5b9_012c3573",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4732b1b4_90cfc5fc",
        "filename": "src/tests/gl_tests/FramebufferTest.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1948,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-01-10T19:48:26Z",
      "side": 1,
      "message": "The test were most definitely useful. Blit with MSAA is an entirely different thing from Blit without MSAA (even if they both use glBlitFramebuffer). I\u0027d only suggest moving them to BlitFramebufferANGLETest.cpp, but yes please restore them.",
      "parentUuid": "81b7757c_044c3093",
      "revId": "5cab72f2f1ea5a850cee63b926b8e201cb34ea98",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}