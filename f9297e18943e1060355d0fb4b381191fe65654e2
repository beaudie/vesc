{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6651c8fc_248134b3",
        "filename": "src/compiler/translator/BaseTypes.h",
        "patchSetId": 10
      },
      "lineNbr": 1358,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "nit: I\u0027d add `\u0026\u0026 !pushConstant` here, though not a bug currently.",
      "range": {
        "startLine": 1358,
        "startChar": 9,
        "endLine": 1358,
        "endChar": 16
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "56e5c426_22b98b0a",
        "filename": "src/compiler/translator/BaseTypes.h",
        "patchSetId": 10
      },
      "lineNbr": 1358,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6651c8fc_248134b3",
      "range": {
        "startLine": 1358,
        "startChar": 9,
        "endLine": 1358,
        "endChar": 16
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d633dae1_465a4e8c",
        "filename": "src/compiler/translator/OutputSPIRV.cpp",
        "patchSetId": 10
      },
      "lineNbr": 489,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "Suggest `ASSERT(type.getInterfaceBlock() !\u003d nullptr);` here.",
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17cf15d3_bc0560df",
        "filename": "src/compiler/translator/OutputSPIRV.cpp",
        "patchSetId": 10
      },
      "lineNbr": 489,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d633dae1_465a4e8c",
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5fc405a7_4907d460",
        "filename": "src/compiler/translator/OutputSPIRV.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6006,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "Instead, please move this inside `writeInterfaceVariableDecorations`. For now, `needsSetBinding` would add `\u0026\u0026 !pushConstant`. Later, we may have to add decorations due to push constants offset.",
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "57c60072_4037ab30",
        "filename": "src/compiler/translator/OutputSPIRV.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6006,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Moved to `needsSetBinding` in `writeInterfaceVariableDecorations()`",
      "parentUuid": "5fc405a7_4907d460",
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8353feff_e2d82e27",
        "filename": "src/compiler/translator/OutputVulkanGLSL.cpp",
        "patchSetId": 10
      },
      "lineNbr": 45,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "Is this necessary? None of the qualifiers below should have been tagged with push constants",
      "range": {
        "startLine": 45,
        "startChar": 8,
        "endLine": 45,
        "endChar": 26
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b8077a5_fff75506",
        "filename": "src/compiler/translator/OutputVulkanGLSL.cpp",
        "patchSetId": 10
      },
      "lineNbr": 45,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Removed",
      "parentUuid": "8353feff_e2d82e27",
      "range": {
        "startLine": 45,
        "startChar": 8,
        "endLine": 45,
        "endChar": 26
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25b9a96f_bc57960b",
        "filename": "src/compiler/translator/OutputVulkanGLSL.cpp",
        "patchSetId": 10
      },
      "lineNbr": 80,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "nit: move up to line `64`.",
      "range": {
        "startLine": 80,
        "startChar": 12,
        "endLine": 80,
        "endChar": 33
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "258b66ca_74165490",
        "filename": "src/compiler/translator/OutputVulkanGLSL.cpp",
        "patchSetId": 10
      },
      "lineNbr": 80,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "25b9a96f_bc57960b",
      "range": {
        "startLine": 80,
        "startChar": 12,
        "endLine": 80,
        "endChar": 33
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "668d910e_c757872f",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 746,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "Nice, I had been meaning to point this out. Do you happen to know if any tests failed without this? Just want to make sure someone doesn\u0027t accidentally remove it.",
      "range": {
        "startLine": 746,
        "startChar": 8,
        "endLine": 746,
        "endChar": 33
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff47eb5f_ce94888b",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 746,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Some tests seem to be failing without this flag here, mostly Swiftshader.",
      "parentUuid": "668d910e_c757872f",
      "range": {
        "startLine": 746,
        "startChar": 8,
        "endLine": 746,
        "endChar": 33
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "da9acc30_6c5859c2",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 746,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-08-03T03:02:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ff47eb5f_ce94888b",
      "range": {
        "startLine": 746,
        "startChar": 8,
        "endLine": 746,
        "endChar": 33
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a2002da_18cef678",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 5716,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "nit: a little less verbose:\n\n```\nif (executable !\u003d nullptr \u0026\u0026 executable-\u003ehasUniformBuffers())\n{\n    mGraphicsDirtyBits.set(DIRTY_BIT_DESCRIPTOR_SETS);\n}\n```\n\nSame for compute below",
      "range": {
        "startLine": 5707,
        "startChar": 0,
        "endLine": 5716,
        "endChar": 5
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48e00249_03e7a8af",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 5716,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Thanks. Updated.",
      "parentUuid": "1a2002da_18cef678",
      "range": {
        "startLine": 5707,
        "startChar": 0,
        "endLine": 5716,
        "endChar": 5
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4dcc0dc1_3a8944e6",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6083,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "No need for `new`. Just put this on the stack!",
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4de7d326_5572c524",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6083,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4dcc0dc1_3a8944e6",
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4df19858_3859e803",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6171,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "No need for compute, these are graphics uniforms",
      "range": {
        "startLine": 6171,
        "startChar": 69,
        "endLine": 6171,
        "endChar": 96
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ccc6b59_a2fadb26",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6171,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Updated.",
      "parentUuid": "4df19858_3859e803",
      "range": {
        "startLine": 6171,
        "startChar": 69,
        "endLine": 6171,
        "endChar": 96
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8a379c7_c618343a",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6181,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "Again, no need for `new`",
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9b955459_a09aad29",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6181,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c8a379c7_c618343a",
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef12b671_6d319e04",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6195,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "No need for graphics stages",
      "range": {
        "startLine": 6195,
        "startChar": 8,
        "endLine": 6195,
        "endChar": 67
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02cbdc1a_88fa2159",
        "filename": "src/libANGLE/renderer/vulkan/ContextVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 6195,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Updated.",
      "parentUuid": "ef12b671_6d319e04",
      "range": {
        "startLine": 6195,
        "startChar": 8,
        "endLine": 6195,
        "endChar": 67
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "55b7bdf5_9cc79aa6",
        "filename": "src/libANGLE/renderer/vulkan/ProgramExecutableVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1226,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-07-29T20:57:22Z",
      "side": 1,
      "message": "Use this instead to know which one to use:\n\n```\nconst bool isCompute \u003d glExecutable.hasLinkedShaderStage(gl::ShaderType::Compute);\n```\n\nThen set the size and stages based on compute vs graphics.",
      "range": {
        "startLine": 1225,
        "startChar": 0,
        "endLine": 1226,
        "endChar": 94
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a894554f_c4d716f2",
        "filename": "src/libANGLE/renderer/vulkan/ProgramExecutableVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1226,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-07-30T03:15:20Z",
      "side": 1,
      "message": "Thanks! Updated.\nIn two of the tests (`KHR-GLES31.core.compute_shader.sso-case2` and `KHR-GLES31.core.compute_shader.sso-compute-pipeline`), the pipeline is created multiple times using different shader stages, the last of which contained both compute and graphics stages, leading to `VkGraphicsPipelineCreateInfo-layout` and `VkGraphicsPipelineCreateInfo-offset` VVL errors. So I also updated `ProgramExecutableVk` and `createPipelineLayout()` to contain the used shader stages used for the push constants, so the same flags could be used again when handling the driver uniforms.",
      "parentUuid": "55b7bdf5_9cc79aa6",
      "range": {
        "startLine": 1225,
        "startChar": 0,
        "endLine": 1226,
        "endChar": 94
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67a5a093_53a750ab",
        "filename": "src/libANGLE/renderer/vulkan/ProgramExecutableVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1226,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-08-01T00:12:40Z",
      "side": 1,
      "message": "18 tests (mostly ClearTest) are failing on Windows/Intel GPU after the stage masks were changed from using the graphics and compute bits combined into using them based on the pipeline type (in `ProgramExecutableVk`). Updated them so the graphics pipeline also uses the compute bit, but the compute pipeline only uses the compute bit.",
      "parentUuid": "a894554f_c4d716f2",
      "range": {
        "startLine": 1225,
        "startChar": 0,
        "endLine": 1226,
        "endChar": 94
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ad09e00_840c20de",
        "filename": "src/libANGLE/renderer/vulkan/ProgramExecutableVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1226,
      "author": {
        "id": 1300114
      },
      "writtenOn": "2022-08-03T03:02:24Z",
      "side": 1,
      "message": "This is an oddity of GL program pipelines, which can include but graphics and compute stages. I thought you always have one really usable, but looking into it now I think I understand the complication.\n\nIn that case, let\u0027s keep it simple and go back to what you had; just put both graphics and compute for the push constant stages.\n\nIn `ContextVk::handleDirty*DriverUniforms`, you can also use the push constants for both stages if necessary; there won\u0027t be any confusion due to the separation of graphics and compute by the render pass boundaries.",
      "parentUuid": "67a5a093_53a750ab",
      "range": {
        "startLine": 1225,
        "startChar": 0,
        "endLine": 1226,
        "endChar": 94
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62f26d41_9f587101",
        "filename": "src/libANGLE/renderer/vulkan/ProgramExecutableVk.cpp",
        "patchSetId": 10
      },
      "lineNbr": 1226,
      "author": {
        "id": 1525982
      },
      "writtenOn": "2022-08-03T21:59:18Z",
      "side": 1,
      "message": "I see. Updated the push constant shader stages to supported graphics and compute bits combined. The same flags are used for both `handle*DriverUniforms` functions.",
      "parentUuid": "6ad09e00_840c20de",
      "range": {
        "startLine": 1225,
        "startChar": 0,
        "endLine": 1226,
        "endChar": 94
      },
      "revId": "f9297e18943e1060355d0fb4b381191fe65654e2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}